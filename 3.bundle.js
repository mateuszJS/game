(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{193:function(module,exports,__webpack_require__){"use strict";eval("\n\nvar PIXI = _interopRequireWildcard(__webpack_require__(88));\n\n__webpack_require__(208);\n\nvar _mouseController = _interopRequireDefault(__webpack_require__(209));\n\nvar _UnitFactory = _interopRequireDefault(__webpack_require__(204));\n\nvar _addSortSprites = _interopRequireDefault(__webpack_require__(230));\n\nvar _manageHunters = _interopRequireDefault(__webpack_require__(232));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nvar _influenceMap = _interopRequireDefault(__webpack_require__(205));\n\nvar _ai = _interopRequireDefault(__webpack_require__(233));\n\nvar _icons = _interopRequireDefault(__webpack_require__(200));\n\nvar _Factory = _interopRequireDefault(__webpack_require__(234));\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nvar _resPoint = _interopRequireDefault(__webpack_require__(238));\n\nvar _rust_webpack_bg = __webpack_require__(207);\n\nvar _rust_webpack = __webpack_require__(239);\n\nvar _testingFunction = _interopRequireDefault(__webpack_require__(240));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nconsole.log(_rust_webpack_bg.memory, (0, _rust_webpack.method)(5));\nwindow.testIt = _testingFunction.default;\nvar loader = PIXI.loader;\n\nwindow.startGame = function () {\n  loader.add(['assets/human_idle/human_idle.json', 'assets/human_fire/human_fire.json', 'assets/human_run/human_run.json', 'assets/human_hit/s_h.json', 'assets/human_getup/s_gu.json', 'assets/fire_effect/fireEffect.json', 'assets/laser_effect/laserEffect.json', 'assets/selectMyUnit.png', 'assets/warrior_idle/warrior_idle.json', 'assets/warrior_fire/w_f.json', 'assets/warrior_hit/w_h.json', 'assets/warrior_getup/w_gu.json', 'assets/warrior_run/warrior_run.json', 'assets/warrior_assault_run/a_r.json', 'assets/warrior_assault_fire/a_f.json', 'assets/warrior_assault_idle/a_i.json', 'assets/grenade-icon.png', 'assets/jump-icon.png', 'assets/portal_fx/portal_fx.json', 'assets/gate/gate.json', 'assets/Fire.png', 'assets/smoke.png', 'assets/quarted_of_map.jpg', 'assets/map_center.png', 'assets/warriorAssaultAvatar.png', 'assets/warriorRegularAvatar.png', 'assets/soliderLaserAvatar.png', 'assets/soliderRegularAvatar.png']).load(function () {\n    setup();\n  });\n};\n\nfunction setup() {\n  var factionsCount = 12;\n\n  window.createEmptyArr = function () {\n    var result = [];\n\n    for (var i = 0; i < factionsCount; i++) {\n      result.push([]);\n    }\n\n    return result;\n  };\n\n  window.mapWidth = Math.floor(window.innerWidth / 50) * 50 * 3;\n  window.mapHeight = Math.floor(window.innerHeight / 50) * 50 * 3;\n  window.PIXI = PIXI;\n  var app = new PIXI.Application(window.innerWidth, window.innerHeight, {\n    backgroundColor: 0x09799b\n  });\n  document.body.appendChild(app.view);\n  window.app = app;\n  var fluidContainer = new PIXI.Container();\n  window.app.stage.addChild(fluidContainer);\n  window.app.stage = fluidContainer;\n  var elementsGroup = (0, _addSortSprites.default)();\n\n  _UnitFactory.default.inizializationTypes(elementsGroup);\n\n  _influenceMap.default.init(window.mapWidth, window.mapHeight);\n\n  _icons.default.init();\n\n  window.bulletContainer = [];\n  window.allSquads = [];\n  var resourcesPoints = [];\n\n  var getPos = function getPos(faction) {\n    var angle = faction / factionsCount * (Math.PI * 2);\n    var rp = new _resPoint.default(Math.sin(angle) * 1200 + window.mapWidth / 2, -Math.cos(angle) * 500 + window.mapHeight / 2, elementsGroup);\n    resourcesPoints.push(rp);\n    return {\n      x: Math.sin(angle) * 1800 + window.mapWidth / 2,\n      y: -Math.cos(angle) * 800 + window.mapHeight / 2,\n      angle: angle\n    };\n  };\n\n  var factories = [];\n\n  for (var i = 0; i < factionsCount; i++) {\n    window.allSquads.push([]);\n\n    var _getPos = getPos(i),\n        x = _getPos.x,\n        y = _getPos.y,\n        angle = _getPos.angle;\n\n    var fact = new _Factory.default(i, x, y, angle, elementsGroup);\n    factories.push(fact);\n  }\n\n  var updateStage = (0, _mouseController.default)(); //after assing app to window.app\n  // const Mouse = { x: 0, y: 0, animate: () => {}, update: () => {}, hp:10, radius: 0, state: 6, faction: 0, draw: () => {}};\n  // const updateMouse = (e) => {Mouse.x = e.clientX; Mouse.y = e.clientY};\n  // window.addEventListener('mousemove', updateMouse);\n\n  _ai.default.abilityHistory = window.createEmptyArr(); // let amount = 10000000;\n  // window.testIt(window.rnd, amount, -30, 30);\n  // window.testIt(window.randomLUT, amount, 30);\n\n  window.squadsWereMoved = window.allSquads; //we don't need initia lvalue, because in frist loop all units using window.allUnits to search targets to attack\n\n  window.hunters = window.createEmptyArr(); // Array called \"hunters\" will contains Arrays, and this Arrays will collects Units\n\n  window.hutningTimer = 0; //if time === 0, manageHunters()\n\n  window.timer = 0;\n  window.icons = [];\n  window.flamesUpdaters = [];\n  var units = ['SOLIDER_REGULAR', 'WARRIOR_ASSAULT'];\n\n  var getUnitType = function getUnitType(faction) {\n    return units[Math.floor(Math.random() * 2)];\n  };\n\n  window.userIcons = [];\n\n  var addProductionIcons = function addProductionIcons() {\n    var getUnitAvatars = function getUnitAvatars() {\n      return [{\n        src: 'assets/warriorAssaultAvatar.png',\n        unit: 'WARRIOR_ASSAULT'\n      }, {\n        src: 'assets/soliderRegularAvatar.png',\n        unit: 'SOLIDER_REGULAR'\n      }];\n    };\n\n    getUnitAvatars().map(function (avatarInfo, idx) {\n      var avatar = new PIXI.Sprite(PIXI.loader.resources[avatarInfo.src].texture);\n      avatar.width = _gameSettings.default.ABILITY_ICON_SIZE;\n      avatar.height = _gameSettings.default.ABILITY_ICON_SIZE;\n      avatar.x = factories[0].x;\n      avatar.y = factories[0].y - idx * 60;\n      avatar.interactive = true;\n      avatar.buttonMode = true;\n\n      var onButtonDown = function onButtonDown() {\n        if (factories[0].resources >= 1000) {\n          factories[0].buySquad(avatarInfo.unit);\n        }\n      };\n\n      avatar.on('pointerdown', onButtonDown);\n      window.app.stage.addChild(avatar);\n      window.userIcons.push(avatar);\n    });\n  };\n\n  addProductionIcons(); //=============ADD SMOKES===============//\n\n  window.smokeContainer = {\n    graphics: new PIXI.particles.ParticleContainer(10000, {\n      scale: true,\n      position: false,\n      rotation: false,\n      uvs: false,\n      alpha: true\n    }),\n    elements: []\n  };\n  window.app.stage.addChild(window.smokeContainer.graphics); //=============ADD SMOKES===============//\n\n  var resCounter = document.querySelector('#res-counter');\n  resCounter.style.display = 'block';\n  var loaderNode = document.querySelector(\".loader\");\n  document.body.removeChild(loaderNode);\n  var loaderBackgroundNode = document.querySelector(\".loader-background\");\n  document.body.removeChild(loaderBackgroundNode);\n\n  var updateResCounter = function updateResCounter() {\n    var resX = 0;\n    var increaseFactor = resourcesPoints.map(function (rp) {\n      if (rp.owner === 0) {\n        resX++;\n      }\n    });\n    resCounter.innerHTML = \"\".concat(factories[0].resources, \" /+\").concat(28 + resX * 7);\n  };\n\n  app.ticker.add(function (delta) {\n    updateStage();\n    window.flamesUpdaters.forEach(function (update) {\n      return update();\n    });\n    window.smokeContainer.elements.forEach(_EffectsFactory.default.updateSmoke);\n\n    if (window.timer % 2) {\n      factories.forEach(function (factory, index) {\n        factory.update();\n\n        if (factory.resources >= 1000 && index > 0) {\n          factory.buySquad(getUnitType(index));\n        }\n\n        if (index === 0) {\n          updateResCounter();\n\n          if (factory.resources >= 1000) {\n            window.userIcons.forEach(function (icon) {\n              return icon.alpha = 1;\n            });\n          } else {\n            window.userIcons.forEach(function (icon) {\n              return icon.alpha = 0.5;\n            });\n          }\n        }\n      });\n    }\n\n    if (window.timer % _gameSettings.default.CHANGE_STATE_THROTTLE === 0) {\n      window.allSquads.forEach(function (faction) {\n        return faction.forEach(function (squad) {\n          return squad.updateProps();\n        });\n      });\n      window.squadsWereMoved = window.createEmptyArr();\n      window.allSquads.forEach(function (faction) {\n        faction.forEach(function (squad) {\n          squad.updateStayingStatus();\n\n          if (!squad.isStaying) {\n            window.squadsWereMoved[squad.faction].push(squad);\n          }\n        });\n      });\n      window.allSquads.forEach(function (faction) {\n        faction.forEach(function (squad) {\n          return squad.update();\n        });\n      }); //patrz czy jendsotki na siebie w jednym obrocie pętli nie wpływają\n\n      resourcesPoints.forEach(function (resPoint) {\n        return resPoint.update();\n      });\n    }\n\n    window.allSquads.forEach(function (faction) {\n      faction.forEach(function (squad) {\n        return squad.animate();\n      });\n    });\n    window.bulletContainer.forEach(function (bullet) {\n      return bullet.update();\n    }); //patrz czy pociski na siebie nie wpływaja w jednym obrocie pętli\n\n    if (++window.hutningTimer >= _gameSettings.default.HUNTING_REFRESH_TIME) {\n      window.allSquads.forEach(function (faction) {\n        faction.forEach(function (squad) {\n          return squad.regroupMembers();\n        });\n      });\n      (0, _manageHunters.default)(window.hunters);\n      window.hunters = window.createEmptyArr();\n      window.hutningTimer = 0;\n    }\n\n    if (window.timer === 10) {\n      var maps = _influenceMap.default.calcMapsValues(resourcesPoints); //pass maps here to AiController\n\n\n      window.allSquads.forEach(function (fac, idx) {\n        if (idx !== 0) {\n          _ai.default.manageFaction(idx, maps, resourcesPoints, factories[idx]);\n        }\n      });\n    }\n\n    window.timer++;\n\n    if (window.timer > 60) {\n      window.timer = 0;\n    }\n\n    _icons.default.showIcons();\n\n    window.allSquads.forEach(function (faction) {\n      return faction.forEach(function (squad) {\n        squad.abilities.forEach(function (ability) {\n          if (ability.time > 0) {\n            ability.time--;\n          }\n        });\n      });\n    });\n  });\n}\n\ndocument.querySelector(\"#start-game\").addEventListener(\"click\", function () {\n  var loaderNode = document.querySelector(\".loader\");\n  loaderNode.style.display = 'block';\n  var loaderBackgroundNode = document.querySelector(\".loader-background\");\n  loaderBackgroundNode.style.display = 'block';\n  var videoNode = document.querySelector('#video');\n  document.body.removeChild(videoNode);\n  var title = document.querySelector('#title');\n  document.body.removeChild(title);\n  var buttonNode = document.querySelector('#start-game');\n  document.body.removeChild(buttonNode);\n  window.startGame();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzPzA2NmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFJQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFnQ0E7Ozs7OztBQTlCQSxPQUFPLENBQUMsR0FBUixDQUFZLHVCQUFaLEVBQW9CLDBCQUFPLENBQVAsQ0FBcEI7QUErQkEsTUFBTSxDQUFDLE1BQVAsR0FBZ0Isd0JBQWhCO0lBRVEsTSxHQUFXLEksQ0FBWCxNOztBQUVSLE1BQU0sQ0FBQyxTQUFQLEdBQW1CLFlBQUs7QUFDdkIsUUFBTSxDQUNMLEdBREQsQ0FDSyxDQUNKLG1DQURJLEVBRUosbUNBRkksRUFHSixpQ0FISSxFQUlKLDJCQUpJLEVBS0osOEJBTEksRUFNSixvQ0FOSSxFQU9KLHNDQVBJLEVBUUoseUJBUkksRUFTSix1Q0FUSSxFQVVKLDhCQVZJLEVBV0osNkJBWEksRUFZSixnQ0FaSSxFQWFKLHFDQWJJLEVBY0oscUNBZEksRUFlSixzQ0FmSSxFQWdCSixzQ0FoQkksRUFpQkoseUJBakJJLEVBa0JKLHNCQWxCSSxFQW1CSixpQ0FuQkksRUFvQkosdUJBcEJJLEVBcUJKLGlCQXJCSSxFQXNCSixrQkF0QkksRUF1QkosMkJBdkJJLEVBd0JKLHVCQXhCSSxFQXlCSixpQ0F6QkksRUEwQkosaUNBMUJJLEVBMkJKLCtCQTNCSSxFQTRCSixpQ0E1QkksQ0FETCxFQStCQyxJQS9CRCxDQStCTSxZQUFLO0FBQ1YsU0FBSztBQUNMLEdBakNEO0FBa0NBLENBbkNEOztBQXFDQSxTQUFTLEtBQVQsR0FBYztBQUNiLE1BQU0sYUFBYSxHQUFHLEVBQXRCOztBQUNBLFFBQU0sQ0FBQyxjQUFQLEdBQXdCLFlBQUs7QUFDNUIsUUFBTSxNQUFNLEdBQUcsRUFBZjs7QUFDQSxTQUFJLElBQUksQ0FBQyxHQUFHLENBQVosRUFBZSxDQUFDLEdBQUcsYUFB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QWlCLE9BQWpCLEdBQTJCLE9BQTNCO0FBRUEsTUFBTSxvQkFBb0IsR0FBRyxRQUFRLENBQUMsYUFBVCxDQUF1QixvQkFBdkIsQ0FBN0I7QUFDQSxzQkFBb0IsQ0FBQyxLQUFyQixDQUEyQixPQUEzQixHQUFxQyxPQUFyQztBQUVBLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLFFBQXZCLENBQWxCO0FBQ0EsVUFBUSxDQUFDLElBQVQsQ0FBYyxXQUFkLENBQTBCLFNBQTFCO0FBRUEsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBZDtBQUNBLFVBQVEsQ0FBQyxJQUFULENBQWMsV0FBZCxDQUEwQixLQUExQjtBQUVBLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxhQUFULENBQXVCLGFBQXZCLENBQW5CO0FBQ0EsVUFBUSxDQUFDLElBQVQsQ0FBYyxXQUFkLENBQTBCLFVBQTFCO0FBQ0EsUUFBTSxDQUFDLFNBQVA7QUFDRCxDQWpCRCIsImZpbGUiOiIxOTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0ICdwaXhpLWxheWVycyc7XG5pbXBvcnQgbW91c2VDb250cm9sbGVySW5pdGlhbGl6ZSBmcm9tICd+L21vZHVsZXMvbW91c2VDb250cm9sbGVyJztcbmltcG9ydCBVbml0RmFjdG9yeSBmcm9tICd+L3VuaXRzL1VuaXRGYWN0b3J5JztcbmltcG9ydCBhZGRTb3J0aW5nIGZyb20gJ34vbW9kdWxlcy9hZGRTb3J0U3ByaXRlcyc7XG5pbXBvcnQgU3F1YWQgZnJvbSAnfi91bml0cy9TcXVhZCc7XG5pbXBvcnQgVW5pdCBmcm9tICd+L3VuaXRzL1VuaXQnO1xuaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcbmltcG9ydCBtYW5hZ2VIdW50ZXJzIGZyb20gJ34vbW9kdWxlcy9tYW5hZ2VIdW50ZXJzJztcbmltcG9ydCBTRVRUSU5HUyBmcm9tICdTZXR0aW5ncyc7XG5pbXBvcnQgaW5mbHVlbmNlQ29udHJvbGxlciBmcm9tICd+L2FpL2luZmx1ZW5jZU1hcCc7XG5pbXBvcnQgYWlDb250cm9sbGVyIGZyb20gJ34vYWkvYWknO1xuaW1wb3J0IEljb25zLCB7IElJY29uIH0gZnJvbSAnfi9tb2R1bGVzL2ljb25zJztcbmltcG9ydCBGYWN0b3J5IGZyb20gJ34vZmFjdG9yeS9GYWN0b3J5JztcbmltcG9ydCBFZmZlY3RzRmFjdG9yeSBmcm9tICd+L2VmZmVjdHMvL0VmZmVjdHNGYWN0b3J5JztcbmltcG9ydCBSZXNQb2ludCBmcm9tICd+L21vZHVsZXMvL3Jlc1BvaW50JztcblxuaW1wb3J0IHsgbWVtb3J5IH0gZnJvbSAnLi4vY3JhdGUvcGtnL3J1c3Rfd2VicGFja19iZydcbmltcG9ydCB7IG1ldGhvZCB9IGZyb20gJy4uL2NyYXRlL3BrZy9ydXN0X3dlYnBhY2snXG5cbmNvbnNvbGUubG9nKG1lbW9yeSwgbWV0aG9kKDUpKVxuXG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcblx0XHR0ZXN0SXQ6IGFueVxuXHRcdGFwcDogUElYSS5BcHBsaWNhdGlvblxuXHRcdFBJWEk6IGFueVxuXHRcdGJ1bGxldENvbnRhaW5lcjogYW55XG5cdFx0c3F1YWRzV2VyZU1vdmVkOiBTcXVhZFtdW11cblx0XHRhbGxTcXVhZHM6IFNxdWFkW11bXVxuXHRcdGh1bnRlcnM6IFVuaXRbXVtdXG5cdFx0aHV0bmluZ1RpbWVyOiBudW1iZXJcblx0XHR0aW1lcjogbnVtYmVyXG5cdFx0aWNvbnM6IElJY29uW11cblx0XHRhbGxTZWxlY3RlZFVuaXRzOiBVbml0W11cblx0XHRtYXBXaWR0aDogbnVtYmVyXG5cdFx0bWFwSGVpZ2h0OiBudW1iZXIsXG5cdFx0ZmxhbWVzVXBkYXRlcnM6IGFueVtdLFxuXHRcdHNtb2tlQ29udGFpbmVyOiB7XG5cdFx0XHRncmFwaGljczogUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcblx0XHRcdGVsZW1lbnRzOiBQSVhJLlNwcml0ZVtdXG5cdFx0fSxcblx0XHR1c2VySWNvbnM6IGFueVtdLFxuXHRcdG1hcDogYm9vbGVhblxuXHRcdGNyZWF0ZUVtcHR5QXJyOiAoKSA9PiBhbnlbXVxuXHRcdHN0YXJ0R2FtZTogKCkgPT4gdm9pZFxuXHR9XG59XG5cbmltcG9ydCB0ZXN0SXQgZnJvbSAnLi9tb2R1bGVzL3Rlc3RpbmdGdW5jdGlvbic7XG53aW5kb3cudGVzdEl0ID0gdGVzdEl0O1xuXG5jb25zdCB7IGxvYWRlciB9ID0gUElYSTtcblxud2luZG93LnN0YXJ0R2FtZSA9ICgpID0+IHtcblx0bG9hZGVyXG5cdC5hZGQoW1xuXHRcdCdhc3NldHMvaHVtYW5faWRsZS9odW1hbl9pZGxlLmpzb24nLFxuXHRcdCdhc3NldHMvaHVtYW5fZmlyZS9odW1hbl9maXJlLmpzb24nLFxuXHRcdCdhc3NldHMvaHVtYW5fcnVuL2h1bWFuX3J1bi5qc29uJyxcblx0XHQnYXNzZXRzL2h1bWFuX2hpdC9zX2guanNvbicsXG5cdFx0J2Fzc2V0cy9odW1hbl9nZXR1cC9zX2d1Lmpzb24nLFxuXHRcdCdhc3NldHMvZmlyZV9lZmZlY3QvZmlyZUVmZmVjdC5qc29uJyxcblx0XHQnYXNzZXRzL2xhc2VyX2VmZmVjdC9sYXNlckVmZmVjdC5qc29uJyxcblx0XHQnYXNzZXRzL3NlbGVjdE15VW5pdC5wbmcnLFxuXHRcdCdhc3NldHMvd2Fycmlvcl9pZGxlL3dhcnJpb3JfaWRsZS5qc29uJyxcblx0XHQnYXNzZXRzL3dhcnJpb3JfZmlyZS93X2YuanNvbicsXG5cdFx0J2Fzc2V0cy93YXJyaW9yX2hpdC93X2guanNvbicsXG5cdFx0J2Fzc2V0cy93YXJyaW9yX2dldHVwL3dfZ3UuanNvbicsXG5cdFx0J2Fzc2V0cy93YXJyaW9yX3J1bi93YXJyaW9yX3J1bi5qc29uJyxcblx0XHQnYXNzZXRzL3dhcnJpb3JfYXNzYXVsdF9ydW4vYV9yLmpzb24nLFxuXHRcdCdhc3NldHMvd2Fycmlvcl9hc3NhdWx0X2ZpcmUvYV9mLmpzb24nLFxuXHRcdCdhc3NldHMvd2Fycmlvcl9hc3NhdWx0X2lkbGUvYV9pLmpzb24nLFxuXHRcdCdhc3NldHMvZ3JlbmFkZS1pY29uLnBuZycsXG5cdFx0J2Fzc2V0cy9qdW1wLWljb24ucG5nJyxcblx0XHQnYXNzZXRzL3BvcnRhbF9meC9wb3J0YWxfZnguanNvbicsXG5cdFx0J2Fzc2V0cy9nYXRlL2dhdGUuanNvbicsXG5cdFx0J2Fzc2V0cy9GaXJlLnBuZycsXG5cdFx0J2Fzc2V0cy9zbW9rZS5wbmcnLFxuXHRcdCdhc3NldHMvcXVhcnRlZF9vZl9tYXAuanBnJyxcblx0XHQnYXNzZXRzL21hcF9jZW50ZXIucG5nJyxcblx0XHQnYXNzZXRzL3dhcnJpb3JBc3NhdWx0QXZhdGFyLnBuZycsXG5cdFx0J2Fzc2V0cy93YXJyaW9yUmVndWxhckF2YXRhci5wbmcnLFxuXHRcdCdhc3NldHMvc29saWRlckxhc2VyQXZhdGFyLnBuZycsXG5cdFx0J2Fzc2V0cy9zb2xpZGVyUmVndWxhckF2YXRhci5wbmcnLFxuXHRcdF0pXG5cdC5sb2FkKCgpID0+IHtcblx0XHRzZXR1cCgpXG5cdH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cCgpIHtcblx0Y29uc3QgZmFjdGlvbnNDb3VudCA9IDEyO1xuXHR3aW5kb3cuY3JlYXRlRW1wdHlBcnIgPSAoKSA9PiB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gW107XG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IGZhY3Rpb25zQ291bnQ7IGkrKykge1xuXHRcdFx0cmVzdWx0LnB1c2goW10pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cdHdpbmRvdy5tYXBXaWR0aCA9IE1hdGguZmxvb3Iod2luZG93LmlubmVyV2lkdGggLyA1MCkgKiA1MCAqIDM7XG5cdHdpbmRvdy5tYXBIZWlnaHQgPSBNYXRoLmZsb29yKHdpbmRvdy5pbm5lckhlaWdodCAvIDUwKSAqIDUwICogMztcblx0d2luZG93LlBJWEkgPSBQSVhJO1xuXHRjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbih3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0LCB7YmFja2dyb3VuZENvbG9yIDogMHgwOTc5OWJ9KTtcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG5cdHdpbmRvdy5hcHAgPSBhcHA7XG5cblx0Y29uc3QgZmx1aWRDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcblx0d2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChmbHVpZENvbnRhaW5lcik7XG5cdHdpbmRvdy5hcHAuc3RhZ2UgPSBmbHVpZENvbnRhaW5lcjtcblxuXHRjb25zdCBlbGVtZW50c0dyb3VwOiAoKSA9PiBhbnkgPSBhZGRTb3J0aW5nKCk7XG5cblx0VW5pdEZhY3RvcnkuaW5pemlhbGl6YXRpb25UeXBlcyhlbGVtZW50c0dyb3VwKTtcblx0aW5mbHVlbmNlQ29udHJvbGxlci5pbml0KHdpbmRvdy5tYXBXaWR0aCwgd2luZG93Lm1hcEhlaWdodCk7XG5cdEljb25zLmluaXQoKTtcblxuXG5cdHdpbmRvdy5idWxsZXRDb250YWluZXIgPSBbXTtcblx0d2luZG93LmFsbFNxdWFkcyA9IFtdO1xuXG5cdGNvbnN0IHJlc291cmNlc1BvaW50czogUmVzUG9pbnRbXSA9IFtdO1xuXG5cdGNvbnN0IGdldFBvcyA9IChmYWN0aW9uKSA9PiB7XG5cdFx0Y29uc3QgYW5nbGUgPSAoZmFjdGlvbiAvIGZhY3Rpb25zQ291bnQpICogKE1hdGguUEkgKiAyKTtcblxuXHRcdGNvbnN0IHJwID0gbmV3IFJlc1BvaW50KFxuXHRcdFx0TWF0aC5zaW4oYW5nbGUpICogMTIwMCArIHdpbmRvdy5tYXBXaWR0aCAvIDIsXG5cdFx0XHQtTWF0aC5jb3MoYW5nbGUpICogNTAwICsgd2luZG93Lm1hcEhlaWdodCAvIDIsXG5cdFx0XHRlbGVtZW50c0dyb3VwXG5cdFx0KTtcblxuXHRcdHJlc291cmNlc1BvaW50cy5wdXNoKHJwKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR4OiBNYXRoLnNpbihhbmdsZSkgKiAxODAwICsgd2luZG93Lm1hcFdpZHRoIC8gMixcblx0XHRcdHk6IC1NYXRoLmNvcyhhbmdsZSkgKiA4MDAgKyB3aW5kb3cubWFwSGVpZ2h0IC8gMixcblx0XHRcdGFuZ2xlOiBhbmdsZVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGZhY3RvcmllczpGYWN0b3J5W10gID0gW107XG5cblx0Zm9yKGxldCBpID0gMDsgaSA8IGZhY3Rpb25zQ291bnQ7IGkrKykge1xuXHRcdHdpbmRvdy5hbGxTcXVhZHMucHVzaChbXSk7XG5cdFx0Y29uc3QgeyB4LCB5LCBhbmdsZSB9ID0gZ2V0UG9zKGkpO1xuXHRcdGNvbnN0IGZhY3QgPSBuZXcgRmFjdG9yeShpLCB4LCB5LCBhbmdsZSwgZWxlbWVudHNHcm91cCk7XG5cdFx0ZmFjdG9yaWVzLnB1c2goZmFjdCk7XG5cdH1cblxuXHRjb25zdCB1cGRhdGVTdGFnZSA9IG1vdXNlQ29udHJvbGxlckluaXRpYWxpemUoKTsvL2FmdGVyIGFzc2luZyBhcHAgdG8gd2luZG93LmFwcFxuXG5cdC8vIGNvbnN0IE1vdXNlID0geyB4OiAwLCB5OiAwLCBhbmltYXRlOiAoKSA9PiB7fSwgdXBkYXRlOiAoKSA9PiB7fSwgaHA6MTAsIHJhZGl1czogMCwgc3RhdGU6IDYsIGZhY3Rpb246IDAsIGRyYXc6ICgpID0+IHt9fTtcblx0Ly8gY29uc3QgdXBkYXRlTW91c2UgPSAoZSkgPT4ge01vdXNlLnggPSBlLmNsaWVudFg7IE1vdXNlLnkgPSBlLmNsaWVudFl9O1xuXHQvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdXBkYXRlTW91c2UpO1xuXG5cdGFpQ29udHJvbGxlci5hYmlsaXR5SGlzdG9yeSA9IHdpbmRvdy5jcmVhdGVFbXB0eUFycigpO1xuXHQvLyBsZXQgYW1vdW50ID0gMTAwMDAwMDA7XG5cdC8vIHdpbmRvdy50ZXN0SXQod2luZG93LnJuZCwgYW1vdW50LCAtMzAsIDMwKTtcblx0Ly8gd2luZG93LnRlc3RJdCh3aW5kb3cucmFuZG9tTFVULCBhbW91bnQsIDMwKTtcblx0d2luZG93LnNxdWFkc1dlcmVNb3ZlZCA9IHdpbmRvdy5hbGxTcXVhZHM7XG5cdC8vd2UgZG9uJ3QgbmVlZCBpbml0aWEgbHZhbHVlLCBiZWNhdXNlIGluIGZyaXN0IGxvb3AgYWxsIHVuaXRzIHVzaW5nIHdpbmRvdy5hbGxVbml0cyB0byBzZWFyY2ggdGFyZ2V0cyB0byBhdHRhY2tcblx0d2luZG93Lmh1bnRlcnMgPSB3aW5kb3cuY3JlYXRlRW1wdHlBcnIoKTtcdFx0XHRcblx0Ly8gQXJyYXkgY2FsbGVkIFwiaHVudGVyc1wiIHdpbGwgY29udGFpbnMgQXJyYXlzLCBhbmQgdGhpcyBBcnJheXMgd2lsbCBjb2xsZWN0cyBVbml0c1xuXG5cdHdpbmRvdy5odXRuaW5nVGltZXIgPSAwOy8vaWYgdGltZSA9PT0gMCwgbWFuYWdlSHVudGVycygpXG5cdHdpbmRvdy50aW1lciA9IDA7XG5cdHdpbmRvdy5pY29ucyA9IFtdO1xuXHR3aW5kb3cuZmxhbWVzVXBkYXRlcnMgPSBbXTtcblxuICBjb25zdCB1bml0cyA9IFtcbiAgICAnU09MSURFUl9SRUdVTEFSJyxcbiAgICAnV0FSUklPUl9BU1NBVUxUJ1xuICBdXG5cdGNvbnN0IGdldFVuaXRUeXBlID0gKGZhY3Rpb24pID0+IHtcbiAgICByZXR1cm4gdW5pdHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMildO1xuXHR9XG5cblx0d2luZG93LnVzZXJJY29ucyA9IFtdXG5cdGNvbnN0IGFkZFByb2R1Y3Rpb25JY29ucyA9ICgpID0+IHtcblxuXHRcdGNvbnN0IGdldFVuaXRBdmF0YXJzID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIHNyYzogJ2Fzc2V0cy93YXJyaW9yQXNzYXVsdEF2YXRhci5wbmcnLFxuICAgICAgICAgIHVuaXQ6ICdXQVJSSU9SX0FTU0FVTFQnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzcmM6ICdhc3NldHMvc29saWRlclJlZ3VsYXJBdmF0YXIucG5nJyxcbiAgICAgICAgICB1bml0OiAnU09MSURFUl9SRUdVTEFSJ1xuICAgICAgICB9XG4gICAgICBdXG5cdFx0fVxuXG5cdFx0Z2V0VW5pdEF2YXRhcnMoKS5tYXAoKGF2YXRhckluZm8sIGlkeCkgPT4ge1xuXHRcdFx0Y29uc3QgYXZhdGFyID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkubG9hZGVyLnJlc291cmNlc1thdmF0YXJJbmZvLnNyY10udGV4dHVyZSk7XG5cdFx0XHRhdmF0YXIud2lkdGggPSBTRVRUSU5HUy5BQklMSVRZX0lDT05fU0laRTtcblx0XHRcdGF2YXRhci5oZWlnaHQgPSBTRVRUSU5HUy5BQklMSVRZX0lDT05fU0laRTtcblx0XHRcdGF2YXRhci54ID0gZmFjdG9yaWVzWzBdLng7XG5cdFx0XHRhdmF0YXIueSA9IGZhY3Rvcmllc1swXS55IC0gaWR4ICogNjA7XG5cdFx0XHRhdmF0YXIuaW50ZXJhY3RpdmUgPSB0cnVlO1xuXHRcdFx0YXZhdGFyLmJ1dHRvbk1vZGUgPSB0cnVlO1xuXHRcdFx0Y29uc3Qgb25CdXR0b25Eb3duID0gKCkgPT4ge1xuXHRcdFx0XHRpZihmYWN0b3JpZXNbMF0ucmVzb3VyY2VzID49IDEwMDApIHtcblx0XHRcdFx0XHRmYWN0b3JpZXNbMF0uYnV5U3F1YWQoYXZhdGFySW5mby51bml0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0YXZhdGFyLm9uKCdwb2ludGVyZG93bicsIG9uQnV0dG9uRG93bik7XG5cdFx0XHR3aW5kb3cuYXBwLnN0YWdlLmFkZENoaWxkKGF2YXRhcik7XG5cdFx0XHR3aW5kb3cudXNlckljb25zLnB1c2goYXZhdGFyKTtcblx0XHR9KTtcblx0fVxuXHRhZGRQcm9kdWN0aW9uSWNvbnMoKTtcblxuXHQvLz09PT09PT09PT09PT1BREQgU01PS0VTPT09PT09PT09PT09PT09Ly9cblx0d2luZG93LnNtb2tlQ29udGFpbmVyID0ge1xuXHRcdGdyYXBoaWNzOiBuZXcgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIoMTAwMDAsIHtcblx0XHRcdHNjYWxlOiB0cnVlLFxuXHRcdFx0cG9zaXRpb246IGZhbHNlLFxuXHRcdFx0cm90YXRpb246IGZhbHNlLFxuXHRcdFx0dXZzOiBmYWxzZSxcblx0XHRcdGFscGhhOiB0cnVlXG5cdFx0fSksXG5cdFx0ZWxlbWVudHM6IFtdXG5cdH1cblx0d2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZCh3aW5kb3cuc21va2VDb250YWluZXIuZ3JhcGhpY3MpO1xuXHQvLz09PT09PT09PT09PT1BREQgU01PS0VTPT09PT09PT09PT09PT09Ly9cblxuICBjb25zdCByZXNDb3VudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlcy1jb3VudGVyJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gIHJlc0NvdW50ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcblxuICBjb25zdCBsb2FkZXJOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkZXJcIilcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsb2FkZXJOb2RlKVxuICBjb25zdCBsb2FkZXJCYWNrZ3JvdW5kTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyLWJhY2tncm91bmRcIilcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsb2FkZXJCYWNrZ3JvdW5kTm9kZSlcblxuXG5cdGNvbnN0IHVwZGF0ZVJlc0NvdW50ZXIgPSAoKSA9PiB7XG5cdFx0bGV0IHJlc1ggPSAwO1xuXHRcdGNvbnN0IGluY3JlYXNlRmFjdG9yID0gcmVzb3VyY2VzUG9pbnRzLm1hcChycCA9PiB7XG5cdFx0XHRpZihycC5vd25lciA9PT0gMCkge1xuXHRcdFx0XHRyZXNYKys7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmVzQ291bnRlci5pbm5lckhUTUwgPSAgYCR7ZmFjdG9yaWVzWzBdLnJlc291cmNlc30gLyskezI4ICsgcmVzWCAqIDd9YDtcblx0fVxuXG5cdGFwcC50aWNrZXIuYWRkKGZ1bmN0aW9uKGRlbHRhKSB7XG5cdFx0dXBkYXRlU3RhZ2UoKTtcblx0XHR3aW5kb3cuZmxhbWVzVXBkYXRlcnMuZm9yRWFjaCh1cGRhdGUgPT4gdXBkYXRlKCkpO1xuXHRcdHdpbmRvdy5zbW9rZUNvbnRhaW5lci5lbGVtZW50cy5mb3JFYWNoKEVmZmVjdHNGYWN0b3J5LnVwZGF0ZVNtb2tlKTtcblxuXHRcdGlmKHdpbmRvdy50aW1lciAlIDIpIHtcblx0XHRcdGZhY3Rvcmllcy5mb3JFYWNoKChmYWN0b3J5LCBpbmRleCkgPT4ge1xuXHRcdFx0XHRmYWN0b3J5LnVwZGF0ZSgpO1xuXHRcdFx0XHRpZihmYWN0b3J5LnJlc291cmNlcyA+PSAxMDAwICYmIGluZGV4ID4gMCkge1xuXHRcdFx0XHRcdGZhY3RvcnkuYnV5U3F1YWQoZ2V0VW5pdFR5cGUoaW5kZXgpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihpbmRleCA9PT0gMCkge1xuXHRcdFx0XHRcdHVwZGF0ZVJlc0NvdW50ZXIoKVxuXHRcdFx0XHRcdGlmKGZhY3RvcnkucmVzb3VyY2VzID49IDEwMDApIHtcblx0XHRcdFx0XHRcdHdpbmRvdy51c2VySWNvbnMuZm9yRWFjaChpY29uID0+IGljb24uYWxwaGEgPSAxKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0d2luZG93LnVzZXJJY29ucy5mb3JFYWNoKGljb24gPT4gaWNvbi5hbHBoYSA9IDAuNSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0aWYod2luZG93LnRpbWVyICUgU0VUVElOR1MuQ0hBTkdFX1NUQVRFX1RIUk9UVExFID09PSAwKSB7XG5cdFx0XHR3aW5kb3cuYWxsU3F1YWRzLmZvckVhY2goZmFjdGlvbiA9PlxuXHRcdFx0XHRmYWN0aW9uLmZvckVhY2goc3F1YWQgPT4gc3F1YWQudXBkYXRlUHJvcHMoKSlcblx0XHRcdCk7XG5cblx0XHRcdHdpbmRvdy5zcXVhZHNXZXJlTW92ZWQgPSB3aW5kb3cuY3JlYXRlRW1wdHlBcnIoKVxuXHRcdFx0d2luZG93LmFsbFNxdWFkcy5mb3JFYWNoKGZhY3Rpb24gPT4ge1xuXHRcdFx0XHRmYWN0aW9uLmZvckVhY2goc3F1YWQgPT4ge1xuXHRcdFx0XHRcdHNxdWFkLnVwZGF0ZVN0YXlpbmdTdGF0dXMoKTtcblx0XHRcdFx0XHRpZighc3F1YWQuaXNTdGF5aW5nKSB7XG5cdFx0XHRcdFx0XHR3aW5kb3cuc3F1YWRzV2VyZU1vdmVkW3NxdWFkLmZhY3Rpb25dLnB1c2goc3F1YWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcbiAgICAgIH0pO1xuXG4gICAgICB3aW5kb3cuYWxsU3F1YWRzLmZvckVhY2goZmFjdGlvbiA9PiB7XG5cdFx0XHRcdGZhY3Rpb24uZm9yRWFjaChzcXVhZCA9PiBzcXVhZC51cGRhdGUoKSlcbiAgICAgIH0pXG4gIFxuXHRcdFx0Ly9wYXRyeiBjenkgamVuZHNvdGtpIG5hIHNpZWJpZSB3IGplZG55bSBvYnJvY2llIHDEmXRsaSBuaWUgd3DFgnl3YWrEhVxuXHRcdFx0cmVzb3VyY2VzUG9pbnRzLmZvckVhY2gocmVzUG9pbnQgPT4gcmVzUG9pbnQudXBkYXRlKCkpO1xuICAgIH1cbiAgICBcbiAgICB3aW5kb3cuYWxsU3F1YWRzLmZvckVhY2goZmFjdGlvbiA9PiB7XG4gICAgICBmYWN0aW9uLmZvckVhY2goc3F1YWQgPT4gc3F1YWQuYW5pbWF0ZSgpKVxuICAgIH0pXG5cblx0XHR3aW5kb3cuYnVsbGV0Q29udGFpbmVyLmZvckVhY2goYnVsbGV0ID0+IGJ1bGxldC51cGRhdGUoKSk7Ly9wYXRyeiBjenkgcG9jaXNraSBuYSBzaWViaWUgbmllIHdwxYJ5d2FqYSB3IGplZG55bSBvYnJvY2llIHDEmXRsaVxuXG5cdFx0aWYgKCsrd2luZG93Lmh1dG5pbmdUaW1lciA+PSBTRVRUSU5HUy5IVU5USU5HX1JFRlJFU0hfVElNRSkge1xuICAgICAgd2luZG93LmFsbFNxdWFkcy5mb3JFYWNoKGZhY3Rpb24gPT4ge1xuXHRcdFx0XHRmYWN0aW9uLmZvckVhY2goc3F1YWQgPT4gc3F1YWQucmVncm91cE1lbWJlcnMoKSlcbiAgICAgIH0pXG5cdFx0XHRtYW5hZ2VIdW50ZXJzKHdpbmRvdy5odW50ZXJzKVxuXHRcdFx0d2luZG93Lmh1bnRlcnMgPSB3aW5kb3cuY3JlYXRlRW1wdHlBcnIoKVxuXHRcdFx0d2luZG93Lmh1dG5pbmdUaW1lciA9IDBcblx0XHR9XG5cblx0XHRpZih3aW5kb3cudGltZXIgPT09IDEwKSB7XG5cdFx0XHRjb25zdCBtYXBzID0gaW5mbHVlbmNlQ29udHJvbGxlci5jYWxjTWFwc1ZhbHVlcyhyZXNvdXJjZXNQb2ludHMpO1xuXHRcdFx0Ly9wYXNzIG1hcHMgaGVyZSB0byBBaUNvbnRyb2xsZXJcblx0XHRcdHdpbmRvdy5hbGxTcXVhZHMuZm9yRWFjaCgoZmFjLCBpZHgpID0+IHtcblx0XHRcdFx0aWYoaWR4ICE9PSAwKSB7XG5cdFx0XHRcdFx0YWlDb250cm9sbGVyLm1hbmFnZUZhY3Rpb24oaWR4LCBtYXBzLCByZXNvdXJjZXNQb2ludHMsIGZhY3Rvcmllc1tpZHhdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9XG5cdFx0XG5cdFx0d2luZG93LnRpbWVyKys7XG5cdFx0aWYod2luZG93LnRpbWVyID4gNjApIHtcblx0XHRcdHdpbmRvdy50aW1lciA9IDA7XG5cdFx0fVxuXG5cdFx0SWNvbnMuc2hvd0ljb25zKCk7XG5cblx0XHR3aW5kb3cuYWxsU3F1YWRzLmZvckVhY2goZmFjdGlvbiA9PlxuXHRcdFx0ZmFjdGlvbi5mb3JFYWNoKHNxdWFkID0+IHtcblx0XHRcdFx0c3F1YWQuYWJpbGl0aWVzLmZvckVhY2goYWJpbGl0eSA9PiB7XG5cdFx0XHRcdFx0aWYoYWJpbGl0eS50aW1lID4gMCkge1xuXHRcdFx0XHRcdFx0YWJpbGl0eS50aW1lLS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblx0XHQpO1xuXHR9KTtcbn1cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGFydC1nYW1lXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cbiAgY29uc3QgbG9hZGVyTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyXCIpIGFzIEhUTUxEaXZFbGVtZW50XG4gIGxvYWRlck5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcblxuICBjb25zdCBsb2FkZXJCYWNrZ3JvdW5kTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyLWJhY2tncm91bmRcIikgYXMgSFRNTERpdkVsZW1lbnRcbiAgbG9hZGVyQmFja2dyb3VuZE5vZGUuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcblxuICBjb25zdCB2aWRlb05vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdmlkZW8nKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh2aWRlb05vZGUpXG4gIFxuICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRpdGxlKVxuICBcbiAgY29uc3QgYnV0dG9uTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGFydC1nYW1lJyk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYnV0dG9uTm9kZSlcbiAgd2luZG93LnN0YXJ0R2FtZSgpXG59KTtcblxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///193\n")},194:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar ARRAY_SIZE = 128,\n    ON_THE_FRONT = 0,\n    ON_THE_LEFT = 1,\n    ON_THE_RIGHT = 2,\n    RAW_LUT = Array.from(new Array(ARRAY_SIZE), function () {\n  return Math.random() * 2 - 1;\n}),\n    NORMAL_RANDOM_LUT = _toConsumableArray(RAW_LUT),\n    ABS_LUT = RAW_LUT.map(function (num) {\n  return Math.abs(num);\n});\n\nvar indexLUT = 0;\nvar indexNormalLUT = 0;\nvar indexAbsLUT = 0;\n\nvar Utils =\n/*#__PURE__*/\nfunction () {\n  function Utils() {\n    _classCallCheck(this, Utils);\n  }\n\n  _createClass(Utils, null, [{\n    key: "dis",\n    value: function dis(a, b) {\n      return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n    }\n  }, {\n    key: "ang",\n    value: function ang(a, b) {\n      return Math.atan2(b.y - a.y, b.x - a.x) + 1.571; // + Math.PI/2;\n    }\n  }, {\n    key: "rnd",\n    value: function rnd(a, b) {\n      return Math.floor(Math.random() * (b - a + 1)) + a;\n    }\n  }, {\n    key: "objStaying",\n    value: function objStaying(a) {\n      return a.state < 6;\n    } //in front of, on left or right\n\n  }, {\n    key: "where",\n    value: function where(Ax, Ay, Aa, Bx, By, tolerancja) {\n      var ctg = -1 / Math.tan(Aa),\n          Cx = Math.sin(Aa) + Ax,\n          Cy = -Math.cos(Aa) + Ay;\n      if (Math.abs(ctg * Bx - By + Cy - Cx * ctg) / Math.sqrt(ctg * ctg + 1) < tolerancja) return ON_THE_FRONT;\n      if ((Cy - By) * (Ax - Bx) + (-Cx + Bx) * (Ay - By) < 0) return ON_THE_LEFT;\n      return ON_THE_RIGHT;\n    }\n  }, {\n    key: "removeFromArr",\n    value: function removeFromArr(arr, elem) {\n      var index = arr.indexOf(elem);\n\n      if (index === -1) {\n        //REMOVE AFTER DEVELOPMENT\n        console.error("You are trying to remove element from array, but it doesn\'t exists is array");\n        debugger;\n      }\n\n      arr.splice(index, 1);\n    } //left or right\n\n  }, {\n    key: "side",\n    value: function side(a, b) {\n      var ctg = -1 / Math.tan(a.angle),\n          cx = Math.sin(a.angle) + a.x,\n          cy = -Math.cos(a.angle) + a.y;\n      if ((cy - b.y) * (a.x - b.x) + (-cx + b.x) * (a.y - b.y) < 0) return ON_THE_LEFT;\n      return ON_THE_RIGHT;\n    }\n  }, {\n    key: "getIndexOfTheNearestItem",\n    value: function getIndexOfTheNearestItem(items, point) {\n      if (items.length === 0) {\n        console.error(\'items.length = 0 !!!\');\n      }\n\n      var newarestPoint = items.reduce(function (result, item, index) {\n        var distance = Utils.dis(item, point);\n\n        if (distance < result.distance) {\n          return {\n            distance: distance,\n            index: index\n          };\n        }\n\n        return result;\n      }, {\n        index: 0,\n        distance: Number.MAX_VALUE\n      });\n      return newarestPoint.index;\n    } //---==========CREATE ARRAY WITH RANDOM NUMBERS, NEGATIVE AND POSITIVE==========---//\n\n  }, {\n    key: "randomLUT",\n    value: function randomLUT(count) {\n      return RAW_LUT[++indexLUT % ARRAY_SIZE] * count;\n    }\n  }, {\n    key: "normalRandomLUT",\n    value: function normalRandomLUT(count) {\n      return NORMAL_RANDOM_LUT[++indexNormalLUT % ARRAY_SIZE] * count;\n    }\n  }, {\n    key: "randomAbsLUT",\n    value: function randomAbsLUT(count) {\n      return ABS_LUT[++indexAbsLUT % ARRAY_SIZE] * count;\n    }\n  }]);\n\n  return Utils;\n}();\n\nUtils.calculateCenterPoint = function (items) {\n  var center = {\n    x: 0,\n    y: 0\n  };\n  items.forEach(function (item) {\n    center.x += item.x;\n    center.y += item.y;\n  });\n  center.x /= items.length;\n  center.y /= items.length;\n  return center;\n};\n\n;\n\nfor (var i = 0; i < ARRAY_SIZE / 3; i++) {\n  NORMAL_RANDOM_LUT[Utils.rnd(0, ARRAY_SIZE - 1)] /= 2; //to normalize results, more result near zero\n}\n\nvar _default = Utils;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvVXRpbHMudHM/OWY2ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNLFVBQVUsR0FBVSxHQUExQjtBQUFBLElBQ0csWUFBWSxHQUFVLENBRHpCO0FBQUEsSUFFRyxXQUFXLEdBQVUsQ0FGeEI7QUFBQSxJQUdHLFlBQVksR0FBVyxDQUgxQjtBQUFBLElBSUcsT0FBTyxHQUFpQixLQUFLLENBQUMsSUFBTixDQUFXLElBQUksS0FBSixDQUFVLFVBQVYsQ0FBWCxFQUFrQztBQUFBLFNBQU0sSUFBSSxDQUFDLE1BQUwsS0FBZ0IsQ0FBaEIsR0FBb0IsQ0FBMUI7QUFBQSxDQUFsQyxDQUozQjtBQUFBLElBS0csaUJBQWlCLHNCQUFzQixPQUF0QixDQUxwQjtBQUFBLElBTUcsT0FBTyxHQUFrQixPQUFPLENBQUMsR0FBUixDQUFZLGFBQUc7QUFBQSxTQUFJLElBQUksQ0FBQyxHQUFMLENBQVMsR0FBVCxDQUFKO0FBQUEsQ0FBZixDQU41Qjs7QUFTQSxJQUFJLFFBQVEsR0FBRyxDQUFmO0FBQ0EsSUFBSSxjQUFjLEdBQUcsQ0FBckI7QUFDQSxJQUFJLFdBQVcsR0FBRyxDQUFsQjs7SUFFTSxLOzs7Ozs7Ozs7d0JBRU0sQyxFQUFVLEMsRUFBUTtBQUM1QixhQUFPLElBQUksQ0FBQyxJQUFMLENBQVUsSUFBSSxDQUFDLEdBQUwsQ0FBUyxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQyxDQUFqQixFQUFvQixDQUFwQixJQUF5QixJQUFJLENBQUMsR0FBTCxDQUFTLENBQUMsQ0FBQyxDQUFGLEdBQU0sQ0FBQyxDQUFDLENBQWpCLEVBQW9CLENBQXBCLENBQW5DLENBQVA7QUFDQTs7O3dCQUVVLEMsRUFBVSxDLEVBQVE7QUFDNUIsYUFBTyxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsQ0FBQyxDQUFGLEdBQU0sQ0FBQyxDQUFDLENBQW5CLEVBQXNCLENBQUMsQ0FBQyxDQUFG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TixDQUFVLENBQVYsRUFBWSxVQUFVLEdBQUcsQ0FBekIsQ0FBRCxDQUFqQixJQUFrRCxDQUFsRCxDQURxQyxDQUNlO0FBQ3BEOztlQUVjLEsiLCJmaWxlIjoiMTk0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXQgZnJvbSBcIn4vdW5pdHMvVW5pdFwiO1xuXG5jb25zdCBBUlJBWV9TSVpFOm51bWJlciA9IDEyOCxcblx0ICBPTl9USEVfRlJPTlQ6bnVtYmVyID0gMCxcblx0ICBPTl9USEVfTEVGVDpudW1iZXIgPSAxLFxuXHQgIE9OX1RIRV9SSUdIVDogbnVtYmVyID0gMixcblx0ICBSQVdfTFVUOkFycmF5PG51bWJlcj4gPSBBcnJheS5mcm9tKG5ldyBBcnJheShBUlJBWV9TSVpFKSwgKCkgPT4gTWF0aC5yYW5kb20oKSAqIDIgLSAxKSxcblx0ICBOT1JNQUxfUkFORE9NX0xVVDpBcnJheTxudW1iZXI+ICA9IFsuLi5SQVdfTFVUXSxcblx0ICBBQlNfTFVUOkFycmF5PG51bWJlcj4gID0gUkFXX0xVVC5tYXAobnVtID0+IE1hdGguYWJzKG51bSkpO1xuXHQgIFxuXG5sZXQgaW5kZXhMVVQgPSAwO1xubGV0IGluZGV4Tm9ybWFsTFVUID0gMDtcbmxldCBpbmRleEFic0xVVCA9IDA7XG5cbmNsYXNzIFV0aWxzIHtcblxuXHRzdGF0aWMgZGlzKGE6IFBvaW50LCBiOiBQb2ludCkge1xuXHRcdHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYS54IC0gYi54LCAyKSArIE1hdGgucG93KGEueSAtIGIueSwgMikpO1xuXHR9XG5cblx0c3RhdGljIGFuZyhhOiBQb2ludCwgYjogUG9pbnQpIHtcblx0XHRyZXR1cm4gTWF0aC5hdGFuMihiLnkgLSBhLnksIGIueCAtIGEueCkgKyAxLjU3MTsvLyArIE1hdGguUEkvMjtcblx0fVxuXG5cdHN0YXRpYyBybmQoYTogbnVtYmVyLCBiOiBudW1iZXIpIDogbnVtYmVyIHtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihiLWErMSkpK2E7XG5cdH1cblx0XG5cdHN0YXRpYyBvYmpTdGF5aW5nKGE6IFVuaXQpIDogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGEuc3RhdGUgPCA2O1xuXHR9XG5cdC8vaW4gZnJvbnQgb2YsIG9uIGxlZnQgb3IgcmlnaHRcblx0c3RhdGljIHdoZXJlKEF4OiBudW1iZXIsIEF5OiBudW1iZXIsIEFhOiBudW1iZXIsIEJ4OiBudW1iZXIsIEJ5OiBudW1iZXIsIHRvbGVyYW5jamE6IG51bWJlcikgOiBudW1iZXIge1xuXHQgICAgY29uc3QgY3RnOm51bWJlciA9IC0xL01hdGgudGFuKEFhKSxcblx0ICAgIFx0ICBDeDpudW1iZXIgPSBNYXRoLnNpbihBYSkrQXgsXG5cdFx0XHQgIEN5Om51bWJlciA9IC1NYXRoLmNvcyhBYSkrQXk7XG5cblx0XHRpZihNYXRoLmFicyhjdGcqQnggLSBCeSArIEN5IC0gQ3gqY3RnKS9NYXRoLnNxcnQoY3RnKmN0ZysxKTx0b2xlcmFuY2phKSByZXR1cm4gT05fVEhFX0ZST05UO1xuXHRcdGlmKChDeSAtIEJ5KSooQXggLSBCeCkgKyAoLUN4ICsgQngpKihBeSAtIEJ5KSA8IDApIHJldHVybiBPTl9USEVfTEVGVDtcblx0XHRyZXR1cm4gT05fVEhFX1JJR0hUO1xuXHR9XG5cblx0c3RhdGljIHJlbW92ZUZyb21BcnIoYXJyOiBhbnlbXSwgZWxlbTogYW55KTogdm9pZCB7XG5cdFx0Y29uc3QgaW5kZXg6IG51bWJlciA9IGFyci5pbmRleE9mKGVsZW0pO1xuXHRcdGlmKGluZGV4ID09PSAtMSkgey8vUkVNT1ZFIEFGVEVSIERFVkVMT1BNRU5UXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiWW91IGFyZSB0cnlpbmcgdG8gcmVtb3ZlIGVsZW1lbnQgZnJvbSBhcnJheSwgYnV0IGl0IGRvZXNuJ3QgZXhpc3RzIGlzIGFycmF5XCIpO1xuXHRcdFx0ZGVidWdnZXI7XG5cdFx0fVxuXHRcdGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuXHR9XG5cblxuXHQvL2xlZnQgb3IgcmlnaHRcblx0c3RhdGljIHNpZGUoYTogYW55LCBiOiBhbnkpIDogbnVtYmVyIHtcblx0XHRjb25zdCBjdGc6bnVtYmVyID0gLTEvTWF0aC50YW4oYS5hbmdsZSksXG5cdCAgICBcdGN4Om51bWJlciA9IE1hdGguc2luKGEuYW5nbGUpK2EueCxcblx0XHRcdGN5Om51bWJlciA9IC1NYXRoLmNvcyhhLmFuZ2xlKSthLnk7XG5cblx0XHRpZigoY3kgLSBiLnkpKihhLnggLSBiLngpICsgKC1jeCArIGIueCkqKGEueSAtIGIueSkgPCAwKSByZXR1cm4gT05fVEhFX0xFRlQ7XG5cdFx0cmV0dXJuIE9OX1RIRV9SSUdIVDtcblx0fVxuXG4gIHN0YXRpYyBnZXRJbmRleE9mVGhlTmVhcmVzdEl0ZW0oaXRlbXM6IFBvaW50W10sIHBvaW50OiBQb2ludCkgeyAvLyBUT0RPOiByZW1vdmUgaXRlYW0gaW5zdGVhZCBvZiBpbmRleFxuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2l0ZW1zLmxlbmd0aCA9IDAgISEhJylcbiAgICB9XG5cdFx0Y29uc3QgbmV3YXJlc3RQb2ludCA9IGl0ZW1zLnJlZHVjZShcbiAgICAgIChyZXN1bHQsIGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gVXRpbHMuZGlzKGl0ZW0sIHBvaW50KVxuICAgICAgICBpZiAoZGlzdGFuY2UgPCByZXN1bHQuZGlzdGFuY2UpIHtcbiAgICAgICAgICByZXR1cm4geyBkaXN0YW5jZSwgaW5kZXggfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgeyBpbmRleDogMCwgZGlzdGFuY2U6IE51bWJlci5NQVhfVkFMVUUgfVxuICAgIClcblx0XHRyZXR1cm4gbmV3YXJlc3RQb2ludC5pbmRleFxuXHR9XG5cblxuXHRzdGF0aWMgY2FsY3VsYXRlQ2VudGVyUG9pbnQgPSAoaXRlbXM6IFBvaW50W10pIDogUG9pbnQ9PiB7XG5cdFx0Y29uc3QgY2VudGVyID0geyB4OiAwLCB5OiAwIH07XG5cdFxuXHRcdGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRjZW50ZXIueCArPSBpdGVtLng7XG5cdFx0XHRjZW50ZXIueSArPSBpdGVtLnk7XG5cdFx0fSk7XG5cdFxuXHRcdGNlbnRlci54IC89IGl0ZW1zLmxlbmd0aDtcblx0XHRjZW50ZXIueSAvPSBpdGVtcy5sZW5ndGg7XG5cdFxuXHRcdHJldHVybiBjZW50ZXI7XG5cdH1cblxuXHRcblxuXHQvLy0tLT09PT09PT09PT1DUkVBVEUgQVJSQVkgV0lUSCBSQU5ET00gTlVNQkVSUywgTkVHQVRJVkUgQU5EIFBPU0lUSVZFPT09PT09PT09PS0tLS8vXG5cdFxuXHRzdGF0aWMgcmFuZG9tTFVUKGNvdW50Om51bWJlcik6IG51bWJlciB7XG5cdFx0cmV0dXJuIFJBV19MVVRbKytpbmRleExVVCAlIEFSUkFZX1NJWkVdICogY291bnQ7XG5cdH1cblxuXHRzdGF0aWMgbm9ybWFsUmFuZG9tTFVUKGNvdW50OiBudW1iZXIpIDogbnVtYmVyIHtcblx0XHRyZXR1cm4gTk9STUFMX1JBTkRPTV9MVVRbKytpbmRleE5vcm1hbExVVCAlIEFSUkFZX1NJWkVdICogY291bnQ7XG5cdH1cblxuXHRzdGF0aWMgcmFuZG9tQWJzTFVUKGNvdW50Om51bWJlcikgOiBudW1iZXIge1xuXHRcdHJldHVybiBBQlNfTFVUWysraW5kZXhBYnNMVVQgJSBBUlJBWV9TSVpFXSAqIGNvdW50O1xuXHR9XG59O1xuXG5mb3IobGV0IGkgPSAwOyBpIDwgQVJSQVlfU0laRS8zOyBpKyspIHtcblx0Tk9STUFMX1JBTkRPTV9MVVRbVXRpbHMucm5kKDAsQVJSQVlfU0laRSAtIDEpXSAvPSAyOy8vdG8gbm9ybWFsaXplIHJlc3VsdHMsIG1vcmUgcmVzdWx0IG5lYXIgemVyb1xufVxuXG5leHBvcnQgZGVmYXVsdCBVdGlscztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///194\n')},195:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\nvar SETTINGS;\n\n(function (SETTINGS) {\n  SETTINGS[SETTINGS["HUNTING_REFRESH_TIME"] = 60] = "HUNTING_REFRESH_TIME";\n  SETTINGS[SETTINGS["CHANGE_STATE_THROTTLE"] = 7] = "CHANGE_STATE_THROTTLE";\n  SETTINGS[SETTINGS["ABILITY_ICON_SIZE"] = 50] = "ABILITY_ICON_SIZE";\n  SETTINGS[SETTINGS["MAX_DISTANCE_BETWEEN_SQUAD_MEMBERS"] = 500] = "MAX_DISTANCE_BETWEEN_SQUAD_MEMBERS";\n})(SETTINGS || (SETTINGS = {}));\n\nvar _default = SETTINGS;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9nYW1lU2V0dGluZ3MudHM/OTBlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFLLFFBQUw7O0FBQUEsV0FBSyxRQUFMLEVBQWE7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNELENBTEQsRUFBSyxRQUFRLEtBQVIsUUFBUSxNQUFiOztlQU9lLFEiLCJmaWxlIjoiMTk1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZW51bSBTRVRUSU5HUyB7XG4gIEhVTlRJTkdfUkVGUkVTSF9USU1FID0gNjAsXG4gIENIQU5HRV9TVEFURV9USFJPVFRMRSA9IDcsXG4gIEFCSUxJVFlfSUNPTl9TSVpFID0gNTAsXG4gIE1BWF9ESVNUQU5DRV9CRVRXRUVOX1NRVUFEX01FTUJFUlMgPSA1MDAsXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNFVFRJTkdTOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///195\n')},196:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _consts = _interopRequireDefault(__webpack_require__(198));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EffectsFactory =\n/*#__PURE__*/\nfunction () {\n  function EffectsFactory() {\n    _classCallCheck(this, EffectsFactory);\n  }\n\n  _createClass(EffectsFactory, null, [{\n    key: "createBoomEffect",\n    value: function createBoomEffect(x, y) {\n      if (!EffectsFactory.fireEffectFrames) {\n        EffectsFactory.fireEffectFrames = [];\n\n        for (var i = 0; i < 7; i++) {\n          var texture = "fireEffect_".concat(i, ".png");\n          EffectsFactory.fireEffectFrames.push(PIXI.Texture.fromFrame(texture));\n        }\n      }\n\n      var movieclip = new PIXI.extras.AnimatedSprite(EffectsFactory.fireEffectFrames);\n      movieclip.animationSpeed = 0.3;\n      movieclip.anchor.set(0.5);\n      movieclip.x = x;\n      movieclip.y = y;\n      movieclip.loop = false;\n      movieclip.scale.set(10);\n\n      movieclip.onComplete = function () {\n        this.destroy();\n      };\n\n      window.app.stage.addChild(movieclip);\n      movieclip.play();\n    }\n  }, {\n    key: "createFireEffect",\n    value: function createFireEffect(x, y) {\n      if (!EffectsFactory.fireEffectFrames) {\n        EffectsFactory.fireEffectFrames = [];\n\n        for (var i = 0; i < 7; i++) {\n          var texture = "fireEffect_".concat(i, ".png");\n          EffectsFactory.fireEffectFrames.push(PIXI.Texture.fromFrame(texture));\n        }\n      }\n\n      var movieclip = new PIXI.extras.AnimatedSprite(EffectsFactory.fireEffectFrames);\n      movieclip.animationSpeed = 0.4;\n      movieclip.anchor.set(0.5);\n      movieclip.x = x;\n      movieclip.y = y;\n      movieclip.loop = false;\n\n      movieclip.onComplete = function () {\n        this.destroy();\n      };\n\n      movieclip.scale.set(1.2);\n      window.app.stage.addChild(movieclip);\n      movieclip.play();\n    }\n  }, {\n    key: "createLaserEffect",\n    value: function createLaserEffect(x, y) {\n      if (!EffectsFactory.laserEffectFrames) {\n        EffectsFactory.laserEffectFrames = [];\n\n        for (var i = 0; i < 7; i++) {\n          var texture = "laserEffect_".concat(i, ".png");\n          EffectsFactory.laserEffectFrames.push(PIXI.Texture.fromFrame(texture));\n        }\n      }\n\n      var movieclip = new PIXI.extras.AnimatedSprite(EffectsFactory.laserEffectFrames);\n      movieclip.animationSpeed = 0.4;\n      movieclip.anchor.set(0.5);\n      movieclip.x = x;\n      movieclip.y = y;\n      movieclip.loop = false;\n\n      movieclip.onComplete = function () {\n        this.destroy();\n      };\n\n      movieclip.scale.set(1.2);\n      window.app.stage.addChild(movieclip);\n      movieclip.play();\n    }\n  }, {\n    key: "createFlamerEffect",\n    value: function createFlamerEffect(unit) {\n      var flamesCount = 10;\n      var sprites = new PIXI.Container();\n      var originFlames = [];\n      var activeFlames = [];\n      sprites.visible = false;\n\n      var createFlame = function createFlame() {\n        var sprite = PIXI.Sprite.fromImage(\'assets/Fire.png\');\n        sprite.anchor.set(0.5, 1);\n        sprite.alpha = 0;\n        sprite.blendMode = PIXI.BLEND_MODES.ADD;\n        return sprite;\n      };\n\n      for (var i = 0; i < flamesCount; i++) {\n        var flame = createFlame();\n        sprites.addChild(flame);\n        originFlames.push(flame);\n      }\n\n      var start = function start() {\n        originFlames.map(function (sprite, index) {\n          if (sprite.alpha < 0.05) {\n            var point = unit.model.riflePoints[unit.getRotationFrame()]; // const positionOffset = angle + Utils.randomLUT(0.2);\n            // const positionOffset = angle + Math.sin(index / flamesCount) / 8;\n\n            var positionOffset = unit.angle + Math.sin(index / flamesCount * Math.PI * 2) / 8;\n            sprite.rotation = positionOffset; // Utils.randomLUT(Math.PI * 2);\n\n            sprite.alpha = index / flamesCount; // zmien to na minus, jesli do razu flamesy bedą widoczne\n\n            sprite.x = point.x * unit.model.scale + unit.x;\n            sprite.y = (point.y + 4) * unit.model.scale + unit.y;\n            sprite.scale.set(0.03, 0.05);\n            window.app.stage.addChild(sprites);\n            activeFlames.push(sprite);\n          }\n        });\n\n        if (sprites.visible === false) {\n          window.flamesUpdaters.push(updateFlames);\n          sprites.visible = true;\n          window.app.stage.addChild(sprites);\n        }\n      };\n\n      var finish = function finish() {\n        sprites.visible = false;\n        window.app.stage.removeChild(sprites);\n        window.flamesUpdaters = window.flamesUpdaters.filter(function (updater) {\n          return updater !== updateFlames;\n        });\n      };\n\n      var update = function update(sprite, index) {\n        if (sprite.alpha < 0.05) {\n          if (unit.state !== _consts.default.SHOOT) {\n            activeFlames = activeFlames.filter(function (_sprite) {\n              return _sprite !== sprite;\n            });\n\n            if (activeFlames.length === 0) {\n              finish();\n            }\n          } else {\n            var point = unit.model.riflePoints[unit.getRotationFrame()];\n            var positionOffset = unit.angle + Math.sin(index / flamesCount * Math.PI * 2) / 8;\n            sprite.rotation = positionOffset; // Utils.randomLUT(Math.PI * 2);\n\n            sprite.x = point.x * unit.model.scale + unit.x;\n            sprite.y = (point.y + 4) * unit.model.scale + unit.y;\n            sprite.alpha = 1;\n            sprite.scale.set(0.03, 0.05);\n          }\n        }\n\n        sprite.scale.set(sprite.scale.x * 1.02, sprite.scale.y * 1.04);\n        sprite.alpha -= 0.015;\n      };\n\n      var updateFlames = function updateFlames() {\n        activeFlames.map(update);\n      };\n\n      var destroy = function destroy() {// Destroy Effect, ro change unit\n      };\n\n      return {\n        container: sprites,\n        start: start,\n        destroy: destroy\n      };\n    }\n  }, {\n    key: "createPortalEffect",\n    value: function createPortalEffect(x, y) {\n      if (!EffectsFactory.portalEffectFrames) {\n        EffectsFactory.portalEffectFrames = [];\n\n        for (var i = 0; i < 97; i++) {\n          var index = i < 10 ? "0".concat(i) : i;\n          var texture = "Gate_FX_000".concat(index, ".png");\n          EffectsFactory.portalEffectFrames.push(PIXI.Texture.fromFrame(texture));\n        }\n      }\n\n      var movieclip = new PIXI.extras.AnimatedSprite(EffectsFactory.portalEffectFrames);\n      movieclip.animationSpeed = 0.4;\n      movieclip.anchor.set(0.5, 1);\n      movieclip.x = x;\n      movieclip.y = y;\n      movieclip.loop = false;\n\n      movieclip.onFrameChange = function () {\n        if (this.currentFrame > 65) {\n          this.alpha = (this.totalFrames - this.currentFrame) / 30;\n        }\n      };\n\n      return movieclip;\n    }\n  }, {\n    key: "addSmoke",\n    value: function addSmoke(x, y, scale) {\n      var sprite = PIXI.Sprite.fromImage(\'assets/smoke.png\');\n      sprite.anchor.set(0.5, 0.5);\n      sprite.x = x;\n      sprite.y = y;\n      sprite.scale.set(scale / 5);\n      sprite.rotation = _Utils.default.randomLUT(Math.PI * 2); // sprite.blendMode = PIXI.BLEND_MODES.ADD;\n\n      window.smokeContainer.graphics.addChild(sprite);\n      window.smokeContainer.elements.push(sprite);\n    }\n  }, {\n    key: "updateSmoke",\n    value: function updateSmoke(sprite, index) {\n      sprite.alpha -= 0.03;\n      sprite.scale.set(sprite.scale.x + 0.05);\n\n      if (sprite.alpha <= 0) {\n        window.smokeContainer.elements.splice(index, 1);\n        window.smokeContainer.graphics.removeChild(sprite);\n      }\n    }\n  }]);\n\n  return EffectsFactory;\n}();\n\nvar _default = EffectsFactory;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZWZmZWN0cy9FZmZlY3RzRmFjdG9yeS5qcz80MjU2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7OztJQUVNLGM7Ozs7Ozs7OztxQ0FFc0IsQyxFQUFHLEMsRUFBQztBQUN4QixVQUFHLENBQUMsY0FBYyxDQUFDLGdCQUFuQixFQUFxQztBQUNqQyxzQkFBYyxDQUFDLGdCQUFmLEdBQWtDLEVBQWxDOztBQUNBLGFBQUksSUFBSSxDQUFDLEdBQUcsQ0FBWixFQUFlLENBQUMsR0FBRyxDQUFuQixFQUFzQixDQUFDLEVBQXZCLEVBQTJCO0FBQ3ZCLGNBQU0sT0FBTyx3QkFBaUIsQ0FBakIsU0FBYjtBQUNBLHdCQUFjLENBQUMsZ0JBQWYsQ0FBZ0MsSUFBaEMsQ0FBcUMsSUFBSSxDQUFDLE9BQUwsQ0FBYSxTQUFiLENBQXVCLE9BQXZCLENBQXJDO0FBQ0g7QUFDSjs7QUFFRCxVQUFNLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFMLENBQVksY0FBaEIsQ0FBK0IsY0FBYyxDQUFDLGdCQUE5QyxDQUFsQjtBQUNOLGVBQVMsQ0FBQyxjQUFWLEdBQTJCLEdBQTNCO0FBQ0EsZUFBUyxDQUFDLE1BQVYsQ0FBaUIsR0FBakIsQ0FBcUIsR0FBckI7QUFDQSxlQUFTLENBQUMsQ0FBVixHQUFjLENBQWQ7QUFDTSxlQUFTLENBQUMsQ0FBVixHQUFjLENBQWQ7QUFDQSxlQUFTLENBQUMsSUFBVixHQUFpQixLQUFqQjtBQUNBLGVBQVMsQ0FBQyxLQUFWLENBQWdCLEdBQWhCLENBQW9CLEVBQXBCOztBQUNBLGVBQVMsQ0FBQyxVQUFWLEdBQXVCO0FBQzVCLGFBQUssT0FBTDtBQUNNLE9BRkQ7O0FBR04sWUFBTSxDQUFDLEdBQVAsQ0FBVyxLQUFYLENBQWlCLFFBQWpCLENBQTBCLFNBQTFCO0FBQ0EsZUFBUyxDQUFDLElBQVY7QUFFRzs7O3FDQUV1QixDLEVBQUcsQyxFQUFDO0FBQ3hCLFVBQUcsQ0FB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LENBQUMsTUFBUCxDQUFjLEdBQWQsQ0FBa0IsR0FBbEIsRUFBdUIsR0FBdkI7QUFDQSxZQUFNLENBQUMsQ0FBUCxHQUFXLENBQVg7QUFDQSxZQUFNLENBQUMsQ0FBUCxHQUFXLENBQVg7QUFDQSxZQUFNLENBQUMsS0FBUCxDQUFhLEdBQWIsQ0FBaUIsS0FBSyxHQUFHLENBQXpCO0FBQ0EsWUFBTSxDQUFDLFFBQVAsR0FBa0IsZUFBTSxTQUFOLENBQWdCLElBQUksQ0FBQyxFQUFMLEdBQVUsQ0FBMUIsQ0FBbEIsQ0FOdUIsQ0FPdkI7O0FBQ0EsWUFBTSxDQUFDLGNBQVAsQ0FBc0IsUUFBdEIsQ0FBK0IsUUFBL0IsQ0FBd0MsTUFBeEM7QUFDQSxZQUFNLENBQUMsY0FBUCxDQUFzQixRQUF0QixDQUErQixJQUEvQixDQUFvQyxNQUFwQztBQUNIOzs7Z0NBRWtCLE0sRUFBUSxLLEVBQUs7QUFDNUIsWUFBTSxDQUFDLEtBQVAsSUFBZ0IsSUFBaEI7QUFDQSxZQUFNLENBQUMsS0FBUCxDQUFhLEdBQWIsQ0FBaUIsTUFBTSxDQUFDLEtBQVAsQ0FBYSxDQUFiLEdBQWlCLElBQWxDOztBQUNBLFVBQUcsTUFBTSxDQUFDLEtBQVAsSUFBZ0IsQ0FBbkIsRUFBc0I7QUFDbEIsY0FBTSxDQUFDLGNBQVAsQ0FBc0IsUUFBdEIsQ0FBK0IsTUFBL0IsQ0FBc0MsS0FBdEMsRUFBNkMsQ0FBN0M7QUFDQSxjQUFNLENBQUMsY0FBUCxDQUFzQixRQUF0QixDQUErQixXQUEvQixDQUEyQyxNQUEzQztBQUNIO0FBQ0o7Ozs7OztlQUlVLGMiLCJmaWxlIjoiMTk2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcbmltcG9ydCBTVEFURSBmcm9tICd+L21vZHVsZXMvY29uc3RzJztcblxuY2xhc3MgRWZmZWN0c0ZhY3Rvcnkge1xuXG4gICAgc3RhdGljIGNyZWF0ZUJvb21FZmZlY3QoeCwgeSkge1xuICAgICAgICBpZighRWZmZWN0c0ZhY3RvcnkuZmlyZUVmZmVjdEZyYW1lcykge1xuICAgICAgICAgICAgRWZmZWN0c0ZhY3RvcnkuZmlyZUVmZmVjdEZyYW1lcyA9IFtdO1xuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBgZmlyZUVmZmVjdF8ke2l9LnBuZ2A7XG4gICAgICAgICAgICAgICAgRWZmZWN0c0ZhY3RvcnkuZmlyZUVmZmVjdEZyYW1lcy5wdXNoKFBJWEkuVGV4dHVyZS5mcm9tRnJhbWUodGV4dHVyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW92aWVjbGlwID0gbmV3IFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlKEVmZmVjdHNGYWN0b3J5LmZpcmVFZmZlY3RGcmFtZXMpO1xuXHRcdG1vdmllY2xpcC5hbmltYXRpb25TcGVlZCA9IDAuMztcblx0XHRtb3ZpZWNsaXAuYW5jaG9yLnNldCgwLjUpO1xuXHRcdG1vdmllY2xpcC54ID0geDtcbiAgICAgICAgbW92aWVjbGlwLnkgPSB5O1xuICAgICAgICBtb3ZpZWNsaXAubG9vcCA9IGZhbHNlO1xuICAgICAgICBtb3ZpZWNsaXAuc2NhbGUuc2V0KDEwKTtcbiAgICAgICAgbW92aWVjbGlwLm9uQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9XG5cdFx0d2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChtb3ZpZWNsaXApO1xuXHRcdG1vdmllY2xpcC5wbGF5KCk7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlRmlyZUVmZmVjdCh4LCB5KSB7XG4gICAgICAgIGlmKCFFZmZlY3RzRmFjdG9yeS5maXJlRWZmZWN0RnJhbWVzKSB7XG4gICAgICAgICAgICBFZmZlY3RzRmFjdG9yeS5maXJlRWZmZWN0RnJhbWVzID0gW107XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBmaXJlRWZmZWN0XyR7aX0ucG5nYDtcbiAgICAgICAgICAgICAgICBFZmZlY3RzRmFjdG9yeS5maXJlRWZmZWN0RnJhbWVzLnB1c2goUElYSS5UZXh0dXJlLmZyb21GcmFtZSh0ZXh0dXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb3ZpZWNsaXAgPSBuZXcgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUoRWZmZWN0c0ZhY3RvcnkuZmlyZUVmZmVjdEZyYW1lcyk7XG5cdFx0bW92aWVjbGlwLmFuaW1hdGlvblNwZWVkID0gMC40O1xuXHRcdG1vdmllY2xpcC5hbmNob3Iuc2V0KDAuNSk7XG5cdFx0bW92aWVjbGlwLnggPSB4O1xuICAgICAgICBtb3ZpZWNsaXAueSA9IHk7XG4gICAgICAgIG1vdmllY2xpcC5sb29wID0gZmFsc2U7XG4gICAgICAgIG1vdmllY2xpcC5vbkNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXHRcdG1vdmllY2xpcC5zY2FsZS5zZXQoMS4yKTtcblx0XHR3aW5kb3cuYXBwLnN0YWdlLmFkZENoaWxkKG1vdmllY2xpcCk7XG5cdFx0bW92aWVjbGlwLnBsYXkoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlTGFzZXJFZmZlY3QoeCwgeSkge1xuICAgICAgICBpZighRWZmZWN0c0ZhY3RvcnkubGFzZXJFZmZlY3RGcmFtZXMpIHtcbiAgICAgICAgICAgIEVmZmVjdHNGYWN0b3J5Lmxhc2VyRWZmZWN0RnJhbWVzID0gW107XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBsYXNlckVmZmVjdF8ke2l9LnBuZ2A7XG4gICAgICAgICAgICAgICAgRWZmZWN0c0ZhY3RvcnkubGFzZXJFZmZlY3RGcmFtZXMucHVzaChQSVhJLlRleHR1cmUuZnJvbUZyYW1lKHRleHR1cmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1vdmllY2xpcCA9IG5ldyBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZShFZmZlY3RzRmFjdG9yeS5sYXNlckVmZmVjdEZyYW1lcyk7XG5cdFx0bW92aWVjbGlwLmFuaW1hdGlvblNwZWVkID0gMC40O1xuXHRcdG1vdmllY2xpcC5hbmNob3Iuc2V0KDAuNSk7XG5cdFx0bW92aWVjbGlwLnggPSB4O1xuICAgICAgICBtb3ZpZWNsaXAueSA9IHk7XG4gICAgICAgIG1vdmllY2xpcC5sb29wID0gZmFsc2U7XG4gICAgICAgIG1vdmllY2xpcC5vbkNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXHRcdG1vdmllY2xpcC5zY2FsZS5zZXQoMS4yKTtcblx0XHR3aW5kb3cuYXBwLnN0YWdlLmFkZENoaWxkKG1vdmllY2xpcCk7XG5cdFx0bW92aWVjbGlwLnBsYXkoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlRmxhbWVyRWZmZWN0KHVuaXQpIHtcbiAgICAgICAgY29uc3QgZmxhbWVzQ291bnQgPSAxMDtcbiAgICAgICAgY29uc3Qgc3ByaXRlcyA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICBjb25zdCBvcmlnaW5GbGFtZXMgPSBbXTtcbiAgICAgICAgbGV0IGFjdGl2ZUZsYW1lcyA9IFtdO1xuXG4gICAgICAgIHNwcml0ZXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjcmVhdGVGbGFtZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnYXNzZXRzL0ZpcmUucG5nJyk7XG4gICAgICAgICAgICBzcHJpdGUuYW5jaG9yLnNldCgwLjUsIDEpO1xuICAgICAgICAgICAgc3ByaXRlLmFscGhhID0gMDtcbiAgICAgICAgICAgIHNwcml0ZS5ibGVuZE1vZGUgPSBQSVhJLkJMRU5EX01PREVTLkFERDtcbiAgICAgICAgICAgIHJldHVybiBzcHJpdGU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZmxhbWVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmxhbWUgPSBjcmVhdGVGbGFtZSgpO1xuICAgICAgICAgICAgc3ByaXRlcy5hZGRDaGlsZChmbGFtZSk7ICAgICAgICAgICAgXG4gICAgICAgICAgICBvcmlnaW5GbGFtZXMucHVzaChmbGFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICAgICAgICAgIG9yaWdpbkZsYW1lcy5tYXAoKHNwcml0ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZihzcHJpdGUuYWxwaGEgPCAwLjA1KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB1bml0Lm1vZGVsLnJpZmxlUG9pbnRzW3VuaXQuZ2V0Um90YXRpb25GcmFtZSgpXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBwb3NpdGlvbk9mZnNldCA9IGFuZ2xlICsgVXRpbHMucmFuZG9tTFVUKDAuMik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHBvc2l0aW9uT2Zmc2V0ID0gYW5nbGUgKyBNYXRoLnNpbihpbmRleCAvIGZsYW1lc0NvdW50KSAvIDg7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uT2Zmc2V0ID0gdW5pdC5hbmdsZSArIE1hdGguc2luKChpbmRleCAvIGZsYW1lc0NvdW50KSAqIE1hdGguUEkgKiAyICkgLyA4O1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUucm90YXRpb24gPSBwb3NpdGlvbk9mZnNldDsgLy8gVXRpbHMucmFuZG9tTFVUKE1hdGguUEkgKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLmFscGhhID0gaW5kZXggLyBmbGFtZXNDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gem1pZW4gdG8gbmEgbWludXMsIGplc2xpIGRvIHJhenUgZmxhbWVzeSBiZWTEhSB3aWRvY3puZVxuICAgICAgICAgICAgICAgICAgICBzcHJpdGUueCA9IHBvaW50LnggKiB1bml0Lm1vZGVsLnNjYWxlICsgdW5pdC54O1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUueSA9IChwb2ludC55ICsgNCkgKiB1bml0Lm1vZGVsLnNjYWxlICsgdW5pdC55O1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUuc2NhbGUuc2V0KDAuMDMsIDAuMDUpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZXMpO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVGbGFtZXMucHVzaChzcHJpdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYoc3ByaXRlcy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5mbGFtZXNVcGRhdGVycy5wdXNoKHVwZGF0ZUZsYW1lcyk7XG4gICAgICAgICAgICAgICAgc3ByaXRlcy52aXNpYmxlID0gdHJ1ZTsgICAgIFxuICAgICAgICAgICAgICAgIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICBzcHJpdGVzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHdpbmRvdy5hcHAuc3RhZ2UucmVtb3ZlQ2hpbGQoc3ByaXRlcyk7XG4gICAgICAgICAgICB3aW5kb3cuZmxhbWVzVXBkYXRlcnMgPSB3aW5kb3cuZmxhbWVzVXBkYXRlcnMuZmlsdGVyKHVwZGF0ZXIgPT4gdXBkYXRlciAhPT0gdXBkYXRlRmxhbWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9IChzcHJpdGUsaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmKHNwcml0ZS5hbHBoYSA8IDAuMDUpIHtcbiAgICAgICAgICAgICAgICBpZih1bml0LnN0YXRlICE9PSBTVEFURS5TSE9PVCkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVGbGFtZXMgPSBhY3RpdmVGbGFtZXMuZmlsdGVyKF9zcHJpdGUgPT4gX3Nwcml0ZSAhPT0gc3ByaXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYWN0aXZlRmxhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHVuaXQubW9kZWwucmlmbGVQb2ludHNbdW5pdC5nZXRSb3RhdGlvbkZyYW1lKCldOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uT2Zmc2V0ID0gdW5pdC5hbmdsZSArIE1hdGguc2luKChpbmRleCAvIGZsYW1lc0NvdW50KSAqIE1hdGguUEkgKiAyICkgLyA4O1xuICAgICAgICAgICAgICAgICAgICBzcHJpdGUucm90YXRpb24gPSBwb3NpdGlvbk9mZnNldDsgLy8gVXRpbHMucmFuZG9tTFVUKE1hdGguUEkgKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnggPSBwb2ludC54ICogdW5pdC5tb2RlbC5zY2FsZSArIHVuaXQueDtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnkgPSAocG9pbnQueSArIDQpICogdW5pdC5tb2RlbC5zY2FsZSArIHVuaXQueTtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLmFscGhhID0gMTtcbiAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNjYWxlLnNldCgwLjAzLCAwLjA1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcHJpdGUuc2NhbGUuc2V0KHNwcml0ZS5zY2FsZS54ICogMS4wMiwgc3ByaXRlLnNjYWxlLnkgKiAxLjA0KTsgIFxuICAgICAgICAgICAgc3ByaXRlLmFscGhhIC09IDAuMDE1ICAgICAgICAgXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cGRhdGVGbGFtZXMgPSAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmVGbGFtZXMubWFwKHVwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gRGVzdHJveSBFZmZlY3QsIHJvIGNoYW5nZSB1bml0XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGFpbmVyOiBzcHJpdGVzLCAvLyBVbml0IHRlc3QsIGNvbnRhaW5lci52aXNpYmxlXG4gICAgICAgICAgICBzdGFydCwgLy8gVW5pdCBzdGFydCBpcyBjb250YWluZXIgaXNuJ3QgdmlzaWJsZVxuICAgICAgICAgICAgZGVzdHJveSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlUG9ydGFsRWZmZWN0KHgsIHkpIHtcbiAgICAgICAgaWYoIUVmZmVjdHNGYWN0b3J5LnBvcnRhbEVmZmVjdEZyYW1lcykge1xuICAgICAgICAgICAgRWZmZWN0c0ZhY3RvcnkucG9ydGFsRWZmZWN0RnJhbWVzID0gW107XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgOTc7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaSA8IDEwID8gYDAke2l9YCA6IGk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBHYXRlX0ZYXzAwMCR7aW5kZXh9LnBuZ2A7XG4gICAgICAgICAgICAgICAgRWZmZWN0c0ZhY3RvcnkucG9ydGFsRWZmZWN0RnJhbWVzLnB1c2goUElYSS5UZXh0dXJlLmZyb21GcmFtZSh0ZXh0dXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb3ZpZWNsaXAgPSBuZXcgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUoRWZmZWN0c0ZhY3RvcnkucG9ydGFsRWZmZWN0RnJhbWVzKTtcblx0XHRtb3ZpZWNsaXAuYW5pbWF0aW9uU3BlZWQgPSAwLjQ7XG5cdFx0bW92aWVjbGlwLmFuY2hvci5zZXQoMC41LCAxKTtcblx0XHRtb3ZpZWNsaXAueCA9IHg7XG4gICAgICAgIG1vdmllY2xpcC55ID0geTtcbiAgICAgICAgbW92aWVjbGlwLmxvb3AgPSBmYWxzZTtcbiAgICBcblx0XHRtb3ZpZWNsaXAub25GcmFtZUNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYodGhpcy5jdXJyZW50RnJhbWUgPiA2NSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWxwaGEgPSAodGhpcy50b3RhbEZyYW1lcyAtIHRoaXMuY3VycmVudEZyYW1lKSAvIDMwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb3ZpZWNsaXA7XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgYWRkU21va2UoeCwgeSwgc2NhbGUpIHtcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKCdhc3NldHMvc21va2UucG5nJyk7XG4gICAgICAgIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSwgMC41KTtcbiAgICAgICAgc3ByaXRlLnggPSB4O1xuICAgICAgICBzcHJpdGUueSA9IHk7XG4gICAgICAgIHNwcml0ZS5zY2FsZS5zZXQoc2NhbGUgLyA1KTtcbiAgICAgICAgc3ByaXRlLnJvdGF0aW9uID0gVXRpbHMucmFuZG9tTFVUKE1hdGguUEkgKiAyKTtcbiAgICAgICAgLy8gc3ByaXRlLmJsZW5kTW9kZSA9IFBJWEkuQkxFTkRfTU9ERVMuQUREO1xuICAgICAgICB3aW5kb3cuc21va2VDb250YWluZXIuZ3JhcGhpY3MuYWRkQ2hpbGQoc3ByaXRlKTtcbiAgICAgICAgd2luZG93LnNtb2tlQ29udGFpbmVyLmVsZW1lbnRzLnB1c2goc3ByaXRlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdXBkYXRlU21va2Uoc3ByaXRlLCBpbmRleCkge1xuICAgICAgICBzcHJpdGUuYWxwaGEgLT0gMC4wMztcbiAgICAgICAgc3ByaXRlLnNjYWxlLnNldChzcHJpdGUuc2NhbGUueCArIDAuMDUpO1xuICAgICAgICBpZihzcHJpdGUuYWxwaGEgPD0gMCkge1xuICAgICAgICAgICAgd2luZG93LnNtb2tlQ29udGFpbmVyLmVsZW1lbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB3aW5kb3cuc21va2VDb250YWluZXIuZ3JhcGhpY3MucmVtb3ZlQ2hpbGQoc3ByaXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBFZmZlY3RzRmFjdG9yeTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///196\n')},197:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _soliderRegular = _interopRequireDefault(__webpack_require__(213));\n\nvar _warriorRegular = _interopRequireDefault(__webpack_require__(214));\n\nvar _soliderLaser = _interopRequireDefault(__webpack_require__(215));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar factor = _gameSettings.default.CHANGE_STATE_THROTTLE;\nvar modifier = 1;\nvar weaponTypes = {\n  'WARRIOR_REGULAR': {\n    reloadTime: 10 / factor,\n    range: 500,\n    speed: 10,\n    scatter: 0.2,\n    damage: 5 * modifier,\n    waitReloadingTime: 50 / factor,\n    drawAndAddProps: _warriorRegular.default.drawAndAddProps\n  },\n  'SOLIDER_REGULAR': {\n    reloadTime: 10 / factor,\n    range: 400,\n    speed: 10,\n    scatter: 0.2,\n    damage: 5 * modifier,\n    waitReloadingTime: 50 / factor,\n    drawAndAddProps: _soliderRegular.default.drawAndAddProps\n  },\n  'SOLIDER_LASER': {\n    reloadTime: 10 / factor,\n    range: 400,\n    speed: NaN,\n    scatter: 0.2,\n    damage: 5 * modifier,\n    waitReloadingTime: 60 / factor,\n    drawAndAddProps: _soliderLaser.default.drawAndAddProps\n  },\n  'SOLIDER_GRENADE': {\n    speed: 3,\n    damage: 30 * modifier,\n    explosion: {\n      range: 100,\n      strength: 6\n    }\n  },\n  'WARRIOR_ASSAULT': {\n    reloadTime: 120 / factor,\n    range: 300,\n    speed: 0,\n    scatter: 0,\n    damage: 0.3 * modifier,\n    waitReloadingTime: NaN\n  },\n  'ASSAULT_JUMP': {\n    range: 100,\n    damage: 5 * modifier,\n    explosion: {\n      range: 100,\n      strength: 6\n    }\n  }\n};\nvar _default = weaponTypes;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2VhcG9ucy9XZWFwb25UeXBlcy50cz8xYTgwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLElBQU0sTUFBTSxHQUFHLHNCQUFRLHFCQUF2QjtBQUVBLElBQU0sUUFBUSxHQUFHLENBQWpCO0FBQ0EsSUFBTSxXQUFXLEdBQUc7QUFDaEIscUJBQW1CO0FBQ2YsY0FBVSxFQUFFLEtBQUssTUFERjtBQUVmLFNBQUssRUFBRSxHQUZRO0FBR2YsU0FBSyxFQUFFLEVBSFE7QUFJZixXQUFPLEVBQUUsR0FKTTtBQUtmLFVBQU0sRUFBRSxJQUFJLFFBTEc7QUFNZixxQkFBaUIsRUFBRSxLQUFLLE1BTlQ7QUFPZixtQkFBZSxFQUFFLHdCQUFlO0FBUGpCLEdBREg7QUFVaEIscUJBQW1CO0FBQ2YsY0FBVSxFQUFFLEtBQUssTUFERjtBQUVmLFNBQUssRUFBRSxHQUZRO0FBR2YsU0FBSyxFQUFFLEVBSFE7QUFJZixXQUFPLEVBQUUsR0FKTTtBQUtmLFVBQU0sRUFBRSxJQUFJLFFBTEc7QUFNZixxQkFBaUIsRUFBRSxLQUFLLE1BTlQ7QUFPZixtQkFBZSxFQUFFLHdCQUFlO0FBUGpCLEdBVkg7QUFtQmhCLG1CQUFpQjtBQUNiLGNBQVUsRUFBRSxLQUFLLE1BREo7QUFFYixTQUFLLEVBQUUsR0FGTTtBQUdiLFNBQUssRUFBRSxHQUhNO0FBSWIsV0FBTyxFQUFFLEdBSkk7QUFLYixVQUFNLEVBQUUsSUFBSSxRQUxDO0FBTWIscUJBQWlCLEVBQUUsS0FBSyxNQU5YO0FBT2IsbUJBQWUsRUFBRSxzQkFBYTtBQVBqQixHQW5CRDtBQTRCaEIscUJBQW1CO0FBQ2YsU0FBSyxFQUFFLENBRFE7QUFFZixVQUFNLEVBQUUsS0FBSyxRQUZFO0FBR2YsYUFBUyxFQUFFO0FBQ1AsV0FBSyxFQUFFLEdBREE7QUFFUCxjQUFRLEVBQUU7QUFGSDtBQUhJLEdBNUJIO0FBb0NoQixxQkFBbUI7QUFDZixjQUFVLEVBQUUsTUFBTSxNQURIO0FBRWYsU0FBSyxFQUFFLEdBRlE7QUFHZixTQUFLLEVBQUUsQ0FIUTtBQUlmLFdBQU8sRUFBRSxDQUpNO0FBS2YsVUFBTSxFQUFFLE1BQU0sUUFMQztBQU1mLHFCQUFpQixFQUFFO0FBTkosR0FwQ0g7QUE0Q2hCLGtCQUFnQjtBQUNaLFNBQUssRUFBRSxHQURLO0FBRVosVUFBTSxFQUFFLElBQUksUUFGQTtBQUdaLGFBQVMsRUFBRTtBQUNQLFdBQUssRUFBRSxHQURBO0FBRVAsY0FBUSxFQUFFO0FBRkg7QUFIQztBQTVDQSxDQUFwQjtlQXNEZSxXIiwiZmlsZSI6IjE5Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzb2xpZGVyUmVndWxhciBmcm9tICcuL3dlYXBvblR5cGVzL3NvbGlkZXJSZWd1bGFyJztcbmltcG9ydCB3YXJyaW9yUmVndWxhciBmcm9tICcuL3dlYXBvblR5cGVzL3dhcnJpb3JSZWd1bGFyJztcbmltcG9ydCBzb2xpZGVyTGFzZXIgZnJvbSAnLi93ZWFwb25UeXBlcy9zb2xpZGVyTGFzZXInO1xuaW1wb3J0IFNFVFRJTkcgZnJvbSAnU2V0dGluZ3MnO1xuXG5jb25zdCBmYWN0b3IgPSBTRVRUSU5HLkNIQU5HRV9TVEFURV9USFJPVFRMRTtcblxuY29uc3QgbW9kaWZpZXIgPSAxO1xuY29uc3Qgd2VhcG9uVHlwZXMgPSB7XG4gICAgJ1dBUlJJT1JfUkVHVUxBUic6IHtcbiAgICAgICAgcmVsb2FkVGltZTogMTAgLyBmYWN0b3IsXG4gICAgICAgIHJhbmdlOiA1MDAsXG4gICAgICAgIHNwZWVkOiAxMCxcbiAgICAgICAgc2NhdHRlcjogMC4yLFxuICAgICAgICBkYW1hZ2U6IDUgKiBtb2RpZmllcixcbiAgICAgICAgd2FpdFJlbG9hZGluZ1RpbWU6IDUwIC8gZmFjdG9yLFxuICAgICAgICBkcmF3QW5kQWRkUHJvcHM6IHdhcnJpb3JSZWd1bGFyLmRyYXdBbmRBZGRQcm9wc1xuICAgIH0sXG4gICAgJ1NPTElERVJfUkVHVUxBUic6IHtcbiAgICAgICAgcmVsb2FkVGltZTogMTAgLyBmYWN0b3IsXG4gICAgICAgIHJhbmdlOiA0MDAsXG4gICAgICAgIHNwZWVkOiAxMCxcbiAgICAgICAgc2NhdHRlcjogMC4yLFxuICAgICAgICBkYW1hZ2U6IDUgKiBtb2RpZmllcixcbiAgICAgICAgd2FpdFJlbG9hZGluZ1RpbWU6IDUwIC8gZmFjdG9yLFxuICAgICAgICBkcmF3QW5kQWRkUHJvcHM6IHNvbGlkZXJSZWd1bGFyLmRyYXdBbmRBZGRQcm9wc1xuICAgIH0sXG4gICAgJ1NPTElERVJfTEFTRVInOiB7XG4gICAgICAgIHJlbG9hZFRpbWU6IDEwIC8gZmFjdG9yLFxuICAgICAgICByYW5nZTogNDAwLFxuICAgICAgICBzcGVlZDogTmFOLFxuICAgICAgICBzY2F0dGVyOiAwLjIsXG4gICAgICAgIGRhbWFnZTogNSAqIG1vZGlmaWVyLFxuICAgICAgICB3YWl0UmVsb2FkaW5nVGltZTogNjAgLyBmYWN0b3IsXG4gICAgICAgIGRyYXdBbmRBZGRQcm9wczogc29saWRlckxhc2VyLmRyYXdBbmRBZGRQcm9wc1xuICAgIH0sXG4gICAgJ1NPTElERVJfR1JFTkFERSc6IHtcbiAgICAgICAgc3BlZWQ6IDMsXG4gICAgICAgIGRhbWFnZTogMzAgKiBtb2RpZmllcixcbiAgICAgICAgZXhwbG9zaW9uOiB7XG4gICAgICAgICAgICByYW5nZTogMTAwLFxuICAgICAgICAgICAgc3RyZW5ndGg6IDZcbiAgICAgICAgfVxuICAgIH0sXG4gICAgJ1dBUlJJT1JfQVNTQVVMVCc6IHtcbiAgICAgICAgcmVsb2FkVGltZTogMTIwIC8gZmFjdG9yLFxuICAgICAgICByYW5nZTogMzAwLFxuICAgICAgICBzcGVlZDogMCxcbiAgICAgICAgc2NhdHRlcjogMCxcbiAgICAgICAgZGFtYWdlOiAwLjMgKiBtb2RpZmllcixcbiAgICAgICAgd2FpdFJlbG9hZGluZ1RpbWU6IE5hTixcbiAgICB9LFxuICAgICdBU1NBVUxUX0pVTVAnOiB7XG4gICAgICAgIHJhbmdlOiAxMDAsXG4gICAgICAgIGRhbWFnZTogNSAqIG1vZGlmaWVyLFxuICAgICAgICBleHBsb3Npb246IHtcbiAgICAgICAgICAgIHJhbmdlOiAxMDAsXG4gICAgICAgICAgICBzdHJlbmd0aDogNlxuICAgICAgICB9ICBcbiAgICB9LFxufVxuXG5leHBvcnQgZGVmYXVsdCB3ZWFwb25UeXBlczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///197\n")},198:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\nvar STATE;\n\n(function (STATE) {\n  STATE[STATE["ABILITY"] = 8] = "ABILITY";\n  STATE[STATE["FLY"] = 7] = "FLY";\n  STATE[STATE["GO"] = 6] = "GO";\n  STATE[STATE["SHOOT"] = 5] = "SHOOT";\n  STATE[STATE["STAY"] = 4] = "STAY";\n  STATE[STATE["GETUP"] = 3] = "GETUP";\n  STATE[STATE["DIE"] = 0] = "DIE";\n})(STATE || (STATE = {}));\n\nvar _default = STATE;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9jb25zdHMudHM/NDQ3NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFLLEtBQUw7O0FBQUEsV0FBSyxLQUFMLEVBQVU7QUFDUjtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNELENBVEQsRUFBSyxLQUFLLEtBQUwsS0FBSyxNQUFWOztlQVVlLEsiLCJmaWxlIjoiMTk4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZW51bSBTVEFURSB7XG4gIEFCSUxJVFkgPSA4LFxuICBGTFkgPSA3LFxuICBHTyA9IDYsXG5cbiAgU0hPT1QgPSA1LFxuICBTVEFZID0gNCxcbiAgR0VUVVAgPSAzLFxuICBESUUgPSAwXG59XG5leHBvcnQgZGVmYXVsdCBTVEFURTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///198\n')},199:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _generateArray = _interopRequireDefault(__webpack_require__(202));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar sortUnitByWeapon = function sortUnitByWeapon(units) {\n  var weapons = [];\n  units.map(function (unit) {\n    for (var i = 0; i < weapons.length; i++) {\n      //loop per weapon types\n      if (weapons[i][0].weapon.range === unit.weapon.range) {\n        weapons[i].push(unit); //weapon of this type already exists in array\n\n        return; //after add weapon to array, leave loop\n      }\n    }\n\n    weapons.push([unit]); //add new type of weapon, and add units to this type\n  });\n  return weapons;\n};\n\nvar isMoreThanOneWeaponType = function isMoreThanOneWeaponType(units) {\n  var firstWeapon = units[0].weapon.range;\n  return units.reduce(function (prev, curr) {\n    return firstWeapon !== curr.weapon.range ? true : prev;\n  }, false);\n};\n\nvar setDestinationPoint = function setDestinationPoint(destination, units, attack, oneWeaponType, onePlace) {\n  //A CO GDY jednostki które są zaznaczone, mają różny zasięg broni???\n  //-rozdzielić na dwie metody, inne pola na którszej broni, inne dla dłuższej, cała funkcja x 2 aż musi iść\n  var unitsOutOfRange = [];\n\n  if (attack) {\n    if (!('center' in destination)) {\n      debugger;\n      return;\n    }\n\n    units.forEach(function (unit) {\n      if (_Utils.default.dis(unit, destination.center) < unit.weapon.range) {\n        unit.squad.aim = destination;\n        unit.stay();\n      } else {\n        unitsOutOfRange.push(unit); // rest of untis needs to find be closer to aim\n      }\n    });\n    if (unitsOutOfRange.length === 0) return; // All units are in range\n    // if units are in different group, then firstly they need to create differend groups depending on position\n\n    if (!onePlace) {\n      //START TESTING: \"Units are in the same place?\"\n      var allInOneGroup = true;\n      var unitsInDifferentPlaces = [[], [], [], []],\n          //4 arrays, one per kartezjan space\n      groupX = units[0].x,\n          //to testing, because maybe all units are in one group\n      groupY = units[0].y; //but group is on others space of karetzjian area\n\n      unitsOutOfRange.map(function (unit) {\n        var x = unit.x < destination.center.x ? 1 : 0;\n        var y = unit.y > destination.center.y ? 2 : 0; //which kartezjan space\n\n        unitsInDifferentPlaces[x + y].push(unit);\n\n        if (Math.abs(groupX - unit.x) > 200 || Math.abs(groupY - unit.y) > 200) {\n          allInOneGroup = false; //czy wszystkie jednostki sa w jendym miejscu, czyli czy ich odelgosc od pierwszej jendostki jest mniejsza niz 200\n        }\n      });\n\n      if (!allInOneGroup) {\n        var countOther = 0; //test, is more than one kartezjan space\n\n        unitsInDifferentPlaces.map(function (place) {\n          if (place.length) {\n            countOther++;\n          }\n        });\n\n        if (countOther > 1) {\n          //is more than one kartezjan space\n          unitsInDifferentPlaces.map(function (place) {\n            return setDestinationPoint(destination, place, true, false, true);\n          });\n          return;\n        }\n      } //END TESTING: \"Units are in the same place?\"\n\n    }\n\n    if (!oneWeaponType) {\n      var moreTypes = isMoreThanOneWeaponType(unitsOutOfRange); //it's more than one type of weapon, return boolean\n\n      if (moreTypes) {\n        var weapons = sortUnitByWeapon(unitsOutOfRange); //sort untis by weapon's range, return array\n\n        weapons.map(function (unitsKind) {\n          return setDestinationPoint(destination, unitsKind, true, true, true);\n        });\n        return;\n      }\n    }\n  } else {\n    //if attack == false\n    unitsOutOfRange = units.slice(); // unitsOutOfRange.map(unit => {\n    // \tunit.setTargetToGo();\t\n    // });\n    //because on bottom we set undefiend when attack is false\n  }\n\n  var unitsCenter = _Utils.default.calculateCenterPoint(unitsOutOfRange);\n\n  var mainAngle = _Utils.default.ang(unitsCenter, 'center' in destination ? destination.center : destination);\n\n  var positionData = (0, _generateArray.default)(unitsOutOfRange.length);\n  var offsetX = unitsCenter.x - ('center' in destination ? destination.center.x : destination.x);\n  var offsetY = unitsCenter.y - ('center' in destination ? destination.center.y : destination.y);\n  positionData.points.map(function (point) {\n    var startPoint = {\n      x: 0,\n      y: 0\n    },\n        dis = _Utils.default.dis(startPoint, point),\n        ang = _Utils.default.ang(startPoint, point);\n\n    point.x = Math.sin(mainAngle + ang) * dis + unitsCenter.x;\n    point.y = -Math.cos(mainAngle + ang) * dis + unitsCenter.y;\n  }); // Now we have made full array which contain new positions\n\n  var unitsWithoutPoint = unitsOutOfRange.slice();\n\n  var sortUnitsArray = function sortUnitsArray(a, b) {\n    var aDistance = _Utils.default.dis(a, unitsCenter),\n        bDistance = _Utils.default.dis(b, unitsCenter);\n\n    if (aDistance > bDistance) return -1;else if (aDistance < bDistance) return 1;\n    return 0;\n  };\n\n  unitsWithoutPoint.sort(sortUnitsArray); //let y = positionData.points.length - (positionData.points.length % positionData.cols) - 1;\n  //index brzegowego pointu\n\n  if (attack) {\n    if (!('center' in destination)) {\n      debugger;\n      return;\n    }\n\n    var d = Math.sqrt(Math.pow(unitsWithoutPoint[0].weapon.range, 2) - Math.pow(positionData.width / 2, 2)) - positionData.height / 2;\n    var newPointX = Math.sin(mainAngle) * -d + destination.center.x;\n    var newPointY = -Math.cos(mainAngle) * -d + destination.center.y; //-----------===========WYRZUCENIE TESU, CZY MIEJSCE JEST WOLNE===============--------------//\n    // if(!testPlaceIsFree({x: newPointX, y: newPointY}, positionData.height/2)) {\n    // \tlet changeAngle = window.dis(destination, {x: newPointX, y: newPointY}) / positionData.height/2;\n    // \tnewPointY = Math.sin(mainAngle + changeAngle) * -d + destination.x;\n    // \tnewPointY = -Math.cos(mainAngle + changeAngle) * -d + destination.y;\n    // \tif(!testPlaceIsFree({x: newPointX, y: newPointY}, positionData.height/2)) {\n    // \t\tnewPointY = Math.sin(mainAngle - changeAngle) * -d + destination.x;\n    // \t\tnewPointY = -Math.cos(mainAngle - changeAngle) * -d + destination.y;\n    // \t}\n    // }\n\n    offsetX = -newPointX + unitsCenter.x, offsetY = -newPointY + unitsCenter.y;\n  } // Make sure that all points are in map boundary\n  // const inBoundary = (point: Point) => {\n  //     const diffX = point.x - offsetX;\n  //     if(diffX <= 0)\n  //         offsetX += diffX - 0;\n  //     else if(diffX >= window.mapWidth - 0)\n  //         offsetX += diffX - window.mapWidth + 0;\n  //     const diffY = point.y - offsetY;\n  //     if(diffY <= 0)\n  //         offsetY += diffY - 0;\n  //     else if(diffY >= window.mapHeight - 0)\n  //         offsetY += diffY - window.mapHeight + 0;\n  // }\n\n\n  var safeFactor = 20; // 15 shoudl be okay, but for fell more safe :p\n  // its caused by generate array has every second row shifted by 15\n\n  var inBoundary = function inBoundary(point) {\n    if (point.x - offsetX <= safeFactor) {\n      offsetX -= -(point.x - offsetX) + safeFactor;\n    } else if (point.x - offsetX >= window.mapWidth - safeFactor) {\n      offsetX += point.x - offsetX - window.mapWidth + safeFactor;\n    }\n\n    if (point.y - offsetY <= safeFactor) {\n      offsetY -= -(point.y - offsetY) + safeFactor;\n    } else if (point.y - offsetY >= window.mapHeight - safeFactor) {\n      offsetY += point.y - offsetY - window.mapHeight + safeFactor;\n    }\n  };\n\n  if (!positionData.points[0]) debugger;\n  inBoundary(positionData.points[0]);\n  inBoundary(positionData.points[positionData.cols - 1]);\n\n  if (positionData.points.length === positionData.cols * positionData.rows) {\n    inBoundary(positionData.points[positionData.points.length - positionData.cols]);\n    inBoundary(positionData.points[positionData.points.length - 1]);\n  } else {\n    var rest = positionData.points.length % positionData.cols;\n    inBoundary(positionData.points[positionData.points.length - rest]);\n    inBoundary(positionData.points[positionData.points.length - rest - 1]);\n  } // console.log(positionData.points, offsetX, offsetY);\n  // debugger;\n  //iterowanie po punktach, gdy punktów moze byc wiecej niz jednostek daje efekt\n  //bajzlu na planszy\n\n\n  positionData.points.forEach(function (point) {\n    var index = _Utils.default.getIndexOfTheNearestItem(unitsWithoutPoint, point);\n\n    point.x -= offsetX;\n    point.y -= offsetY;\n    var aimToAttack = attack ? destination : undefined;\n    unitsWithoutPoint[index].squad.aim = aimToAttack;\n    unitsWithoutPoint[index].setTargetToGo(point);\n    unitsWithoutPoint.splice(index, 1);\n  });\n};\n\nvar _default = setDestinationPoint;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9zZXREZXN0aW5hdGlvbi50cz8zNDYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7OztBQUdBLElBQU0sZ0JBQWdCLEdBQUcsU0FBbkIsZ0JBQW1CLENBQUMsS0FBRCxFQUFVO0FBQy9CLE1BQU0sT0FBTyxHQUFHLEVBQWhCO0FBQ0EsT0FBSyxDQUFDLEdBQU4sQ0FBVyxjQUFJLEVBQUc7QUFDZCxTQUFJLElBQUksQ0FBQyxHQUFHLENBQVosRUFBZSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQTNCLEVBQW1DLENBQUMsRUFBcEMsRUFBd0M7QUFBQztBQUNyQyxVQUFHLE9BQU8sQ0FBQyxDQUFELENBQVAsQ0FBVyxDQUFYLEVBQWMsTUFBZCxDQUFxQixLQUFyQixLQUErQixJQUFJLENBQUMsTUFBTCxDQUFZLEtBQTlDLEVBQXFEO0FBQ2pELGVBQU8sQ0FBQyxDQUFELENBQVAsQ0FBVyxJQUFYLENBQWdCLElBQWhCLEVBRGlELENBQzNCOztBQUN0QixlQUZpRCxDQUUxQztBQUNWO0FBQ0o7O0FBQ0QsV0FBTyxDQUFDLElBQVIsQ0FBYSxDQUFFLElBQUYsQ0FBYixFQVBjLENBT1M7QUFDMUIsR0FSRDtBQVNBLFNBQU8sT0FBUDtBQUNILENBWkQ7O0FBY0EsSUFBTSx1QkFBdUIsR0FBRyxTQUExQix1QkFBMEIsQ0FBQyxLQUFELEVBQTJCO0FBQ3ZELE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxNQUFULENBQWdCLEtBQXBDO0FBQ0EsU0FBTyxLQUFLLENBQUMsTUFBTixDQUFjLFVBQUMsSUFBRCxFQUFPLElBQVA7QUFBQSxXQUNqQixXQUFXLEtBQUssSUFBSSxDQUFDLE1BQUwsQ0FBWSxLQUE1QixHQUFvQyxJQUFwQyxHQUEyQyxJQUQxQjtBQUFBLEdBQWQsRUFDOEMsS0FEOUMsQ0FBUDtBQUVILENBSkQ7O0FBTUEsSUFBTSxtQkFBbUIsR0FBRyxTQUF0Qixt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TUFBYixDQUFvQixPQUFwQixDQUE0QixlQUFLLEVBQUc7QUFDaEMsUUFBTSxLQUFLLEdBQUcsZUFBTSx3QkFBTixDQUErQixpQkFBL0IsRUFBa0QsS0FBbEQsQ0FBZDs7QUFDQSxTQUFLLENBQUMsQ0FBTixJQUFXLE9BQVg7QUFDQSxTQUFLLENBQUMsQ0FBTixJQUFXLE9BQVg7QUFDQSxRQUFNLFdBQVcsR0FBRyxNQUFNLEdBQUcsV0FBSCxHQUFpQixTQUEzQztBQUNBLHFCQUFpQixDQUFDLEtBQUQsQ0FBakIsQ0FBeUIsS0FBekIsQ0FBK0IsR0FBL0IsR0FBcUMsV0FBckM7QUFDQSxxQkFBaUIsQ0FBQyxLQUFELENBQWpCLENBQXlCLGFBQXpCLENBQXVDLEtBQXZDO0FBQ0EscUJBQWlCLENBQUMsTUFBbEIsQ0FBeUIsS0FBekIsRUFBZ0MsQ0FBaEM7QUFDSCxHQVJEO0FBU0gsQ0F4TUQ7O2VBME1lLG1CIiwiZmlsZSI6IjE5OS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVdGlscyBmcm9tICdVdGlscyc7XG5pbXBvcnQgVW5pdCBmcm9tICd+L3VuaXRzL1VuaXQnO1xuaW1wb3J0IGdlbmVyYXRlQXJyYXkgZnJvbSAnfi9tb2R1bGVzL2dlbmVyYXRlQXJyYXknO1xuaW1wb3J0IFNxdWFkIGZyb20gJ34vdW5pdHMvU3F1YWQnO1xuXG5jb25zdCBzb3J0VW5pdEJ5V2VhcG9uID0gKHVuaXRzKSA9PiB7XG4gICAgY29uc3Qgd2VhcG9ucyA9IFtdO1xuICAgIHVuaXRzLm1hcCggdW5pdCA9PiB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB3ZWFwb25zLmxlbmd0aDsgaSsrKSB7Ly9sb29wIHBlciB3ZWFwb24gdHlwZXNcbiAgICAgICAgICAgIGlmKHdlYXBvbnNbaV1bMF0ud2VhcG9uLnJhbmdlID09PSB1bml0LndlYXBvbi5yYW5nZSkge1xuICAgICAgICAgICAgICAgIHdlYXBvbnNbaV0ucHVzaCh1bml0KTsvL3dlYXBvbiBvZiB0aGlzIHR5cGUgYWxyZWFkeSBleGlzdHMgaW4gYXJyYXlcbiAgICAgICAgICAgICAgICByZXR1cm47Ly9hZnRlciBhZGQgd2VhcG9uIHRvIGFycmF5LCBsZWF2ZSBsb29wXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2VhcG9ucy5wdXNoKFsgdW5pdCBdKTsvL2FkZCBuZXcgdHlwZSBvZiB3ZWFwb24sIGFuZCBhZGQgdW5pdHMgdG8gdGhpcyB0eXBlXG4gICAgfSk7XG4gICAgcmV0dXJuIHdlYXBvbnM7XG59XG5cbmNvbnN0IGlzTW9yZVRoYW5PbmVXZWFwb25UeXBlID0gKHVuaXRzOiBVbml0W10pOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBmaXJzdFdlYXBvbiA9IHVuaXRzWzBdLndlYXBvbi5yYW5nZTtcbiAgICByZXR1cm4gdW5pdHMucmVkdWNlKCAocHJldiwgY3VycikgPT5cbiAgICAgICAgZmlyc3RXZWFwb24gIT09IGN1cnIud2VhcG9uLnJhbmdlID8gdHJ1ZSA6IHByZXYsIGZhbHNlKTtcbn1cblxuY29uc3Qgc2V0RGVzdGluYXRpb25Qb2ludCA9IChcbiAgZGVzdGluYXRpb246IFNxdWFkIHwgUG9pbnQsXG4gIHVuaXRzOiBVbml0W10sXG4gIGF0dGFjazpib29sZWFuLFxuICBvbmVXZWFwb25UeXBlOmJvb2xlYW4sXG4gIG9uZVBsYWNlOmJvb2xlYW5cbikgPT4ge1xuICAgIC8vQSBDTyBHRFkgamVkbm9zdGtpIGt0w7NyZSBzxIUgemF6bmFjem9uZSwgbWFqxIUgcsOzxbxueSB6YXNpxJlnIGJyb25pPz8/XG4gICAgLy8tcm96ZHppZWxpxIcgbmEgZHdpZSBtZXRvZHksIGlubmUgcG9sYSBuYSBrdMOzcnN6ZWogYnJvbmksIGlubmUgZGxhIGTFgnXFvHN6ZWosIGNhxYJhIGZ1bmtjamEgeCAyIGHFvCBtdXNpIGnFm8SHXG4gICAgbGV0IHVuaXRzT3V0T2ZSYW5nZSA9IFtdO1xuXG4gICAgaWYoYXR0YWNrKSB7XG4gICAgICBpZiAoISgnY2VudGVyJyBpbiBkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgZGVidWdnZXJcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIHVuaXRzLmZvckVhY2goKHVuaXQpID0+IHsgLy8gaWYgZGlzdGFuY2UgPCB3ZWFwb24ucmFuZ2UsIHRoZW4gdW5pdCBjYW4gc3RheVxuICAgICAgICBpZiAoVXRpbHMuZGlzKHVuaXQsIGRlc3RpbmF0aW9uLmNlbnRlcikgPCB1bml0LndlYXBvbi5yYW5nZSkge1xuICAgICAgICAgIHVuaXQuc3F1YWQuYWltID0gZGVzdGluYXRpb25cbiAgICAgICAgICB1bml0LnN0YXkoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVuaXRzT3V0T2ZSYW5nZS5wdXNoKHVuaXQpIC8vIHJlc3Qgb2YgdW50aXMgbmVlZHMgdG8gZmluZCBiZSBjbG9zZXIgdG8gYWltXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGlmKHVuaXRzT3V0T2ZSYW5nZS5sZW5ndGggPT09IDApIHJldHVybjsgLy8gQWxsIHVuaXRzIGFyZSBpbiByYW5nZVxuXG4gICAgICAvLyBpZiB1bml0cyBhcmUgaW4gZGlmZmVyZW50IGdyb3VwLCB0aGVuIGZpcnN0bHkgdGhleSBuZWVkIHRvIGNyZWF0ZSBkaWZmZXJlbmQgZ3JvdXBzIGRlcGVuZGluZyBvbiBwb3NpdGlvblxuICAgICAgaWYoIW9uZVBsYWNlKSB7XG4gICAgICAgICAgLy9TVEFSVCBURVNUSU5HOiBcIlVuaXRzIGFyZSBpbiB0aGUgc2FtZSBwbGFjZT9cIlxuICAgICAgICAgIGxldCBhbGxJbk9uZUdyb3VwID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCB1bml0c0luRGlmZmVyZW50UGxhY2VzID0gW1tdLFtdLFtdLFtdXSwvLzQgYXJyYXlzLCBvbmUgcGVyIGthcnRlemphbiBzcGFjZVxuICAgICAgICAgICAgICAgIGdyb3VwWCA9IHVuaXRzWzBdLngsLy90byB0ZXN0aW5nLCBiZWNhdXNlIG1heWJlIGFsbCB1bml0cyBhcmUgaW4gb25lIGdyb3VwXG4gICAgICAgICAgICAgICAgZ3JvdXBZID0gdW5pdHNbMF0ueTsvL2J1dCBncm91cCBpcyBvbiBvdGhlcnMgc3BhY2Ugb2Yga2FyZXR6amlhbiBhcmVhXG5cbiAgICAgICAgICB1bml0c091dE9mUmFuZ2UubWFwKHVuaXQgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB4ID0gdW5pdC54IDwgZGVzdGluYXRpb24uY2VudGVyLnggPyAxIDogMDtcbiAgICAgICAgICAgICAgY29uc3QgeSA9IHVuaXQueSA+IGRlc3RpbmF0aW9uLmNlbnRlci55ID8gMiA6IDA7Ly93aGljaCBrYXJ0ZXpqYW4gc3BhY2VcbiAgICAgICAgICAgICAgdW5pdHNJbkRpZmZlcmVudFBsYWNlc1t4ICsgeV0ucHVzaCh1bml0KTtcblxuICAgICAgICAgICAgICBpZihNYXRoLmFicyhncm91cFggLSB1bml0LngpID4gMjAwIHx8IE1hdGguYWJzKGdyb3VwWSAtIHVuaXQueSkgPiAyMDApIHtcbiAgICAgICAgICAgICAgICAgIGFsbEluT25lR3JvdXAgPSBmYWxzZTsvL2N6eSB3c3p5c3RraWUgamVkbm9zdGtpIHNhIHcgamVuZHltIG1pZWpzY3UsIGN6eWxpIGN6eSBpY2ggb2RlbGdvc2Mgb2QgcGllcndzemVqIGplbmRvc3RraSBqZXN0IG1uaWVqc3phIG5peiAyMDBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYoIWFsbEluT25lR3JvdXApIHtcbiAgICAgICAgICAgICAgbGV0IGNvdW50T3RoZXIgPSAwOy8vdGVzdCwgaXMgbW9yZSB0aGFuIG9uZSBrYXJ0ZXpqYW4gc3BhY2VcbiAgICAgICAgICAgICAgdW5pdHNJbkRpZmZlcmVudFBsYWNlcy5tYXAoIHBsYWNlID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmKHBsYWNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgIGNvdW50T3RoZXIrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICBpZihjb3VudE90aGVyID4gMSkgey8vaXMgbW9yZSB0aGFuIG9uZSBrYXJ0ZXpqYW4gc3BhY2VcbiAgICAgICAgICAgICAgICAgIHVuaXRzSW5EaWZmZXJlbnRQbGFjZXMubWFwKHBsYWNlID0+IHNldERlc3RpbmF0aW9uUG9pbnQoZGVzdGluYXRpb24sIHBsYWNlLCB0cnVlLCBmYWxzZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vRU5EIFRFU1RJTkc6IFwiVW5pdHMgYXJlIGluIHRoZSBzYW1lIHBsYWNlP1wiXG4gICAgICB9XG5cblxuICAgICAgaWYoIW9uZVdlYXBvblR5cGUpIHtcbiAgICAgICAgICBjb25zdCBtb3JlVHlwZXMgPSBpc01vcmVUaGFuT25lV2VhcG9uVHlwZSh1bml0c091dE9mUmFuZ2UpOy8vaXQncyBtb3JlIHRoYW4gb25lIHR5cGUgb2Ygd2VhcG9uLCByZXR1cm4gYm9vbGVhblxuICAgICAgICAgIGlmKG1vcmVUeXBlcykge1xuICAgICAgICAgICAgICBjb25zdCB3ZWFwb25zID0gc29ydFVuaXRCeVdlYXBvbih1bml0c091dE9mUmFuZ2UpOy8vc29ydCB1bnRpcyBieSB3ZWFwb24ncyByYW5nZSwgcmV0dXJuIGFycmF5XG4gICAgICAgICAgICAgIHdlYXBvbnMubWFwKHVuaXRzS2luZCA9PlxuICAgICAgICAgICAgICAgICAgc2V0RGVzdGluYXRpb25Qb2ludChkZXN0aW5hdGlvbiwgdW5pdHNLaW5kLCB0cnVlLCB0cnVlLCB0cnVlKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICB9IGVsc2Ugey8vaWYgYXR0YWNrID09IGZhbHNlXG4gICAgICAgIHVuaXRzT3V0T2ZSYW5nZSA9IHVuaXRzLnNsaWNlKCk7XG4gICAgICAgIC8vIHVuaXRzT3V0T2ZSYW5nZS5tYXAodW5pdCA9PiB7XG4gICAgICAgIC8vIFx0dW5pdC5zZXRUYXJnZXRUb0dvKCk7XHRcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIC8vYmVjYXVzZSBvbiBib3R0b20gd2Ugc2V0IHVuZGVmaWVuZCB3aGVuIGF0dGFjayBpcyBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHVuaXRzQ2VudGVyID0gVXRpbHMuY2FsY3VsYXRlQ2VudGVyUG9pbnQodW5pdHNPdXRPZlJhbmdlKVxuICAgIGNvbnN0IG1haW5BbmdsZSA9IFV0aWxzLmFuZyhcbiAgICAgIHVuaXRzQ2VudGVyLFxuICAgICAgKCdjZW50ZXInIGluIGRlc3RpbmF0aW9uID8gZGVzdGluYXRpb24uY2VudGVyIDogZGVzdGluYXRpb24pXG4gICAgKVxuICAgIGNvbnN0IHBvc2l0aW9uRGF0YSA9IGdlbmVyYXRlQXJyYXkodW5pdHNPdXRPZlJhbmdlLmxlbmd0aClcblxuICAgIGxldCBvZmZzZXRYID0gdW5pdHNDZW50ZXIueCAtICgnY2VudGVyJyBpbiBkZXN0aW5hdGlvbiA/IGRlc3RpbmF0aW9uLmNlbnRlci54IDogZGVzdGluYXRpb24ueClcbiAgICBsZXQgb2Zmc2V0WSA9IHVuaXRzQ2VudGVyLnkgLSAoJ2NlbnRlcicgaW4gZGVzdGluYXRpb24gPyBkZXN0aW5hdGlvbi5jZW50ZXIueSA6IGRlc3RpbmF0aW9uLnkpXG5cbiAgICBwb3NpdGlvbkRhdGEucG9pbnRzLm1hcChwb2ludCA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXJ0UG9pbnQ6IFBvaW50ID0ge3g6IDAsIHk6IDB9LFxuICAgICAgICAgICAgICBkaXMgPSBVdGlscy5kaXMoc3RhcnRQb2ludCwgcG9pbnQpLFxuICAgICAgICAgICAgICBhbmcgPSBVdGlscy5hbmcoc3RhcnRQb2ludCwgcG9pbnQpO1xuICAgICAgICBwb2ludC54ID0gTWF0aC5zaW4obWFpbkFuZ2xlICsgYW5nKSAqIGRpcyArIHVuaXRzQ2VudGVyLng7XG4gICAgICAgIHBvaW50LnkgPSAtTWF0aC5jb3MobWFpbkFuZ2xlICsgYW5nKSAqIGRpcyArIHVuaXRzQ2VudGVyLnk7XG4gICAgfSk7XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBtYWRlIGZ1bGwgYXJyYXkgd2hpY2ggY29udGFpbiBuZXcgcG9zaXRpb25zXG5cbiAgICBjb25zdCB1bml0c1dpdGhvdXRQb2ludCA9IHVuaXRzT3V0T2ZSYW5nZS5zbGljZSgpO1xuICAgIGNvbnN0IHNvcnRVbml0c0FycmF5ID0gKGEgLGIpID0+IHtcbiAgICAgICAgY29uc3QgYURpc3RhbmNlID0gVXRpbHMuZGlzKGEsIHVuaXRzQ2VudGVyKSxcbiAgICAgICAgICAgICAgYkRpc3RhbmNlID0gVXRpbHMuZGlzKGIsIHVuaXRzQ2VudGVyKTtcbiAgICAgICAgaWYoYURpc3RhbmNlID4gYkRpc3RhbmNlKSByZXR1cm4gLTE7XG4gICAgICAgIGVsc2UgaWYoYURpc3RhbmNlIDwgYkRpc3RhbmNlKSByZXR1cm4gMTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHVuaXRzV2l0aG91dFBvaW50LnNvcnQoc29ydFVuaXRzQXJyYXkpO1xuICAgIFxuICAgIC8vbGV0IHkgPSBwb3NpdGlvbkRhdGEucG9pbnRzLmxlbmd0aCAtIChwb3NpdGlvbkRhdGEucG9pbnRzLmxlbmd0aCAlIHBvc2l0aW9uRGF0YS5jb2xzKSAtIDE7XG4gICAgLy9pbmRleCBicnplZ293ZWdvIHBvaW50dVxuXG5cbiAgICBpZihhdHRhY2spIHtcbiAgICAgICAgaWYgKCEoJ2NlbnRlcicgaW4gZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgZGVidWdnZXJcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkID0gTWF0aC5zcXJ0KE1hdGgucG93KHVuaXRzV2l0aG91dFBvaW50WzBdLndlYXBvbi5yYW5nZSwyKSAtIE1hdGgucG93KHBvc2l0aW9uRGF0YS53aWR0aC8yLCAyKSkgLSBwb3NpdGlvbkRhdGEuaGVpZ2h0LzI7XG4gICAgICAgIGxldCBuZXdQb2ludFggPSBNYXRoLnNpbihtYWluQW5nbGUpICogLWQgKyBkZXN0aW5hdGlvbi5jZW50ZXIueFxuICAgICAgICBsZXQgbmV3UG9pbnRZID0gLU1hdGguY29zKG1haW5BbmdsZSkgKiAtZCArIGRlc3RpbmF0aW9uLmNlbnRlci55XG5cbiAgICAgICAgICAgIC8vLS0tLS0tLS0tLS09PT09PT09PT09PVdZUlpVQ0VOSUUgVEVTVSwgQ1pZIE1JRUpTQ0UgSkVTVCBXT0xORT09PT09PT09PT09PT09PS0tLS0tLS0tLS0tLS0tLy9cbiAgICAgICAgLy8gaWYoIXRlc3RQbGFjZUlzRnJlZSh7eDogbmV3UG9pbnRYLCB5OiBuZXdQb2ludFl9LCBwb3NpdGlvbkRhdGEuaGVpZ2h0LzIpKSB7XG5cbiAgICAgICAgLy8gXHRsZXQgY2hhbmdlQW5nbGUgPSB3aW5kb3cuZGlzKGRlc3RpbmF0aW9uLCB7eDogbmV3UG9pbnRYLCB5OiBuZXdQb2ludFl9KSAvIHBvc2l0aW9uRGF0YS5oZWlnaHQvMjtcblxuICAgICAgICAvLyBcdG5ld1BvaW50WSA9IE1hdGguc2luKG1haW5BbmdsZSArIGNoYW5nZUFuZ2xlKSAqIC1kICsgZGVzdGluYXRpb24ueDtcbiAgICAgICAgLy8gXHRuZXdQb2ludFkgPSAtTWF0aC5jb3MobWFpbkFuZ2xlICsgY2hhbmdlQW5nbGUpICogLWQgKyBkZXN0aW5hdGlvbi55O1xuXG4gICAgICAgIC8vIFx0aWYoIXRlc3RQbGFjZUlzRnJlZSh7eDogbmV3UG9pbnRYLCB5OiBuZXdQb2ludFl9LCBwb3NpdGlvbkRhdGEuaGVpZ2h0LzIpKSB7XG4gICAgICAgIC8vIFx0XHRuZXdQb2ludFkgPSBNYXRoLnNpbihtYWluQW5nbGUgLSBjaGFuZ2VBbmdsZSkgKiAtZCArIGRlc3RpbmF0aW9uLng7XG4gICAgICAgIC8vIFx0XHRuZXdQb2ludFkgPSAtTWF0aC5jb3MobWFpbkFuZ2xlIC0gY2hhbmdlQW5nbGUpICogLWQgKyBkZXN0aW5hdGlvbi55O1xuICAgICAgICAvLyBcdH1cblxuICAgICAgICAvLyB9XG4gICAgICAgIG9mZnNldFggPSAtbmV3UG9pbnRYICsgdW5pdHNDZW50ZXIueCxcbiAgICAgICAgb2Zmc2V0WSA9IC1uZXdQb2ludFkgKyB1bml0c0NlbnRlci55O1xuICAgIH1cblxuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgYWxsIHBvaW50cyBhcmUgaW4gbWFwIGJvdW5kYXJ5XG5cbiAgICAgICAgLy8gY29uc3QgaW5Cb3VuZGFyeSA9IChwb2ludDogUG9pbnQpID0+IHtcbiAgICAgICAgLy8gICAgIGNvbnN0IGRpZmZYID0gcG9pbnQueCAtIG9mZnNldFg7XG4gICAgICAgIC8vICAgICBpZihkaWZmWCA8PSAwKVxuICAgICAgICAvLyAgICAgICAgIG9mZnNldFggKz0gZGlmZlggLSAwO1xuICAgICAgICAvLyAgICAgZWxzZSBpZihkaWZmWCA+PSB3aW5kb3cubWFwV2lkdGggLSAwKVxuICAgICAgICAvLyAgICAgICAgIG9mZnNldFggKz0gZGlmZlggLSB3aW5kb3cubWFwV2lkdGggKyAwO1xuICAgIFxuICAgICAgICAvLyAgICAgY29uc3QgZGlmZlkgPSBwb2ludC55IC0gb2Zmc2V0WTtcbiAgICAgICAgLy8gICAgIGlmKGRpZmZZIDw9IDApXG4gICAgICAgIC8vICAgICAgICAgb2Zmc2V0WSArPSBkaWZmWSAtIDA7XG4gICAgICAgIC8vICAgICBlbHNlIGlmKGRpZmZZID49IHdpbmRvdy5tYXBIZWlnaHQgLSAwKVxuICAgICAgICAvLyAgICAgICAgIG9mZnNldFkgKz0gZGlmZlkgLSB3aW5kb3cubWFwSGVpZ2h0ICsgMDtcbiAgICAgICAgLy8gfVxuXG4gICAgY29uc3Qgc2FmZUZhY3RvciA9IDIwOy8vIDE1IHNob3VkbCBiZSBva2F5LCBidXQgZm9yIGZlbGwgbW9yZSBzYWZlIDpwXG4gICAgLy8gaXRzIGNhdXNlZCBieSBnZW5lcmF0ZSBhcnJheSBoYXMgZXZlcnkgc2Vjb25kIHJvdyBzaGlmdGVkIGJ5IDE1XG4gICAgY29uc3QgaW5Cb3VuZGFyeSA9IChwb2ludDogUG9pbnQpID0+IHtcbiAgICAgICAgaWYocG9pbnQueCAtIG9mZnNldFggPD0gc2FmZUZhY3Rvcikge1xuICAgICAgICAgICAgb2Zmc2V0WCAtPSAtKHBvaW50LnggLSBvZmZzZXRYKSArIHNhZmVGYWN0b3I7XG4gICAgICAgIH0gZWxzZSBpZihwb2ludC54IC0gb2Zmc2V0WCA+PSB3aW5kb3cubWFwV2lkdGggLSBzYWZlRmFjdG9yKSB7XG4gICAgICAgICAgICBvZmZzZXRYICs9IChwb2ludC54IC0gb2Zmc2V0WCkgLSB3aW5kb3cubWFwV2lkdGggKyBzYWZlRmFjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGlmKHBvaW50LnkgLSBvZmZzZXRZIDw9IHNhZmVGYWN0b3IpIHtcbiAgICAgICAgICAgIG9mZnNldFkgLT0gLShwb2ludC55IC0gb2Zmc2V0WSkgKyBzYWZlRmFjdG9yO1xuICAgICAgICB9IGVsc2UgaWYocG9pbnQueSAtIG9mZnNldFkgPj0gd2luZG93Lm1hcEhlaWdodCAtIHNhZmVGYWN0b3IpIHtcbiAgICAgICAgICAgIG9mZnNldFkgKz0gKHBvaW50LnkgLSBvZmZzZXRZKSAtIHdpbmRvdy5tYXBIZWlnaHQgKyBzYWZlRmFjdG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmKCFwb3NpdGlvbkRhdGEucG9pbnRzWzBdKSBkZWJ1Z2dlcjtcbiAgICBpbkJvdW5kYXJ5KHBvc2l0aW9uRGF0YS5wb2ludHNbMF0pO1xuICAgIGluQm91bmRhcnkocG9zaXRpb25EYXRhLnBvaW50c1twb3NpdGlvbkRhdGEuY29scyAtIDFdKTtcbiAgICBpZihwb3NpdGlvbkRhdGEucG9pbnRzLmxlbmd0aCA9PT0gcG9zaXRpb25EYXRhLmNvbHMgKiBwb3NpdGlvbkRhdGEucm93cykge1xuICAgICAgICBpbkJvdW5kYXJ5KHBvc2l0aW9uRGF0YS5wb2ludHNbcG9zaXRpb25EYXRhLnBvaW50cy5sZW5ndGggLSBwb3NpdGlvbkRhdGEuY29sc10pO1xuICAgICAgICBpbkJvdW5kYXJ5KHBvc2l0aW9uRGF0YS5wb2ludHNbcG9zaXRpb25EYXRhLnBvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdCA9IHBvc2l0aW9uRGF0YS5wb2ludHMubGVuZ3RoICUgcG9zaXRpb25EYXRhLmNvbHM7XG4gICAgICAgIGluQm91bmRhcnkocG9zaXRpb25EYXRhLnBvaW50c1twb3NpdGlvbkRhdGEucG9pbnRzLmxlbmd0aCAtIHJlc3RdKTtcbiAgICAgICAgaW5Cb3VuZGFyeShwb3NpdGlvbkRhdGEucG9pbnRzW3Bvc2l0aW9uRGF0YS5wb2ludHMubGVuZ3RoIC0gcmVzdCAtIDFdKTtcbiAgICB9XG5cblxuICAgIC8vIGNvbnNvbGUubG9nKHBvc2l0aW9uRGF0YS5wb2ludHMsIG9mZnNldFgsIG9mZnNldFkpO1xuICAgIC8vIGRlYnVnZ2VyO1xuXG4gICAgLy9pdGVyb3dhbmllIHBvIHB1bmt0YWNoLCBnZHkgcHVua3TDs3cgbW96ZSBieWMgd2llY2VqIG5peiBqZWRub3N0ZWsgZGFqZSBlZmVrdFxuICAgIC8vYmFqemx1IG5hIHBsYW5zenlcbiAgICBwb3NpdGlvbkRhdGEucG9pbnRzLmZvckVhY2gocG9pbnQgPT4gey8vb2JsaWN6YW15IG9kbGVnxYJzb2MgcHVua3TDs3cgb2QgamVkbm9zdGVrXG4gICAgICAgIGNvbnN0IGluZGV4ID0gVXRpbHMuZ2V0SW5kZXhPZlRoZU5lYXJlc3RJdGVtKHVuaXRzV2l0aG91dFBvaW50LCBwb2ludClcbiAgICAgICAgcG9pbnQueCAtPSBvZmZzZXRYXG4gICAgICAgIHBvaW50LnkgLT0gb2Zmc2V0WVxuICAgICAgICBjb25zdCBhaW1Ub0F0dGFjayA9IGF0dGFjayA/IGRlc3RpbmF0aW9uIDogdW5kZWZpbmVkXG4gICAgICAgIHVuaXRzV2l0aG91dFBvaW50W2luZGV4XS5zcXVhZC5haW0gPSBhaW1Ub0F0dGFja1xuICAgICAgICB1bml0c1dpdGhvdXRQb2ludFtpbmRleF0uc2V0VGFyZ2V0VG9Hbyhwb2ludClcbiAgICAgICAgdW5pdHNXaXRob3V0UG9pbnQuc3BsaWNlKGluZGV4LCAxKVxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzZXREZXN0aW5hdGlvblBvaW50OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///199\n")},200:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _iconGrenadeSprite = _interopRequireDefault(__webpack_require__(217));\n\nvar _iconJumpSprite = _interopRequireDefault(__webpack_require__(218));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Icons = {\n  icons: {},\n  init: function init() {\n    this.icons['SOLIDER_GRENADE'] = (0, _iconGrenadeSprite.default)();\n    this.icons['ASSAULT_JUMP'] = (0, _iconJumpSprite.default)();\n  },\n  combineIcons: function combineIcons(squad) {\n    var _this = this;\n\n    var abilities = squad.abilities;\n    var iconsGroup = new PIXI.Sprite();\n    abilities.map(function (ability, index) {\n      var newIcons = _this.icons[ability.name]();\n\n      newIcons.x = index * _gameSettings.default.ABILITY_ICON_SIZE - abilities.length * _gameSettings.default.ABILITY_ICON_SIZE / 2;\n      iconsGroup.addChild(newIcons);\n    });\n    iconsGroup.anchor.set(0.5, 1);\n    return iconsGroup;\n  },\n  removeIcon: function removeIcon(icon) {\n    window.app.stage.removeChild(icon.graphics);\n    var index = window.icons.indexOf(icon);\n    window.icons.splice(index, 1);\n  },\n  removeAllIcons: function removeAllIcons() {\n    window.icons.map(function (icon) {\n      return window.app.stage.removeChild(icon.graphics);\n    });\n    window.icons = [];\n  },\n  showIcons: function showIcons() {\n    var _this2 = this;\n\n    if (window.allSelectedUnits.length > 0) {\n      window.allSquads[0].map(function (squad) {\n        if (squad.isAllSelected) {\n          var squadIcon = window.icons.find(function (icon) {\n            return icon.squad === squad;\n          });\n\n          if (squadIcon) {\n            squadIcon.graphics.x = squad.members[0].x;\n            squadIcon.graphics.y = squad.members[0].y - 75;\n            squad.abilities.map(function (abili) {\n              if (abili.time > 0) {\n                squadIcon.graphics.alpha = (abili.rechargeTime - abili.time) / abili.rechargeTime;\n              }\n            });\n          } else {\n            var newIcon = {\n              graphics: _this2.combineIcons(squad),\n              squad: squad,\n              width: squad.abilities.length * _gameSettings.default.ABILITY_ICON_SIZE\n            };\n            window.icons.push(newIcon);\n            newIcon.graphics.x = squad.members[0].x;\n            newIcon.graphics.y = squad.members[0].y - 75;\n            window.app.stage.addChild(newIcon.graphics);\n          }\n        } else {\n          var iconToRemove = window.icons.find(function (icon) {\n            return icon.squad === squad;\n          });\n\n          if (iconToRemove) {\n            _this2.removeIcon(iconToRemove);\n          }\n        }\n      });\n    }\n  }\n};\nvar _default = Icons;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9pY29ucy50cz9lNjdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7OztBQWlCQSxJQUFNLEtBQUssR0FBVztBQUNsQixPQUFLLEVBQUUsRUFEVztBQUVsQixNQUZrQixrQkFFZDtBQUNBLFNBQUssS0FBTCxDQUFXLGlCQUFYLElBQWdDLGlDQUFoQztBQUNBLFNBQUssS0FBTCxDQUFXLGNBQVgsSUFBNkIsOEJBQTdCO0FBQ0gsR0FMaUI7QUFNbEIsY0FOa0Isd0JBTUwsS0FOSyxFQU1BO0FBQUE7O0FBQUEsUUFDTixTQURNLEdBQ1EsS0FEUixDQUNOLFNBRE07QUFFZCxRQUFNLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFULEVBQW5CO0FBQ0EsYUFBUyxDQUFDLEdBQVYsQ0FBYyxVQUFDLE9BQUQsRUFBVSxLQUFWLEVBQW1CO0FBQzdCLFVBQU0sUUFBUSxHQUFHLEtBQUksQ0FBQyxLQUFMLENBQVcsT0FBTyxDQUFDLElBQW5CLEdBQWpCOztBQUNBLGNBQVEsQ0FBQyxDQUFULEdBQWEsS0FBSyxHQUFHLHNCQUFTLGlCQUFqQixHQUFzQyxTQUFTLENBQUMsTUFBVixHQUFtQixzQkFBUyxpQkFBN0IsR0FBa0QsQ0FBcEc7QUFDQSxnQkFBVSxDQUFDLFFBQVgsQ0FBb0IsUUFBcEI7QUFDSCxLQUpEO0FBS0EsY0FBVSxDQUFDLE1BQVgsQ0FBa0IsR0FBbEIsQ0FBc0IsR0FBdEIsRUFBMkIsQ0FBM0I7QUFDQSxXQUFPLFVBQVA7QUFDSCxHQWhCaUI7QUFpQmxCLFlBakJrQixzQkFpQlAsSUFqQk8sRUFpQkg7QUFDWCxVQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsV0FBakIsQ0FBNkIsSUFBSSxDQUFDLFFBQWxDO0FBQ0EsUUFBTSxLQUFLLEdBQVcsTUFBTSxDQUFDLEtBQVAsQ0FBYSxPQUFiLENBQXFCLElBQXJCLENBQXRCO0FBQ0EsVUFBTSxDQUFDLEtBQVAsQ0FBYSxNQUFiLENBQW9CLEtBQXBCLEVBQTJCLENBQTNCO0FBQ0gsR0FyQmlCO0FBc0JsQixnQkF0QmtCLDRCQXNCSjtBQUNWLFVBQU0sQ0FBQyxLQUFQLENBQWEsR0FBYixDQUFpQixjQUFJO0FBQUEsYUFBSSxNQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsV0FBakIsQ0FBNkIsSUFBSSxDQUFDLFFBQWxDLENBQUo7QUFBQSxLQUFyQjtBQUNBLFVBQU0sQ0FBQyxLQUFQLEdBQWUsRUFBZjtBQUNILEdBekJpQjtBQTBCbEIsV0ExQmtCLHVCQTBCVDtBQUFBOztBQUNMLFFBQUcsTUFBTSxDQUFDLGdCQUFQLENBQXdCLE1BQXhCLEdBQWlDLENBQXBDLEVBQXVDO0FBQ25DLFlBQU0sQ0FBQyxTQUFQLENBQWlCLENBQWpCLEVBQW9CLEdBQXBCLENBQXdCLGVBQUssRUFBRztBQUM1QixZQUFHLEtBQUssQ0FBQyxhQUFULEVBQXdCO0FBQ3BCLGNBQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxLQUFQLENBQWEsSUFBYixDQUFrQixjQUFJO0FBQUEsbUJBQUksSUFBSSxDQUFDLEtBQUwsS0FBZSxLQUFuQjtBQUFBLFdBQXRCLENBQWxCOztBQUNBLGNBQUcsU0FBSCxFQUFjO0FBQ1YscUJBQVMsQ0FBQyxRQUFWLENBQW1CLENBQW5CLEdBQXVCLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFpQixDQUF4QztBQUNBLHFCQUFTLENBQUMsUUFBVixDQUFtQixDQUFuQixHQUF1QixLQUFLLENBQUMsT0FBTixDQUFjLENBQWQsRUFBaUIsQ0FBakIsR0FBcUIsRUFBNUM7QUFDQSxpQkFBSyxDQUFDLFNBQU4sQ0FBZ0IsR0FBaEIsQ0FBb0IsZUFBSyxFQUFHO0FBQ3hCLGtCQUFHLEtBQUssQ0FBQyxJQUFOLEdBQWEsQ0FBaEIsRUFBbUI7QUFDZix5QkFBUyxDQUFDLFFBQVYsQ0FBbUIsS0FBbkIsR0FBMkIsQ0FBQyxLQUFLLENBQUMsWUFBTixHQUFxQixLQUFLLENBQUMsSUFBNUIsSUFBb0MsS0FBSyxDQUFDLFlBQXJFO0FBQ0g7QUFDSixhQUpEO0FBS0gsV0FSRCxNQVFPO0FBQ0gsZ0JBQU0sT0FBTyxHQUFHO0FBQ1osc0JBQVEsRUFBRSxNQUFJLENBQUMsWUFBTCxDQUFrQixLQUFsQixDQURFO0FBRVosbUJBQUssRUFBTCxLQUZZO0FBR1osbUJBQUssRUFBRSxLQUFLLENBQUMsU0FBTixDQUFnQixNQUFoQixHQUF5QixzQkFBUztBQUg3QixhQUFoQjtBQUtBLGtCQUFNLENBQUMsS0FBUCxDQUFhLElBQWIsQ0FBa0IsT0FBbEI7QUFDQSxtQkFBTyxDQUFDLFFBQVIsQ0FBaUIsQ0FBakIsR0FBcUIsS0FBSyxDQUFDLE9BQU4sQ0FBYyxDQUFkLEVBQWlCLENBQXRDO0FBQ0EsbUJBQU8sQ0FBQyxRQUFSLENBQWlCLENBQWpCLEdBQXFCLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFpQixDQUFqQixHQUFxQixFQUExQztBQUNBLGtCQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsUUFBakIsQ0FBMEIsT0FBTyxDQUFDLFFBQWxDO0FBQ0g7QUFDSixTQXJCRCxNQXFCTztBQUNILGNBQU0sWUFBWSxHQUFHLE1BQU0sQ0FBQyxLQUFQLENBQWEsSUFBYixDQUFrQixjQUFJO0FBQUEsbUJBQUksSUFBSSxDQUFDLEtBQUwsS0FBZSxLQUFuQjtBQUFBLFdBQXRCLENBQXJCOztBQUNBLGNBQUcsWUFBSCxFQUFpQjtBQUNiLGtCQUFJLENBQUMsVUFBTCxDQUFnQixZQUFoQjtBQUNIO0FBQ0o7QUFDSixPQTVCRDtBQTZCSDtBQUNKO0FBMURpQixDQUF0QjtlQTZEZSxLIiwiZmlsZSI6IjIwMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVOZXdJY29uR3JlbmFkZSBmcm9tICd+L3Nwcml0ZXMvaWNvbkdyZW5hZGVTcHJpdGUnO1xuaW1wb3J0IGNyZWF0ZU5ld0ljb25KdW1wIGZyb20gJ34vc3ByaXRlcy9pY29uSnVtcFNwcml0ZSc7XG5pbXBvcnQgU3F1YWQgZnJvbSAnfi91bml0cy9TcXVhZCc7XG5pbXBvcnQgU0VUVElOR1MgZnJvbSAnU2V0dGluZ3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElJY29uIHtcblx0Z3JhcGhpY3M6IFBJWEkuU3ByaXRlXG5cdHNxdWFkOiBTcXVhZFxuXHR3aWR0aDogbnVtYmVyXG59XG5cbmludGVyZmFjZSBJSWNvbnMge1xuICAgIGljb25zOiBhbnlcbiAgICBpbml0OiAoKSA9PiB2b2lkXG4gICAgY29tYmluZUljb25zOiAoc3F1YWQ6IFNxdWFkKSA9PiBQSVhJLlNwcml0ZVxuICAgIHJlbW92ZUljb246IChpY29uOiBJSWNvbikgPT4gdm9pZFxuICAgIHJlbW92ZUFsbEljb25zOiAoKSA9PiB2b2lkXG4gICAgc2hvd0ljb25zOiAoKSA9PiB2b2lkXG59XG5cbmNvbnN0IEljb25zOiBJSWNvbnMgPSB7XG4gICAgaWNvbnM6IHt9LFxuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuaWNvbnNbJ1NPTElERVJfR1JFTkFERSddID0gY3JlYXRlTmV3SWNvbkdyZW5hZGUoKTtcbiAgICAgICAgdGhpcy5pY29uc1snQVNTQVVMVF9KVU1QJ10gPSBjcmVhdGVOZXdJY29uSnVtcCgpO1xuICAgIH0sXG4gICAgY29tYmluZUljb25zKHNxdWFkKSB7XG4gICAgICAgIGNvbnN0IHsgYWJpbGl0aWVzIH0gPSBzcXVhZDtcbiAgICAgICAgY29uc3QgaWNvbnNHcm91cCA9IG5ldyBQSVhJLlNwcml0ZSgpO1xuICAgICAgICBhYmlsaXRpZXMubWFwKChhYmlsaXR5LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3SWNvbnMgPSB0aGlzLmljb25zW2FiaWxpdHkubmFtZV0oKTtcbiAgICAgICAgICAgIG5ld0ljb25zLnggPSBpbmRleCAqIFNFVFRJTkdTLkFCSUxJVFlfSUNPTl9TSVpFIC0gKGFiaWxpdGllcy5sZW5ndGggKiBTRVRUSU5HUy5BQklMSVRZX0lDT05fU0laRSkgLyAyO1xuICAgICAgICAgICAgaWNvbnNHcm91cC5hZGRDaGlsZChuZXdJY29ucyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpY29uc0dyb3VwLmFuY2hvci5zZXQoMC41LCAxKTtcbiAgICAgICAgcmV0dXJuIGljb25zR3JvdXA7XG4gICAgfSxcbiAgICByZW1vdmVJY29uKGljb24pIHtcbiAgICAgICAgd2luZG93LmFwcC5zdGFnZS5yZW1vdmVDaGlsZChpY29uLmdyYXBoaWNzKTtcbiAgICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IHdpbmRvdy5pY29ucy5pbmRleE9mKGljb24pO1xuICAgICAgICB3aW5kb3cuaWNvbnMuc3BsaWNlKGluZGV4LCAxKTtcdFxuICAgIH0sXG4gICAgcmVtb3ZlQWxsSWNvbnMoKSB7XG4gICAgICAgIHdpbmRvdy5pY29ucy5tYXAoaWNvbiA9PiB3aW5kb3cuYXBwLnN0YWdlLnJlbW92ZUNoaWxkKGljb24uZ3JhcGhpY3MpKTtcbiAgICAgICAgd2luZG93Lmljb25zID0gW107XG4gICAgfSxcbiAgICBzaG93SWNvbnMoKSB7XG4gICAgICAgIGlmKHdpbmRvdy5hbGxTZWxlY3RlZFVuaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdpbmRvdy5hbGxTcXVhZHNbMF0ubWFwKHNxdWFkID0+IHtcbiAgICAgICAgICAgICAgICBpZihzcXVhZC5pc0FsbFNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNxdWFkSWNvbiA9IHdpbmRvdy5pY29ucy5maW5kKGljb24gPT4gaWNvbi5zcXVhZCA9PT0gc3F1YWQpO1xuICAgICAgICAgICAgICAgICAgICBpZihzcXVhZEljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFkSWNvbi5ncmFwaGljcy54ID0gc3F1YWQubWVtYmVyc1swXS54O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3F1YWRJY29uLmdyYXBoaWNzLnkgPSBzcXVhZC5tZW1iZXJzWzBdLnkgLSA3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFkLmFiaWxpdGllcy5tYXAoYWJpbGkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFiaWxpLnRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxdWFkSWNvbi5ncmFwaGljcy5hbHBoYSA9IChhYmlsaS5yZWNoYXJnZVRpbWUgLSBhYmlsaS50aW1lKSAvIGFiaWxpLnJlY2hhcmdlVGltZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ljb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhpY3M6IHRoaXMuY29tYmluZUljb25zKHNxdWFkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcXVhZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogc3F1YWQuYWJpbGl0aWVzLmxlbmd0aCAqIFNFVFRJTkdTLkFCSUxJVFlfSUNPTl9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lmljb25zLnB1c2gobmV3SWNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJY29uLmdyYXBoaWNzLnggPSBzcXVhZC5tZW1iZXJzWzBdLng7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJY29uLmdyYXBoaWNzLnkgPSBzcXVhZC5tZW1iZXJzWzBdLnkgLSA3NTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQobmV3SWNvbi5ncmFwaGljcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpY29uVG9SZW1vdmUgPSB3aW5kb3cuaWNvbnMuZmluZChpY29uID0+IGljb24uc3F1YWQgPT09IHNxdWFkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoaWNvblRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUljb24oaWNvblRvUmVtb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJY29uczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///200\n")},201:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _WeaponsFactory = _interopRequireDefault(__webpack_require__(220));\n\nvar _consts = _interopRequireDefault(__webpack_require__(198));\n\nvar _UnitDraw = __webpack_require__(222);\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nvar _UnitTypes = _interopRequireDefault(__webpack_require__(223));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Unit =\n/*#__PURE__*/\nfunction () {\n  function Unit(graphics, model, pos, faction, type, squad) {\n    _classCallCheck(this, Unit);\n\n    this.graphics = graphics.unit;\n    this.graphics.addChild(graphics.selection);\n    this.graphics.addChild(model.movieClip); // model.movieClip.y = model.vertialOffset;\n    // model.movieClip.x = this.graphics.width / 2;\n\n    model.movieClip.anchor.set(0.5, 1);\n    model.movieClip.y = this.graphics.height * 0.85 + model.movieClip.height * 0.4; // model.movieClip.y = this.graphics.height * 0.85;\n\n    var offsetY = this.graphics.height * 0.55;\n    this.graphics.pivot.set(0, this.graphics.height * 0.9); // model.movieClip.pivot.set(this.graphics.width / 2, this.graphics.height * 0.85);\n\n    graphics.selection.y = this.graphics.height * 0.9;\n    model.offsetY = offsetY;\n\n    if (faction > 1) {\n      // let colorMatrix = new PIXI.filters.ColorMatrixFilter();\n      // model.movieClip.filters = [colorMatrix];\n      // colorMatrix.matrix = [\n      // \t1, 0, 0, 0, 0,\n      // \t0, 1, 0, 0, 0,\n      // \t0, 0, 1, 0, 0,\n      // \t1, 0, 0, 1, 0]\n      // colorMatrix.matrix = [\n      // \t//kolumny to wartości, R,G,B,A,\n      // \t1, 0, 0, 0, 0,\n      // \t0, 1, 0, 0, 0,\n      // \t0, 0, 1, 0, 0,\n      // \t0, 0, 0, 1, 0]\n      // colorMatrix.contrast(2);\n      switch (faction) {\n        case 2:\n          {\n            model.movieClip.tint = 0x00FFFF;\n            break;\n          }\n\n        case 3:\n          {\n            model.movieClip.tint = 0xFF0000;\n            break;\n          }\n\n        case 4:\n          {\n            model.movieClip.tint = 0xFF000FF;\n            break;\n          }\n\n        case 5:\n          {\n            model.movieClip.tint = 0x00FF00;\n            break;\n          }\n\n        case 6:\n          {\n            model.movieClip.tint = 0x0000FF;\n            break;\n          }\n\n        case 7:\n          {\n            model.movieClip.tint = 0xFFFF00;\n            break;\n          }\n\n        case 8:\n          {\n            model.movieClip.tint = 0xFF9911;\n            break;\n          }\n\n        default:\n          {\n            model.movieClip.tint = 0x888888;\n          }\n      }\n    }\n\n    if (type === \'WARRIOR_ASSAULT\') {\n      this.flamer = _EffectsFactory.default.createFlamerEffect(this);\n    }\n\n    this.graphics.parentGroup = graphics.parentGroup;\n    this.model = model;\n    this.type = type;\n    window.app.stage.addChild(this.graphics);\n    this.hp = _UnitTypes.default[type].hp;\n    this.x = pos.x;\n    this.y = pos.y;\n    this.angle = 0;\n    this.state = _consts.default.GO; // TODO: fix it in all places STATE.GO because it will add this squad to "squadsWereMoved" array\n\n    this.aim = undefined;\n    this.speed = _UnitTypes.default[type].speed;\n    this.modX = 0;\n    this.modY = 0;\n    this.radius = _UnitTypes.default[type].radius; //size of units\n\n    this.faction = faction;\n    this.squad = squad;\n    this.ability = undefined; //change to 0 if more than reloadTime, or something change to < 0\n\n    this.weapon = _objectSpread({\n      reload: Math.floor(_Utils.default.randomAbsLUT(80))\n    }, _WeaponsFactory.default.getWeapon(type));\n    this.selected = false; //chyba potrzebne, ale to raczej tylko do jednostek gracza, a nie wszystkich\n    //chyba że jakoś inteligętnie dla sztucznej inteligęcji to się wykrozysta\n\n    this.draw = _UnitDraw.draw;\n    this.goToShootFrame = _UnitDraw.goToShootFrame; // this.goToMeleeFrame = goToMeleeFrame;\n\n    this.getRotationFrame = _UnitDraw.getRotationFrame;\n    this.getAngle = _UnitDraw.getAngle;\n    this.getRotationFrameSmall = _UnitDraw.getRotationFrameSmall;\n    this.afterGetup = _UnitDraw.afterGetup; // this.draw();\n  }\n\n  _createClass(Unit, [{\n    key: "update",\n    value: function update() {\n      //-----=========SWITCH STATE===========-------//\n      switch (this.state) {\n        case _consts.default.GO:\n          {\n            // Update in UnitDraw.js afterGetup() also\n            if (_Utils.default.dis(this, this.aim) <= this.speed * _gameSettings.default.CHANGE_STATE_THROTTLE) {\n              this.aim = undefined;\n              this.searchAimToAttack();\n            }\n\n            break;\n          }\n\n        case _consts.default.STAY:\n          {\n            // NOTE: stay, is used to unit without tasks and enemies around\n            this.searchAimToAttack();\n            break;\n          }\n\n        case _consts.default.SHOOT:\n          {\n            //shoot\n            this.searchAimToAttack();\n            break;\n          }\n\n        case _consts.default.FLY:\n          {\n            //function draw take care of change state to GETUP or DIE\n            break;\n          }\n\n        case _consts.default.GETUP:\n          {\n            //function draw take care of change state to STAY\n            break;\n          }\n\n        case _consts.default.DIE:\n          {\n            //you change change this state\n            break;\n          }\n\n        case _consts.default.ABILITY:\n          {\n            break;\n          }\n      } //-----=========DO STATE===========-------//\n\n\n      switch (this.state) {\n        //you should perform in this blocks actions which is contiunue in time, like running ,shooting, but not staying\n        case _consts.default.GO:\n          {\n            this.calcNewDirection();\n            break;\n          }\n\n        case _consts.default.STAY:\n          {\n            break;\n          }\n\n        case _consts.default.SHOOT:\n          {\n            this.attack();\n            break;\n          }\n\n        case _consts.default.FLY:\n          {\n            this.flying();\n            break;\n          }\n\n        case _consts.default.GETUP:\n          {\n            break;\n          }\n\n        case _consts.default.DIE:\n          {\n            break;\n          }\n\n        case _consts.default.ABILITY:\n          {\n            break;\n          }\n      }\n    }\n  }, {\n    key: "searchAimToAttack",\n    value: function searchAimToAttack() {\n      if (this.aim && \'hp\' in this.aim && this.aim.hp > 0 && _Utils.default.dis(this, this.aim) < this.weapon.range) {\n        if (this.state !== _consts.default.SHOOT) {\n          // NOTE: optimalziation, to avoid unecessary actions\n          this.changeStateToAttack(this.aim);\n        }\n      } else if (this.squad.aim && this.squad.aim.members.length !== 0) {\n        this.aim = undefined;\n        this.chooseOneOfPriority();\n      } else {\n        this.aim = undefined;\n        this.squad.aim = undefined;\n        this.defaultBehaviour();\n      }\n    }\n  }, {\n    key: "chooseOneOfPriority",\n    value: function chooseOneOfPriority() {\n      var index = _Utils.default.getIndexOfTheNearestItem(this.squad.aim.members, this);\n\n      var nearestEnemyUnit = this.squad.aim.members[index];\n\n      var distance = _Utils.default.dis(this, nearestEnemyUnit);\n\n      if (this.weapon.range < _gameSettings.default.HUNTING_REFRESH_TIME * this.speed) {\n        debugger;\n      }\n\n      if (distance > this.weapon.range) {\n        this.changeStateToGo({\n          x: nearestEnemyUnit.x,\n          y: nearestEnemyUnit.y\n        });\n        window.hunters[this.faction].push(this);\n      } else {\n        this.changeStateToAttack(nearestEnemyUnit);\n      }\n    }\n  }, {\n    key: "defaultBehaviour",\n    value: function defaultBehaviour() {\n      var _this = this;\n\n      var objectsToAttack = [];\n      var squadsCollection = this.state === _consts.default.STAY // If unit looking first time for new aims\n      ? window.squadsWereMoved // then search only in squads, which were moved\n      : window.allSquads; // if not search in all squad\n\n      squadsCollection.forEach(function (faction, idx) {\n        if (idx !== _this.faction) {\n          // only other fractions\n          faction.forEach(function (squad) {\n            if (_Utils.default.dis(squad.center, _this) < _this.weapon.range + _gameSettings.default.MAX_DISTANCE_BETWEEN_SQUAD_MEMBERS) {\n              squad.members.forEach(function (unit) {\n                if (_Utils.default.dis(unit, _this) < _this.weapon.range) {\n                  objectsToAttack.push(unit);\n                }\n              });\n            }\n          });\n        }\n      }); //choose aim\n\n      if (objectsToAttack.length > 1) {\n        var newAim = this.getTheMostImportantAim(objectsToAttack);\n        this.changeStateToAttack(newAim);\n      } else if (objectsToAttack.length === 1) {\n        this.changeStateToAttack(objectsToAttack[0]);\n      } else {\n        // TODO: wrap in into method "changeStateToStay"\n        this.state = _consts.default.STAY;\n        this.modX = 0;\n        this.modY = 0;\n      }\n    }\n  }, {\n    key: "changeStateToGo",\n    value: function changeStateToGo(newAim) {\n      if (\'hp\' in newAim) {\n        debugger;\n      }\n\n      this.aim = newAim;\n      this.state = _consts.default.GO;\n      this.angle = _Utils.default.ang(this, this.aim);\n      this.modX = Math.sin(this.angle) * this.speed;\n      this.modY = -Math.cos(this.angle) * this.speed;\n    }\n  }, {\n    key: "flying",\n    value: function flying() {\n      this.modX = Math.abs(this.modX) < 0.5 ? 0 : this.modX * 0.85;\n      this.modY = Math.abs(this.modY) < 0.5 ? 0 : this.modY * 0.85;\n\n      if (this.modX === 0 && this.modY === 0) {\n        if (this.hp > 0) {\n          this.state = _consts.default.GETUP;\n        } else {\n          this.removeSelf();\n          return;\n        }\n      }\n\n      var newX = this.x + this.modX * _gameSettings.default.CHANGE_STATE_THROTTLE,\n          newY = this.y + this.modY * _gameSettings.default.CHANGE_STATE_THROTTLE;\n      this.history = {};\n      this.history.newX = newX;\n      this.history.newY = newY;\n      this.history.x = this.x;\n      this.history.y = this.y;\n      this.history.settings = _gameSettings.default.CHANGE_STATE_THROTTLE;\n\n      if (newX <= 0) {\n        this.modX = 1 - this.x / _gameSettings.default.CHANGE_STATE_THROTTLE; // 1 for safe, we can do it without 1\n      } else if (newX >= window.mapWidth) {\n        this.modX = (window.mapWidth - this.x) / _gameSettings.default.CHANGE_STATE_THROTTLE - 1;\n      }\n\n      if (newY <= 0) {\n        this.modY = 1 - this.y / _gameSettings.default.CHANGE_STATE_THROTTLE; // 1 for safe, we can do it without 1\n      } else if (newY >= window.mapHeight) {\n        this.modY = (window.mapHeight - this.y) / _gameSettings.default.CHANGE_STATE_THROTTLE - 1;\n      }\n\n      this.history.modX = this.modX;\n      this.history.modY = this.modY;\n    }\n  }, {\n    key: "changeStateToDie",\n    value: function changeStateToDie() {\n      if (this.canPreventCurrentAction()) {\n        this.ability = undefined;\n        this.state = _consts.default.DIE;\n        this.modX = 0;\n        this.modY = 0;\n      }\n    }\n  }, {\n    key: "calcNewDirection",\n    value: function calcNewDirection() {\n      // if (!(\'hp\' in this.aim)) {\n      //   debugger\n      //   return\n      // }\n      // if (!Utils.objStaying(this.aim)) { // TODO: TODO: it doesn\'t work because this.aim = Point, doesnt have \'state\'\n      // \tthis.angle = Utils.ang(this, this.aim);\n      // \tthis.modX = Math.sin(this.angle) * this.speed;\n      // \tthis.modY = -Math.cos(this.angle) * this.speed;\n      // }\n      if (this.ability && _Utils.default.dis(this, this.ability.target) < this.ability.details.range) {\n        this.useAbility();\n      }\n    }\n  }, {\n    key: "setTargetToGo",\n    value: function setTargetToGo(targetToGo) {\n      var _this2 = this;\n\n      // START - PREVENT CURRENT ACTION\n      var hunterIndex = window.hunters[this.faction].findIndex(function (unit) {\n        return unit === _this2;\n      });\n\n      if (hunterIndex !== -1) {\n        _Utils.default.removeFromArr(window.hunters[this.faction], this);\n      }\n\n      this.ability = undefined; // TODO: rename to "aimWhereUseAbility"\n      // END - PREVENT CURRENT ACTION\n\n      this.aim = targetToGo;\n\n      if (this.canPreventCurrentAction()) {\n        this.changeStateToGo(targetToGo);\n      }\n    }\n  }, {\n    key: "stay",\n    value: function stay() {\n      this.aim = undefined;\n\n      if (this.canPreventCurrentAction()) {\n        this.changeStateToStay();\n      }\n    }\n  }, {\n    key: "changeStateToStay",\n    value: function changeStateToStay() {\n      this.state = _consts.default.STAY;\n      this.searchAimToAttack();\n    }\n  }, {\n    key: "changeStateToAttack",\n    value: function changeStateToAttack(aim) {\n      this.state = _consts.default.SHOOT;\n      this.aim = aim;\n      this.angle = _Utils.default.ang(this, this.aim);\n      this.modX = 0;\n      this.modY = 0;\n    }\n  }, {\n    key: "attack",\n    value: function attack() {\n      var _this3 = this;\n\n      // TODO: maybe be should check here, is aim.hp > 0\n      if (!(\'hp\' in this.aim)) {\n        debugger;\n        return;\n      }\n\n      if (!_Utils.default.objStaying(this.aim)) {\n        if (_Utils.default.dis(this, this.aim) >= this.weapon.range) {\n          this.searchAimToAttack();\n          return;\n        }\n\n        this.angle = _Utils.default.ang(this, this.aim);\n      }\n\n      if (this.flamer) {\n        // TODO: mvoe this whole conditinal to new weapon method "shoot", and pass only unit object\n        if (Math.floor(this.weapon.reload) % 3 === 0) {\n          this.goToShootFrame();\n        }\n\n        if (this.flamer.container.visible === false) {\n          this.flamer.start();\n          this.weapon.flamerAims = []; // we should add new field here, it\'s probably breaks a lot of\n\n          this.weapon.reload = 0;\n        }\n\n        if (--this.weapon.reload <= 0) {\n          this.weapon.reload = this.weapon.reloadTime;\n          window.allSquads.map(function (fact, idx) {\n            if (idx !== _this3.faction) {\n              fact.map(function (squad) {\n                if (_Utils.default.dis(squad.center, _this3) < _this3.weapon.range + _gameSettings.default.MAX_DISTANCE_BETWEEN_SQUAD_MEMBERS) {\n                  // 500 from sky, for optimalization, first test squad, later each unit\n                  squad.members.map(function (unit) {\n                    if (_Utils.default.dis(_this3, unit) < _this3.weapon.range && _Utils.default.where(_this3.x, _this3.y, _this3.angle, unit.x, unit.y, 40) === 0) {\n                      // Is on the front\n                      _this3.weapon.flamerAims.push(unit);\n                    }\n                  });\n                }\n              });\n            }\n          });\n        }\n\n        this.weapon.flamerAims.forEach(function (unit) {\n          return unit.takeDamage(_this3.weapon);\n        });\n      } else {\n        if (this.weapon.reload++ >= this.weapon.reloadTime) {\n          if (Math.floor(_Utils.default.randomAbsLUT(5)) === 0) {\n            //load new bullets\n            this.weapon.reload = -Math.floor(_Utils.default.randomAbsLUT(this.weapon.waitReloadingTime) + 1);\n          } else {\n            //break between two shoots\n            this.weapon.reload = 0;\n          }\n\n          this.goToShootFrame();\n          var point = this.model.riflePoints[this.getRotationFrame()];\n          var position = {\n            x: point.x * this.model.scale + this.x,\n            y: (point.y + 4) * this.model.scale + this.y,\n            angle: this.angle\n          };\n\n          _WeaponsFactory.default.createBullet(this.type, position, this.aim); // fourthy option param is modify damage\n\n        }\n      }\n    }\n  }, {\n    key: "takeDamage",\n    value: function takeDamage(bullet) {\n      var damage = bullet.damage,\n          explosion = bullet.explosion;\n\n      if (this.state === _consts.default.ABILITY) {\n        // If unit is flying (for example) then shoudn\'t get damage\n        return;\n      }\n\n      if (explosion) {\n        var invertedNormalDistance = 1 - _Utils.default.dis(this, bullet) / explosion.range;\n        this.hp -= damage * invertedNormalDistance;\n\n        var angle = _Utils.default.ang(bullet, this);\n\n        var strength = invertedNormalDistance * explosion.strength + 2; // 2 => the minimum\n\n        var modX = Math.sin(angle) * strength;\n        var modY = -Math.cos(angle) * strength;\n        this.angle = angle + Math.PI;\n        this.modX = modX;\n        this.modY = modY;\n        this.state = _consts.default.FLY;\n        this.flying();\n      } else {\n        this.hp -= damage;\n\n        if (this.hp <= 0) {\n          this.changeStateToDie();\n        }\n      } // TODO: unit can also die after explosion, also during fyling!\n      // if (this.hp <= 0) {\n      // this.changeStateToDie();\n      // }\n\n    }\n  }, {\n    key: "canPreventCurrentAction",\n    value: function canPreventCurrentAction() {\n      return ![_consts.default.FLY, _consts.default.GETUP, _consts.default.DIE, _consts.default.ABILITY].includes(this.state);\n    }\n  }, {\n    key: "removeSelf",\n    value: function removeSelf() {\n      var _this4 = this;\n\n      window.app.stage.removeChild(this.graphics);\n      this.graphics.destroy();\n      this.graphics = undefined;\n      var hunterIndex = window.hunters[this.faction].findIndex(function (unit) {\n        return unit === _this4;\n      });\n\n      if (hunterIndex !== -1) {\n        _Utils.default.removeFromArr(window.hunters[this.faction], this);\n      }\n\n      this.weapon = undefined;\n      this.aim = undefined;\n      this.squad.removeUnit(this);\n      this.squad = undefined;\n    }\n  }, {\n    key: "animate",\n    value: function animate() {\n      this.testing(); // const self = Object.assign({}, this);\n      // if(this.x < 0 || this.y < 0 || this.x > window.mapWidth || this.y > window.mapHeight) debugger;\n\n      this.x += this.modX;\n      this.y += this.modY;\n      this.graphics.x = this.x;\n      this.graphics.y = this.y + this.model.offsetY;\n      this.draw();\n    }\n  }, {\n    key: "useAbility",\n    value: function useAbility() {\n      var _this$ability = this.ability,\n          details = _this$ability.details,\n          target = _this$ability.target;\n      details.use(this, target);\n      var units = details.forFullSquad ? [this] : this.squad.members;\n      units.forEach(function (unit) {\n        unit.ability = undefined;\n        unit.aim = undefined;\n\n        if (unit.state !== _consts.default.ABILITY) {\n          // without animation\n          unit.defaultBehaviour();\n        }\n      });\n      var usedAbility = this.squad.abilities.find(function (ability) {\n        return ability.name === details.name;\n      });\n      usedAbility.time = usedAbility.rechargeTime;\n    }\n  }, {\n    key: "getTheMostImportantAim",\n    value: function getTheMostImportantAim(aims) {\n      return aims[0];\n    }\n  }, {\n    key: "testing",\n    value: function testing() {\n      if (this.state === _consts.default.GO && this.aim && \'hp\' in this.aim) {\n        debugger;\n      }\n\n      if (this.state === _consts.default.STAY && this.aim) {\n        debugger;\n      }\n\n      if (this.state === _consts.default.SHOOT && !this.aim) {\n        debugger;\n      }\n    }\n  }]);\n\n  return Unit;\n}();\n\nvar _default = Unit;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvVW5pdC50cz9kMjkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFHQTs7QUFFQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7SUFFZSxJOzs7QUFrQ2QsZ0JBQVksUUFBWixFQUFzQixLQUF0QixFQUE2QixHQUE3QixFQUF5QyxPQUF6QyxFQUF5RCxJQUF6RCxFQUFzRSxLQUF0RSxFQUFpRjtBQUFBOztBQUNoRixTQUFLLFFBQUwsR0FBZ0IsUUFBUSxDQUFDLElBQXpCO0FBQ0EsU0FBSyxRQUFMLENBQWMsUUFBZCxDQUF1QixRQUFRLENBQUMsU0FBaEM7QUFDQSxTQUFLLFFBQUwsQ0FBYyxRQUFkLENBQXVCLEtBQUssQ0FBQyxTQUE3QixFQUhnRixDQUtoRjtBQUNBOztBQUVBLFNBQUssQ0FBQyxTQUFOLENBQWdCLE1BQWhCLENBQXVCLEdBQXZCLENBQTJCLEdBQTNCLEVBQWdDLENBQWhDO0FBQ0EsU0FBSyxDQUFDLFNBQU4sQ0FBZ0IsQ0FBaEIsR0FBb0IsS0FBSyxRQUFMLENBQWMsTUFBZCxHQUF1QixJQUF2QixHQUE4QixLQUFLLENBQUMsU0FBTixDQUFnQixNQUFoQixHQUF5QixHQUEzRSxDQVRnRixDQVVoRjs7QUFFQSxRQUFNLE9BQU8sR0FBRyxLQUFLLFFBQUwsQ0FBYyxNQUFkLEdBQXVCLElBQXZDO0FBQ0EsU0FBSyxRQUFMLENBQWMsS0FBZCxDQUFvQixHQUFwQixDQUF3QixDQUF4QixFQUEyQixLQUFLLFFBQUwsQ0FBYyxNQUFkLEdBQXVCLEdBQWxELEVBYmdGLENBY2hGOztBQUVBLFlBQVEsQ0FBQyxTQUFULENBQW1CLENBQW5CLEdBQXVCLEtBQUssUUFBTCxDQUFjLE1BQWQsR0FBdUIsR0FBOUM7QUFFQSxTQUFLLENBQUMsT0FBTixHQUFnQixPQUFoQjs7QUFFQSxRQUFHLE9BQU8sR0FBRyxDQUFiLEVBQWdCO0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFD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LEtBQUssS0FBTCxDQUFXLFNBQVgsQ0FBcUIsSUFBckIsQ0FBMEIsaUJBQU87QUFBQSxlQUFJLE9BQU8sQ0FBQyxJQUFSLEtBQWlCLE9BQU8sQ0FBQyxJQUE3QjtBQUFBLE9BQWpDLENBQXBCO0FBQ0EsaUJBQVcsQ0FBQyxJQUFaLEdBQW1CLFdBQVcsQ0FBQyxZQUEvQjtBQUNBOzs7MkNBRXVCLEksRUFBWTtBQUNqQyxhQUFPLElBQUksQ0FBQyxDQUFELENBQVg7QUFDRDs7OzhCQUVNO0FBQ0wsVUFBSSxLQUFLLEtBQUwsS0FBZSxnQkFBTSxFQUFyQixJQUEyQixLQUFLLEdBQWhDLElBQXVDLFFBQVEsS0FBSyxHQUF4RCxFQUE2RDtBQUMzRDtBQUNEOztBQUVELFVBQUksS0FBSyxLQUFMLEtBQWUsZ0JBQU0sSUFBckIsSUFBNkIsS0FBSyxHQUF0QyxFQUEyQztBQUN6QztBQUNEOztBQUVELFVBQUksS0FBSyxLQUFMLEtBQWUsZ0JBQU0sS0FBckIsSUFBOEIsQ0FBQyxLQUFLLEdBQXhDLEVBQTZDO0FBQzNDO0FBQ0Q7QUFDRjs7Ozs7O2VBR1ksSSIsImZpbGUiOiIyMDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgV2VhcG9uc0ZhY3RvcnkgZnJvbSAnfi93ZWFwb25zL1dlYXBvbnNGYWN0b3J5JztcbmltcG9ydCBTVEFURSBmcm9tICd+L21vZHVsZXMvY29uc3RzJztcbmltcG9ydCB7IGRyYXcsIGdvVG9TaG9vdEZyYW1lLCBnZXRSb3RhdGlvbkZyYW1lLCBnZXRBbmdsZSwgZ2V0Um90YXRpb25GcmFtZVNtYWxsLCBhZnRlckdldHVwIH0gZnJvbSAnLi9Vbml0RHJhdyc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnVXRpbHMnO1xuaW1wb3J0IFNxdWFkIGZyb20gJy4vU3F1YWQnO1xuaW1wb3J0IENvbnRyb2xsZXJzIGZyb20gJ34vbW9kdWxlcy9tb3VzZUNvbnRyb2xsZXInO1xuaW1wb3J0IFNFVFRJTkdTIGZyb20gJ1NldHRpbmdzJztcbmltcG9ydCB7SUFiaWxpdHl9IGZyb20gJ34vYWJpbGl0aWVzL2FiaWxpdHlGYWN0b3J5JztcbmltcG9ydCBFZmZlY3RzRmFjdG9yeSBmcm9tICd+L2VmZmVjdHMvRWZmZWN0c0ZhY3RvcnknO1xuaW1wb3J0IFVuaXRUeXBlcyBmcm9tICcuL1VuaXRUeXBlcyc7XG5cbmFic3RyYWN0IGNsYXNzIFVuaXQge1xuXHRwcm90ZWN0ZWQgYW5nbGU6IG51bWJlclxuXHRwcml2YXRlIHR5cGU6IHN0cmluZ1xuXHRwcml2YXRlIGZsYW1lcjogYW55IC8vIFRPRE86IGl0IHNob3VsZCBiciBpbmNsdWRlZCBpbiB3ZWFwb25cblx0Ly8gcHJpdmF0ZSBhdHRhY2tUeXBlOiAgc3RyaW5nXG5cdFxuXHRwdWJsaWMgZ3JhcGhpY3M6IGFueSAvLyBUT0RPOiByZW5hbWUgdG8gXCJzZWxlY3RSaW5nR3JhcGhpY1wiXG5cdHB1YmxpYyBtb2RlbDogYW55XG5cdHB1YmxpYyBtb2RYOiBudW1iZXJcblx0cHVibGljIG1vZFk6IG51bWJlclxuXHRwdWJsaWMgc3RhdGU6IG51bWJlclxuXHRwdWJsaWMgc3BlZWQ6IG51bWJlclxuXHRwdWJsaWMgYWltPzogUG9pbnQgfCBVbml0XG5cdHB1YmxpYyBocDogbnVtYmVyXG5cdHB1YmxpYyB3ZWFwb246IGFueSAvLyBUT0RPOiBpdCBzaG91bGQgY29tZXMgZnJvbSBzcXVhZCwgYmVjYXVzZSBhbGwgYmVuZWZpdHMgYXJlIGFwcGxpZWQgdG8gd2hvbGUgc3F1YWQsIG5vdCBzaW5nbGUgdW5pdFxuXHRwdWJsaWMgeDogbnVtYmVyXG5cdHB1YmxpYyB5OiBudW1iZXJcblx0cHVibGljIHNlbGVjdGVkOiBib29sZWFuXG5cdHB1YmxpYyByYWRpdXM6IG51bWJlciAvLyBUT0RPOiByYWRpdXMgb2Ygd2hhdD8gaW5mbHVlbmNlPyB3ZWFwb24/XG5cdHB1YmxpYyBzcXVhZDogU3F1YWRcblx0cHVibGljIGZhY3Rpb246IG51bWJlciAvLyBUT0RPOiBub3QgbmVjZXNzc2FyeSwgaW5jbHVkZWQgaW4gc3F1YWRcblx0cHVibGljIGFiaWxpdHk6IElBYmlsaXR5IC8vIFRPRE86IHJlbmFtZSB0byBcImN1cnJVc2luZ0FiaWxpdHlcIlxuXG5cdHByaXZhdGUgZ2V0QW5nbGU6IChhbmdsZTogbnVtYmVyKSA9PiBudW1iZXJcblx0cHJpdmF0ZSBnb1RvU2hvb3RGcmFtZTogKCkgPT4gdm9pZFxuXHQvLyBwcml2YXRlIGdvVG9NZWxlZUZyYW1lOiAoKSA9PiB2b2lkXG5cdHByaXZhdGUgZ2V0Um90YXRpb25GcmFtZTogKCkgPT4gbnVtYmVyXG5cdHByaXZhdGUgZ2V0Um90YXRpb25GcmFtZVNtYWxsOiAoKSA9PiBudW1iZXJcblx0cHJpdmF0ZSBhZnRlckdldHVwOiAoKSA9PiB2b2lkXG5cblx0cHVibGljIGhpc3Rvcnk6IGFueSAvLyBSRU1PVkVfQUZURVJfREVWRUxPUE1FTl9QUk9DRVNTXG5cdFxuXHRwdWJsaWMgZHJhdzogKCkgPT4gdm9pZFxuXG5cdGNvbnN0cnVjdG9yKGdyYXBoaWNzLCBtb2RlbCwgcG9zOiBQb2ludCwgZmFjdGlvbjpudW1iZXIsIHR5cGU6c3RyaW5nLCBzcXVhZDpTcXVhZCkgey8vcGFzcyBvbmx5IHdlYXBvbnMgUEFSQU1TLCBub3QgY29weSByZWZlcmVuY2UgdG8gcHJpbWFyeSB3ZWFwb24gb2JqZWN0XG5cdFx0dGhpcy5ncmFwaGljcyA9IGdyYXBoaWNzLnVuaXQ7XG5cdFx0dGhpcy5ncmFwaGljcy5hZGRDaGlsZChncmFwaGljcy5zZWxlY3Rpb24pO1xuXHRcdHRoaXMuZ3JhcGhpY3MuYWRkQ2hpbGQobW9kZWwubW92aWVDbGlwKTtcblxuXHRcdC8vIG1vZGVsLm1vdmllQ2xpcC55ID0gbW9kZWwudmVydGlhbE9mZnNldDtcblx0XHQvLyBtb2RlbC5tb3ZpZUNsaXAueCA9IHRoaXMuZ3JhcGhpY3Mud2lkdGggLyAyO1xuXG5cdFx0bW9kZWwubW92aWVDbGlwLmFuY2hvci5zZXQoMC41LCAxKTtcblx0XHRtb2RlbC5tb3ZpZUNsaXAueSA9IHRoaXMuZ3JhcGhpY3MuaGVpZ2h0ICogMC44NSArIG1vZGVsLm1vdmllQ2xpcC5oZWlnaHQgKiAwLjQ7XG5cdFx0Ly8gbW9kZWwubW92aWVDbGlwLnkgPSB0aGlzLmdyYXBoaWNzLmhlaWdodCAqIDAuODU7XG5cblx0XHRjb25zdCBvZmZzZXRZID0gdGhpcy5ncmFwaGljcy5oZWlnaHQgKiAwLjU1O1xuXHRcdHRoaXMuZ3JhcGhpY3MucGl2b3Quc2V0KDAsIHRoaXMuZ3JhcGhpY3MuaGVpZ2h0ICogMC45KTtcblx0XHQvLyBtb2RlbC5tb3ZpZUNsaXAucGl2b3Quc2V0KHRoaXMuZ3JhcGhpY3Mud2lkdGggLyAyLCB0aGlzLmdyYXBoaWNzLmhlaWdodCAqIDAuODUpO1xuXG5cdFx0Z3JhcGhpY3Muc2VsZWN0aW9uLnkgPSB0aGlzLmdyYXBoaWNzLmhlaWdodCAqIDAuOTtcblxuXHRcdG1vZGVsLm9mZnNldFkgPSBvZmZzZXRZO1xuXG5cdFx0aWYoZmFjdGlvbiA+IDEpIHtcblxuXHRcdFx0Ly8gbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuXHRcdFx0Ly8gbW9kZWwubW92aWVDbGlwLmZpbHRlcnMgPSBbY29sb3JNYXRyaXhdO1xuXHRcdFx0Ly8gY29sb3JNYXRyaXgubWF0cml4ID0gW1xuXHRcdFx0Ly8gXHQxLCAwLCAwLCAwLCAwLFxuXHRcdFx0Ly8gXHQwLCAxLCAwLCAwLCAwLFxuXHRcdFx0Ly8gXHQwLCAwLCAxLCAwLCAwLFxuXHRcdFx0Ly8gXHQxLCAwLCAwLCAxLCAwXVxuXG5cdFx0XHRcdC8vIGNvbG9yTWF0cml4Lm1hdHJpeCA9IFtcblx0XHRcdFx0Ly8gXHQvL2tvbHVtbnkgdG8gd2FydG/Fm2NpLCBSLEcsQixBLFxuXHRcdFx0XHQvLyBcdDEsIDAsIDAsIDAsIDAsXG5cdFx0XHRcdC8vIFx0MCwgMSwgMCwgMCwgMCxcblx0XHRcdFx0Ly8gXHQwLCAwLCAxLCAwLCAwLFxuXHRcdFx0XHQvLyBcdDAsIDAsIDAsIDEsIDBdXG5cblx0XHRcdC8vIGNvbG9yTWF0cml4LmNvbnRyYXN0KDIpO1xuXHRcdFx0c3dpdGNoKGZhY3Rpb24pIHtcblx0XHRcdFx0Y2FzZSAyOiB7XG5cdFx0XHRcdFx0bW9kZWwubW92aWVDbGlwLnRpbnQgPSAweDAwRkZGRjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjYXNlIDM6IHtcblx0XHRcdFx0XHRtb2RlbC5tb3ZpZUNsaXAudGludCA9IDB4RkYwMDAwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhc2UgNDoge1xuXHRcdFx0XHRcdG1vZGVsLm1vdmllQ2xpcC50aW50ID0gMHhGRjAwMEZGO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhc2UgNToge1xuXHRcdFx0XHRcdG1vZGVsLm1vdmllQ2xpcC50aW50ID0gMHgwMEZGMDA7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FzZSA2OiB7XG5cdFx0XHRcdFx0bW9kZWwubW92aWVDbGlwLnRpbnQgPSAweDAwMDBGRjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjYXNlIDc6IHtcblx0XHRcdFx0XHRtb2RlbC5tb3ZpZUNsaXAudGludCA9IDB4RkZGRjAwO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhc2UgODoge1xuXHRcdFx0XHRcdG1vZGVsLm1vdmllQ2xpcC50aW50ID0gMHhGRjk5MTE7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVmYXVsdDoge1xuXHRcdFx0XHRcdG1vZGVsLm1vdmllQ2xpcC50aW50ID0gMHg4ODg4ODg7XHRcdFx0XHRcdFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblxuXG5cdFx0fVxuXG5cdFx0aWYodHlwZSA9PT0gJ1dBUlJJT1JfQVNTQVVMVCcpIHtcblx0XHRcdHRoaXMuZmxhbWVyID0gRWZmZWN0c0ZhY3RvcnkuY3JlYXRlRmxhbWVyRWZmZWN0KHRoaXMpO1xuXHRcdH1cblxuXHRcdHRoaXMuZ3JhcGhpY3MucGFyZW50R3JvdXAgPSBncmFwaGljcy5wYXJlbnRHcm91cDtcblx0XHR0aGlzLm1vZGVsID0gbW9kZWw7XG5cblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXG5cdFx0d2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmdyYXBoaWNzKTtcblxuXHRcdHRoaXMuaHAgPSBVbml0VHlwZXNbdHlwZV0uaHA7XG5cdFx0dGhpcy54ID0gcG9zLng7XG5cdFx0dGhpcy55ID0gcG9zLnk7XG5cdFx0dGhpcy5hbmdsZSA9IDA7XG5cdFx0dGhpcy5zdGF0ZSA9IFNUQVRFLkdPOyAvLyBUT0RPOiBmaXggaXQgaW4gYWxsIHBsYWNlcyBTVEFURS5HTyBiZWNhdXNlIGl0IHdpbGwgYWRkIHRoaXMgc3F1YWQgdG8gXCJzcXVhZHNXZXJlTW92ZWRcIiBhcnJheVxuXHRcdHRoaXMuYWltID0gdW5kZWZpbmVkO1xuXHRcdHRoaXMuc3BlZWQgPSBVbml0VHlwZXNbdHlwZV0uc3BlZWQ7XG5cdFx0dGhpcy5tb2RYID0gMDtcblx0XHR0aGlzLm1vZFkgPSAwO1xuXHRcdHRoaXMucmFkaXVzID0gVW5pdFR5cGVzW3R5cGVdLnJhZGl1czsvL3NpemUgb2YgdW5pdHNcblx0XHR0aGlzLmZhY3Rpb24gPSBmYWN0aW9uO1xuXHRcdHRoaXMuc3F1YWQgPSBzcXVhZDtcblx0XHR0aGlzLmFiaWxpdHkgPSB1bmRlZmluZWQ7XG5cblx0XHQvL2NoYW5nZSB0byAwIGlmIG1vcmUgdGhhbiByZWxvYWRUaW1lLCBvciBzb21ldGhpbmcgY2hhbmdlIHRvIDwgMFxuXHRcdHRoaXMud2VhcG9uID0ge1xuXHRcdFx0cmVsb2FkOiBNYXRoLmZsb29yKFV0aWxzLnJhbmRvbUFic0xVVCg4MCkpLFxuXHRcdFx0Li4uV2VhcG9uc0ZhY3RvcnkuZ2V0V2VhcG9uKHR5cGUpXG5cdFx0fVxuXG5cdFx0dGhpcy5zZWxlY3RlZCA9IGZhbHNlOy8vY2h5YmEgcG90cnplYm5lLCBhbGUgdG8gcmFjemVqIHR5bGtvIGRvIGplZG5vc3RlayBncmFjemEsIGEgbmllIHdzenlzdGtpY2hcblx0XHQvL2NoeWJhIMW8ZSBqYWtvxZsgaW50ZWxpZ8SZdG5pZSBkbGEgc3p0dWN6bmVqIGludGVsaWfEmWNqaSB0byBzacSZIHd5a3JvenlzdGFcblxuXHRcdHRoaXMuZHJhdyA9IGRyYXc7XG5cdFx0dGhpcy5nb1RvU2hvb3RGcmFtZSA9IGdvVG9TaG9vdEZyYW1lO1xuXHRcdC8vIHRoaXMuZ29Ub01lbGVlRnJhbWUgPSBnb1RvTWVsZWVGcmFtZTtcblx0XHR0aGlzLmdldFJvdGF0aW9uRnJhbWUgPSBnZXRSb3RhdGlvbkZyYW1lO1xuXHRcdHRoaXMuZ2V0QW5nbGUgPSBnZXRBbmdsZTsgXG5cdFx0dGhpcy5nZXRSb3RhdGlvbkZyYW1lU21hbGwgPSBnZXRSb3RhdGlvbkZyYW1lU21hbGw7XG5cdFx0dGhpcy5hZnRlckdldHVwID0gYWZ0ZXJHZXR1cDtcblx0XHQvLyB0aGlzLmRyYXcoKTtcblx0fVxuXG5cdHVwZGF0ZSgpIHtcblx0XHQvLy0tLS0tPT09PT09PT09U1dJVENIIFNUQVRFPT09PT09PT09PT0tLS0tLS0tLy9cblx0XHRzd2l0Y2godGhpcy5zdGF0ZSkge1xuXHRcdFx0Y2FzZSBTVEFURS5HTzogeyAvLyBVcGRhdGUgaW4gVW5pdERyYXcuanMgYWZ0ZXJHZXR1cCgpIGFsc29cbiAgICAgICAgaWYgKFV0aWxzLmRpcyh0aGlzLCB0aGlzLmFpbSkgPD0gdGhpcy5zcGVlZCAqIFNFVFRJTkdTLkNIQU5HRV9TVEFURV9USFJPVFRMRSkge1xuICAgICAgICAgIHRoaXMuYWltID0gdW5kZWZpbmVkXG4gICAgICAgICAgdGhpcy5zZWFyY2hBaW1Ub0F0dGFjaygpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cblxuXHRcdFx0Y2FzZSBTVEFURS5TVEFZOiB7IC8vIE5PVEU6IHN0YXksIGlzIHVzZWQgdG8gdW5pdCB3aXRob3V0IHRhc2tzIGFuZCBlbmVtaWVzIGFyb3VuZFxuICAgICAgICB0aGlzLnNlYXJjaEFpbVRvQXR0YWNrKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cblx0XHRcdGNhc2UgU1RBVEUuU0hPT1Q6IHsvL3Nob290XG4gICAgICAgIHRoaXMuc2VhcmNoQWltVG9BdHRhY2soKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGNhc2UgU1RBVEUuRkxZOiB7XG5cdFx0XHRcdC8vZnVuY3Rpb24gZHJhdyB0YWtlIGNhcmUgb2YgY2hhbmdlIHN0YXRlIHRvIEdFVFVQIG9yIERJRVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0Y2FzZSBTVEFURS5HRVRVUDoge1xuXHRcdFx0XHQvL2Z1bmN0aW9uIGRyYXcgdGFrZSBjYXJlIG9mIGNoYW5nZSBzdGF0ZSB0byBTVEFZXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVx0XHRcdFxuXHRcdFx0XG5cdFx0XHRjYXNlIFNUQVRFLkRJRToge1xuXHRcdFx0XHQvL3lvdSBjaGFuZ2UgY2hhbmdlIHRoaXMgc3RhdGVcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGNhc2UgU1RBVEUuQUJJTElUWToge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vLS0tLS09PT09PT09PT1ETyBTVEFURT09PT09PT09PT09LS0tLS0tLS8vXG5cdFx0c3dpdGNoKHRoaXMuc3RhdGUpIHsvL3lvdSBzaG91bGQgcGVyZm9ybSBpbiB0aGlzIGJsb2NrcyBhY3Rpb25zIHdoaWNoIGlzIGNvbnRpdW51ZSBpbiB0aW1lLCBsaWtlIHJ1bm5pbmcgLHNob290aW5nLCBidXQgbm90IHN0YXlpbmdcblx0XHRcdGNhc2UgU1RBVEUuR086IHtcblx0XHRcdFx0dGhpcy5jYWxjTmV3RGlyZWN0aW9uKClcblx0XHRcdFx0YnJlYWtcblx0XHRcdH1cblx0XHRcdGNhc2UgU1RBVEUuU1RBWToge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSBTVEFURS5TSE9PVDoge1xuXHRcdFx0XHR0aGlzLmF0dGFjaygpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRjYXNlIFNUQVRFLkZMWToge1xuXHRcdFx0XHR0aGlzLmZseWluZygpXG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRjYXNlIFNUQVRFLkdFVFVQOiB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0XHRjYXNlIFNUQVRFLkRJRToge1xuXHRcdFx0XHRicmVha1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSBTVEFURS5BQklMSVRZOiB7XG5cdFx0XHRcdGJyZWFrXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBzZWFyY2hBaW1Ub0F0dGFjaygpIHtcbiAgICBpZiAodGhpcy5haW0gJiYgKCdocCcgaW4gdGhpcy5haW0pICYmIHRoaXMuYWltLmhwID4gMCAmJiBVdGlscy5kaXModGhpcywgdGhpcy5haW0pIDwgdGhpcy53ZWFwb24ucmFuZ2UpIHtcblx0XHRcdGlmICh0aGlzLnN0YXRlICE9PSBTVEFURS5TSE9PVCkgeyAvLyBOT1RFOiBvcHRpbWFsemlhdGlvbiwgdG8gYXZvaWQgdW5lY2Vzc2FyeSBhY3Rpb25zXG5cdFx0XHRcdHRoaXMuY2hhbmdlU3RhdGVUb0F0dGFjayh0aGlzLmFpbSlcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3F1YWQuYWltICYmIHRoaXMuc3F1YWQuYWltLm1lbWJlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICB0aGlzLmFpbSA9IHVuZGVmaW5lZFxuXHRcdFx0dGhpcy5jaG9vc2VPbmVPZlByaW9yaXR5KClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5haW0gPSB1bmRlZmluZWRcbiAgICAgIHRoaXMuc3F1YWQuYWltID0gdW5kZWZpbmVkXG5cdFx0XHR0aGlzLmRlZmF1bHRCZWhhdmlvdXIoKVxuXHRcdH1cbiAgfVxuXG4gIGNob29zZU9uZU9mUHJpb3JpdHkoKSB7XG5cdFx0Y29uc3QgaW5kZXg6IG51bWJlciA9IFV0aWxzLmdldEluZGV4T2ZUaGVOZWFyZXN0SXRlbSh0aGlzLnNxdWFkLmFpbS5tZW1iZXJzLCB0aGlzKTtcbiAgICBjb25zdCBuZWFyZXN0RW5lbXlVbml0OiBVbml0ID0gdGhpcy5zcXVhZC5haW0ubWVtYmVyc1tpbmRleF07XG4gICAgY29uc3QgZGlzdGFuY2U6IG51bWJlciA9IFV0aWxzLmRpcyh0aGlzLCBuZWFyZXN0RW5lbXlVbml0KTtcbiAgICBpZiAodGhpcy53ZWFwb24ucmFuZ2UgPCBTRVRUSU5HUy5IVU5USU5HX1JFRlJFU0hfVElNRSAqIHRoaXMuc3BlZWQpIHtcbiAgICAgIGRlYnVnZ2VyXG4gICAgfVxuXHRcdGlmIChkaXN0YW5jZSA+IHRoaXMud2VhcG9uLnJhbmdlKSB7XG4gICAgICB0aGlzLmNoYW5nZVN0YXRlVG9Hbyh7XG4gICAgICAgIHg6IG5lYXJlc3RFbmVteVVuaXQueCxcbiAgICAgICAgeTogbmVhcmVzdEVuZW15VW5pdC55LFxuICAgICAgfSlcblx0XHRcdHdpbmRvdy5odW50ZXJzW3RoaXMuZmFjdGlvbl0ucHVzaCh0aGlzKVxuXHRcdH0gZWxzZSB7XG4gICAgICB0aGlzLmNoYW5nZVN0YXRlVG9BdHRhY2sobmVhcmVzdEVuZW15VW5pdClcbiAgICB9XG5cdH1cbiAgXG4gIGRlZmF1bHRCZWhhdmlvdXIoKSB7IC8vIFRPRE86IGhhbmRsZSBjYXNlIHdoZW4gc29tZSB1bnRpcyBhdHRhY2sgb24geW91PyBJJ20gbm90IHN1cmVcblx0XHRjb25zdCBvYmplY3RzVG9BdHRhY2s6IFVuaXRbXSA9IFtdO1xuICAgIGNvbnN0IHNxdWFkc0NvbGxlY3Rpb24gPSB0aGlzLnN0YXRlID09PSBTVEFURS5TVEFZIC8vIElmIHVuaXQgbG9va2luZyBmaXJzdCB0aW1lIGZvciBuZXcgYWltc1xuICAgICAgPyB3aW5kb3cuc3F1YWRzV2VyZU1vdmVkIC8vIHRoZW4gc2VhcmNoIG9ubHkgaW4gc3F1YWRzLCB3aGljaCB3ZXJlIG1vdmVkXG4gICAgICA6IHdpbmRvdy5hbGxTcXVhZHMgLy8gaWYgbm90IHNlYXJjaCBpbiBhbGwgc3F1YWRcblxuICAgIHNxdWFkc0NvbGxlY3Rpb24uZm9yRWFjaCgoZmFjdGlvbiwgaWR4KSA9PiB7XG5cdFx0XHRpZiAoaWR4ICE9PSB0aGlzLmZhY3Rpb24pIHsgLy8gb25seSBvdGhlciBmcmFjdGlvbnNcblx0XHRcdFx0ZmFjdGlvbi5mb3JFYWNoKHNxdWFkID0+IHtcblx0XHRcdFx0XHRpZiAoVXRpbHMuZGlzKHNxdWFkLmNlbnRlciwgdGhpcykgPCB0aGlzLndlYXBvbi5yYW5nZSArIFNFVFRJTkdTLk1BWF9ESVNUQU5DRV9CRVRXRUVOX1NRVUFEX01FTUJFUlMpIHtcbiAgICAgICAgICAgIHNxdWFkLm1lbWJlcnMuZm9yRWFjaCh1bml0ID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKFV0aWxzLmRpcyh1bml0LCB0aGlzKSA8IHRoaXMud2VhcG9uLnJhbmdlKSB7XG5cdFx0XHRcdFx0XHRcdFx0b2JqZWN0c1RvQXR0YWNrLnB1c2godW5pdCk7XG5cdFx0XHRcdFx0XHRcdH1cbiAgICAgICAgICAgIH0pXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly9jaG9vc2UgYWltXG5cdFx0aWYob2JqZWN0c1RvQXR0YWNrLmxlbmd0aCA+IDEpIHtcblx0XHRcdGNvbnN0IG5ld0FpbSA9IHRoaXMuZ2V0VGhlTW9zdEltcG9ydGFudEFpbShvYmplY3RzVG9BdHRhY2spXG5cdFx0XHR0aGlzLmNoYW5nZVN0YXRlVG9BdHRhY2sobmV3QWltKVxuXHRcdH0gZWxzZSBpZihvYmplY3RzVG9BdHRhY2subGVuZ3RoID09PSAxKSB7XG5cdFx0XHR0aGlzLmNoYW5nZVN0YXRlVG9BdHRhY2sob2JqZWN0c1RvQXR0YWNrWzBdKVxuXHRcdH0gZWxzZSB7XG4gICAgICAvLyBUT0RPOiB3cmFwIGluIGludG8gbWV0aG9kIFwiY2hhbmdlU3RhdGVUb1N0YXlcIlxuXHRcdFx0dGhpcy5zdGF0ZSA9IFNUQVRFLlNUQVlcblx0XHRcdHRoaXMubW9kWCA9IDBcblx0XHRcdHRoaXMubW9kWSA9IDBcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNoYW5nZVN0YXRlVG9HbyhuZXdBaW06IFBvaW50KSB7XG4gICAgaWYgKCdocCcgaW4gbmV3QWltKSB7XG4gICAgICBkZWJ1Z2dlcjtcbiAgICB9XG4gICAgdGhpcy5haW0gPSBuZXdBaW1cbiAgICB0aGlzLnN0YXRlID0gU1RBVEUuR09cblx0XHR0aGlzLmFuZ2xlID0gVXRpbHMuYW5nKHRoaXMsIHRoaXMuYWltKVxuXHRcdHRoaXMubW9kWCA9IE1hdGguc2luKHRoaXMuYW5nbGUpICogdGhpcy5zcGVlZFxuXHRcdHRoaXMubW9kWSA9IC1NYXRoLmNvcyh0aGlzLmFuZ2xlKSAqIHRoaXMuc3BlZWRcblx0fVxuXG5cdGZseWluZygpIHtcblx0XHR0aGlzLm1vZFggPSBNYXRoLmFicyh0aGlzLm1vZFgpIDwgMC41ID8gMCA6IHRoaXMubW9kWCAqIDAuODVcblx0XHR0aGlzLm1vZFkgPSBNYXRoLmFicyh0aGlzLm1vZFkpIDwgMC41ID8gMCA6IHRoaXMubW9kWSAqIDAuODVcblx0XHRpZiAodGhpcy5tb2RYID09PSAwICYmIHRoaXMubW9kWSA9PT0gMCkge1xuXHRcdFx0aWYgKHRoaXMuaHAgPiAwKSB7XG5cdFx0XHRcdHRoaXMuc3RhdGUgPSBTVEFURS5HRVRVUFxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5yZW1vdmVTZWxmKClcblx0XHRcdFx0cmV0dXJuOyAgICAgICAgICAgICAgICBcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Y29uc3QgbmV3WCA9IHRoaXMueCArIHRoaXMubW9kWCAqIFNFVFRJTkdTLkNIQU5HRV9TVEFURV9USFJPVFRMRSxcblx0XHRuZXdZID0gdGhpcy55ICsgdGhpcy5tb2RZICogU0VUVElOR1MuQ0hBTkdFX1NUQVRFX1RIUk9UVExFO1xuXHRcdFxuXHRcdHRoaXMuaGlzdG9yeSA9IHt9O1xuXHRcdHRoaXMuaGlzdG9yeS5uZXdYID0gbmV3WDtcblx0XHR0aGlzLmhpc3RvcnkubmV3WSA9IG5ld1k7XG5cdFx0dGhpcy5oaXN0b3J5LnggPSB0aGlzLng7XG5cdFx0dGhpcy5oaXN0b3J5LnkgPSB0aGlzLnk7XG5cdFx0dGhpcy5oaXN0b3J5LnNldHRpbmdzID0gU0VUVElOR1MuQ0hBTkdFX1NUQVRFX1RIUk9UVExFO1xuXG5cdFx0aWYobmV3WCA8PSAwKSB7XG5cdFx0XHR0aGlzLm1vZFggPSAxIC0gdGhpcy54IC8gU0VUVElOR1MuQ0hBTkdFX1NUQVRFX1RIUk9UVExFOyAvLyAxIGZvciBzYWZlLCB3ZSBjYW4gZG8gaXQgd2l0aG91dCAxXG5cdFx0fSBlbHNlIGlmKG5ld1ggPj0gd2luZG93Lm1hcFdpZHRoKSB7XG5cdFx0XHR0aGlzLm1vZFggPSAod2luZG93Lm1hcFdpZHRoIC0gdGhpcy54KSAvIFNFVFRJTkdTLkNIQU5HRV9TVEFURV9USFJPVFRMRSAtIDE7XG5cdFx0fVxuXG5cdFx0aWYobmV3WSA8PSAwKSB7XG5cdFx0XHR0aGlzLm1vZFkgPSAxIC0gdGhpcy55IC8gU0VUVElOR1MuQ0hBTkdFX1NUQVRFX1RIUk9UVExFOyAvLyAxIGZvciBzYWZlLCB3ZSBjYW4gZG8gaXQgd2l0aG91dCAxXG5cdFx0fSBlbHNlIGlmKG5ld1kgPj0gd2luZG93Lm1hcEhlaWdodCkge1xuXHRcdFx0dGhpcy5tb2RZID0gKHdpbmRvdy5tYXBIZWlnaHQgLSB0aGlzLnkpIC8gU0VUVElOR1MuQ0hBTkdFX1NUQVRFX1RIUk9UVExFIC0gMTtcblx0XHR9XG5cdFx0dGhpcy5oaXN0b3J5Lm1vZFggPSB0aGlzLm1vZFg7XG5cdFx0dGhpcy5oaXN0b3J5Lm1vZFkgPSB0aGlzLm1vZFk7XG5cdH1cblxuXHRwcm90ZWN0ZWQgY2hhbmdlU3RhdGVUb0RpZSgpIHtcbiAgICBpZiAodGhpcy5jYW5QcmV2ZW50Q3VycmVudEFjdGlvbigpKSB7XG4gICAgICB0aGlzLmFiaWxpdHkgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnN0YXRlID0gU1RBVEUuRElFO1xuICAgICAgdGhpcy5tb2RYID0gMDtcbiAgICAgIHRoaXMubW9kWSA9IDA7XG4gICAgfVxuXHR9XG5cblx0cHJpdmF0ZSBjYWxjTmV3RGlyZWN0aW9uKCkge1xuICAgIC8vIGlmICghKCdocCcgaW4gdGhpcy5haW0pKSB7XG4gICAgLy8gICBkZWJ1Z2dlclxuICAgIC8vICAgcmV0dXJuXG4gICAgLy8gfVxuXHRcdC8vIGlmICghVXRpbHMub2JqU3RheWluZyh0aGlzLmFpbSkpIHsgLy8gVE9ETzogVE9ETzogaXQgZG9lc24ndCB3b3JrIGJlY2F1c2UgdGhpcy5haW0gPSBQb2ludCwgZG9lc250IGhhdmUgJ3N0YXRlJ1xuXHRcdC8vIFx0dGhpcy5hbmdsZSA9IFV0aWxzLmFuZyh0aGlzLCB0aGlzLmFpbSk7XG5cdFx0Ly8gXHR0aGlzLm1vZFggPSBNYXRoLnNpbih0aGlzLmFuZ2xlKSAqIHRoaXMuc3BlZWQ7XG5cdFx0Ly8gXHR0aGlzLm1vZFkgPSAtTWF0aC5jb3ModGhpcy5hbmdsZSkgKiB0aGlzLnNwZWVkO1xuICAgIC8vIH1cbiAgICBpZiAodGhpcy5hYmlsaXR5ICYmIFV0aWxzLmRpcyh0aGlzLCB0aGlzLmFiaWxpdHkudGFyZ2V0KSA8IHRoaXMuYWJpbGl0eS5kZXRhaWxzLnJhbmdlKSB7XG4gICAgICB0aGlzLnVzZUFiaWxpdHkoKVxuICAgIH1cblx0fVxuXG4gIHB1YmxpYyBzZXRUYXJnZXRUb0dvKHRhcmdldFRvR286IFBvaW50KSB7IC8vIHVzZWQgb25seSBpbiBzZXREZXN0aW5hdGlvbiB0byBzZXQgYWltXG4gICAgLy8gU1RBUlQgLSBQUkVWRU5UIENVUlJFTlQgQUNUSU9OXG4gICAgY29uc3QgaHVudGVySW5kZXggPSB3aW5kb3cuaHVudGVyc1t0aGlzLmZhY3Rpb25dLmZpbmRJbmRleCgodW5pdCkgPT4gdW5pdCA9PT0gdGhpcyk7XG4gICAgaWYgKGh1bnRlckluZGV4ICE9PSAtMSkge1xuICAgICAgVXRpbHMucmVtb3ZlRnJvbUFycih3aW5kb3cuaHVudGVyc1t0aGlzLmZhY3Rpb25dLCB0aGlzKVxuICAgIH1cbiAgICB0aGlzLmFiaWxpdHkgPSB1bmRlZmluZWQ7IC8vIFRPRE86IHJlbmFtZSB0byBcImFpbVdoZXJlVXNlQWJpbGl0eVwiXG4gICAgLy8gRU5EIC0gUFJFVkVOVCBDVVJSRU5UIEFDVElPTlxuICAgIHRoaXMuYWltID0gdGFyZ2V0VG9Hb1xuICAgIGlmICh0aGlzLmNhblByZXZlbnRDdXJyZW50QWN0aW9uKCkpIHtcbiAgICAgIHRoaXMuY2hhbmdlU3RhdGVUb0dvKHRhcmdldFRvR28pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF5KCkge1xuICAgIHRoaXMuYWltID0gdW5kZWZpbmVkXG4gICAgaWYgKHRoaXMuY2FuUHJldmVudEN1cnJlbnRBY3Rpb24oKSkge1xuICAgICAgdGhpcy5jaGFuZ2VTdGF0ZVRvU3RheSgpXG4gICAgfVxuICB9XG4gIFxuICBwcml2YXRlIGNoYW5nZVN0YXRlVG9TdGF5KCkge1xuICAgIHRoaXMuc3RhdGUgPSBTVEFURS5TVEFZXG4gICAgdGhpcy5zZWFyY2hBaW1Ub0F0dGFjaygpXG4gIH1cblxuXHRwcml2YXRlIGNoYW5nZVN0YXRlVG9BdHRhY2soYWltOiBVbml0KSB7XG4gICAgdGhpcy5zdGF0ZSA9IFNUQVRFLlNIT09UO1xuXHRcdHRoaXMuYWltID0gYWltO1xuXHRcdHRoaXMuYW5nbGUgPSBVdGlscy5hbmcodGhpcywgdGhpcy5haW0pO1xuXHRcdHRoaXMubW9kWCA9IDA7XG5cdFx0dGhpcy5tb2RZID0gMDtcblx0fVxuXG5cdHByaXZhdGUgYXR0YWNrKCkge1xuICAgIC8vIFRPRE86IG1heWJlIGJlIHNob3VsZCBjaGVjayBoZXJlLCBpcyBhaW0uaHAgPiAwXG4gICAgaWYgKCEoJ2hwJyBpbiB0aGlzLmFpbSkpIHtcbiAgICAgIGRlYnVnZ2VyXG4gICAgICByZXR1cm5cbiAgICB9XG5cdFx0aWYgKCFVdGlscy5vYmpTdGF5aW5nKHRoaXMuYWltKSkge1xuICAgICAgaWYgKFV0aWxzLmRpcyh0aGlzLCB0aGlzLmFpbSkgPj0gdGhpcy53ZWFwb24ucmFuZ2UpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hBaW1Ub0F0dGFjaygpXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cbiAgICAgIHRoaXMuYW5nbGUgPSBVdGlscy5hbmcodGhpcywgdGhpcy5haW0pXG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuZmxhbWVyKSB7IC8vIFRPRE86IG12b2UgdGhpcyB3aG9sZSBjb25kaXRpbmFsIHRvIG5ldyB3ZWFwb24gbWV0aG9kIFwic2hvb3RcIiwgYW5kIHBhc3Mgb25seSB1bml0IG9iamVjdFxuXHRcdFx0aWYgKE1hdGguZmxvb3IodGhpcy53ZWFwb24ucmVsb2FkKSAlIDMgPT09IDApIHtcblx0XHRcdFx0dGhpcy5nb1RvU2hvb3RGcmFtZSgpO1x0XHRcdFx0XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhpcy5mbGFtZXIuY29udGFpbmVyLnZpc2libGUgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHRoaXMuZmxhbWVyLnN0YXJ0KCk7XG5cdFx0XHRcdHRoaXMud2VhcG9uLmZsYW1lckFpbXMgPSBbXTsgLy8gd2Ugc2hvdWxkIGFkZCBuZXcgZmllbGQgaGVyZSwgaXQncyBwcm9iYWJseSBicmVha3MgYSBsb3Qgb2Zcblx0XHRcdFx0dGhpcy53ZWFwb24ucmVsb2FkID0gMDtcblx0XHRcdH1cblx0XHRcdGlmICgtLXRoaXMud2VhcG9uLnJlbG9hZCA8PSAwKSB7XHRcdFx0XHRcblx0XHRcdFx0dGhpcy53ZWFwb24ucmVsb2FkID0gdGhpcy53ZWFwb24ucmVsb2FkVGltZTtcblx0XHRcdFx0d2luZG93LmFsbFNxdWFkcy5tYXAoIChmYWN0LCBpZHgpID0+IHtcblx0XHRcdFx0XHRpZiAoaWR4ICE9PSB0aGlzLmZhY3Rpb24pIHtcblx0XHRcdFx0XHRcdGZhY3QubWFwKCBzcXVhZCA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChVdGlscy5kaXMoc3F1YWQuY2VudGVyLCB0aGlzKSA8IHRoaXMud2VhcG9uLnJhbmdlICsgU0VUVElOR1MuTUFYX0RJU1RBTkNFX0JFVFdFRU5fU1FVQURfTUVNQkVSUykge1xuXHRcdFx0XHRcdFx0XHRcdC8vIDUwMCBmcm9tIHNreSwgZm9yIG9wdGltYWxpemF0aW9uLCBmaXJzdCB0ZXN0IHNxdWFkLCBsYXRlciBlYWNoIHVuaXRcblx0XHRcdFx0XHRcdFx0XHRzcXVhZC5tZW1iZXJzLm1hcCh1bml0ID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChVdGlscy5kaXModGhpcywgdW5pdCkgPCB0aGlzLndlYXBvbi5yYW5nZSAmJiBVdGlscy53aGVyZSh0aGlzLngsIHRoaXMueSwgdGhpcy5hbmdsZSwgdW5pdC54LCB1bml0LnksIDQwKSA9PT0gMCkgeyAvLyBJcyBvbiB0aGUgZnJvbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy53ZWFwb24uZmxhbWVyQWltcy5wdXNoKHVuaXQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdHRoaXMud2VhcG9uLmZsYW1lckFpbXMuZm9yRWFjaCh1bml0ID0+IHVuaXQudGFrZURhbWFnZSh0aGlzLndlYXBvbikpO1x0XHRcdFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy53ZWFwb24ucmVsb2FkKysgPj0gdGhpcy53ZWFwb24ucmVsb2FkVGltZSkge1xuXHRcdFx0XHRpZiAoTWF0aC5mbG9vcihVdGlscy5yYW5kb21BYnNMVVQoNSkpID09PSAwKSB7Ly9sb2FkIG5ldyBidWxsZXRzXG5cdFx0XHRcdFx0dGhpcy53ZWFwb24ucmVsb2FkID0gLU1hdGguZmxvb3IoVXRpbHMucmFuZG9tQWJzTFVUKHRoaXMud2VhcG9uLndhaXRSZWxvYWRpbmdUaW1lKSArIDEpO1xuXHRcdFx0XHR9IGVsc2Ugey8vYnJlYWsgYmV0d2VlbiB0d28gc2hvb3RzXG5cdFx0XHRcdFx0dGhpcy53ZWFwb24ucmVsb2FkID0gMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuZ29Ub1Nob290RnJhbWUoKTtcblx0XHRcdFx0Y29uc3QgcG9pbnQgPSB0aGlzLm1vZGVsLnJpZmxlUG9pbnRzW3RoaXMuZ2V0Um90YXRpb25GcmFtZSgpXTtcblx0XHRcdFx0Y29uc3QgcG9zaXRpb24gPSB7XG5cdFx0XHRcdFx0eDogcG9pbnQueCAqIHRoaXMubW9kZWwuc2NhbGUgKyB0aGlzLngsXG5cdFx0XHRcdFx0eTogKHBvaW50LnkgKyA0KSAqIHRoaXMubW9kZWwuc2NhbGUgKyB0aGlzLnksXG5cdFx0XHRcdFx0YW5nbGU6IHRoaXMuYW5nbGVcblx0XHRcdFx0fVxuXHRcdFx0XHRXZWFwb25zRmFjdG9yeS5jcmVhdGVCdWxsZXQodGhpcy50eXBlLCBwb3NpdGlvbiwgdGhpcy5haW0pOy8vIGZvdXJ0aHkgb3B0aW9uIHBhcmFtIGlzIG1vZGlmeSBkYW1hZ2Vcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR0YWtlRGFtYWdlKGJ1bGxldCkge1xuICAgIGNvbnN0IHsgZGFtYWdlLCBleHBsb3Npb24gfSA9IGJ1bGxldDtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU1RBVEUuQUJJTElUWSkgeyAvLyBJZiB1bml0IGlzIGZseWluZyAoZm9yIGV4YW1wbGUpIHRoZW4gc2hvdWRuJ3QgZ2V0IGRhbWFnZVxuICAgICAgcmV0dXJuXG4gICAgfVxuXHRcdGlmIChleHBsb3Npb24pIHtcblx0XHRcdGNvbnN0IGludmVydGVkTm9ybWFsRGlzdGFuY2UgPSAxIC0gKFV0aWxzLmRpcyh0aGlzLCBidWxsZXQpIC8gZXhwbG9zaW9uLnJhbmdlKTtcblx0XHRcdHRoaXMuaHAgLT0gZGFtYWdlICogaW52ZXJ0ZWROb3JtYWxEaXN0YW5jZTtcblx0XHRcdGNvbnN0IGFuZ2xlID0gVXRpbHMuYW5nKGJ1bGxldCwgdGhpcyk7XG5cdFx0XHRjb25zdCBzdHJlbmd0aCA9IGludmVydGVkTm9ybWFsRGlzdGFuY2UgKiBleHBsb3Npb24uc3RyZW5ndGggKyAyOyAvLyAyID0+IHRoZSBtaW5pbXVtXG5cdFx0XHRjb25zdCBtb2RYID0gTWF0aC5zaW4oYW5nbGUpICogc3RyZW5ndGg7XG5cdFx0XHRjb25zdCBtb2RZID0gLU1hdGguY29zKGFuZ2xlKSAqIHN0cmVuZ3RoO1xuXHRcdFx0XG5cdFx0XHR0aGlzLmFuZ2xlID0gYW5nbGUgKyBNYXRoLlBJO1xuXHRcdFx0dGhpcy5tb2RYID0gbW9kWDtcblx0XHRcdHRoaXMubW9kWSA9IG1vZFk7XG5cdFx0XHR0aGlzLnN0YXRlID0gU1RBVEUuRkxZO1xuXHRcdFx0dGhpcy5mbHlpbmcoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5ocCAtPSBkYW1hZ2U7XG5cdFx0XHRpZiAodGhpcy5ocCA8PSAwKSB7XG5cdFx0XHRcdHRoaXMuY2hhbmdlU3RhdGVUb0RpZSgpO1xuXHRcdFx0fVxuICAgIH1cbiAgICAvLyBUT0RPOiB1bml0IGNhbiBhbHNvIGRpZSBhZnRlciBleHBsb3Npb24sIGFsc28gZHVyaW5nIGZ5bGluZyFcbiAgICAvLyBpZiAodGhpcy5ocCA8PSAwKSB7XG4gICAgICAvLyB0aGlzLmNoYW5nZVN0YXRlVG9EaWUoKTtcbiAgICAvLyB9XG4gIH1cbiAgXG4gIHByaXZhdGUgY2FuUHJldmVudEN1cnJlbnRBY3Rpb24oKSB7XG4gICAgcmV0dXJuICFbU1RBVEUuRkxZLCBTVEFURS5HRVRVUCwgU1RBVEUuRElFLCBTVEFURS5BQklMSVRZXS5pbmNsdWRlcyh0aGlzLnN0YXRlKVxuICB9XG5cblx0cmVtb3ZlU2VsZigpIHtcblx0XHR3aW5kb3cuYXBwLnN0YWdlLnJlbW92ZUNoaWxkKHRoaXMuZ3JhcGhpY3MpXG4gICAgdGhpcy5ncmFwaGljcy5kZXN0cm95KClcbiAgICB0aGlzLmdyYXBoaWNzID0gdW5kZWZpbmVkXG4gICAgY29uc3QgaHVudGVySW5kZXggPSB3aW5kb3cuaHVudGVyc1t0aGlzLmZhY3Rpb25dLmZpbmRJbmRleCgodW5pdCkgPT4gdW5pdCA9PT0gdGhpcyk7XG4gICAgaWYgKGh1bnRlckluZGV4ICE9PSAtMSkge1xuICAgICAgVXRpbHMucmVtb3ZlRnJvbUFycih3aW5kb3cuaHVudGVyc1t0aGlzLmZhY3Rpb25dLCB0aGlzKVxuICAgIH1cblx0XHR0aGlzLndlYXBvbiA9IHVuZGVmaW5lZFxuXHRcdHRoaXMuYWltID0gdW5kZWZpbmVkXG5cdFx0dGhpcy5zcXVhZC5yZW1vdmVVbml0KHRoaXMpXG5cdFx0dGhpcy5zcXVhZCA9IHVuZGVmaW5lZFxuXHR9XG5cblx0YW5pbWF0ZSgpIHtcbiAgICB0aGlzLnRlc3RpbmcoKVxuXHRcdC8vIGNvbnN0IHNlbGYgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzKTtcblx0XHQvLyBpZih0aGlzLnggPCAwIHx8IHRoaXMueSA8IDAgfHwgdGhpcy54ID4gd2luZG93Lm1hcFdpZHRoIHx8IHRoaXMueSA+IHdpbmRvdy5tYXBIZWlnaHQpIGRlYnVnZ2VyO1xuXHRcdHRoaXMueCArPSB0aGlzLm1vZFg7XG5cdFx0dGhpcy55ICs9IHRoaXMubW9kWTtcblx0XHR0aGlzLmdyYXBoaWNzLnggPSB0aGlzLng7XG5cdFx0dGhpcy5ncmFwaGljcy55ID0gdGhpcy55ICsgdGhpcy5tb2RlbC5vZmZzZXRZO1xuXHRcdHRoaXMuZHJhdygpO1xuICB9XG4gIFxuICB1c2VBYmlsaXR5KCkge1xuICAgIGNvbnN0IHsgZGV0YWlscywgdGFyZ2V0IH0gPSB0aGlzLmFiaWxpdHlcbiAgICBkZXRhaWxzLnVzZSh0aGlzLCB0YXJnZXQpXG5cbiAgICBjb25zdCB1bml0cyA9IGRldGFpbHMuZm9yRnVsbFNxdWFkID8gW3RoaXNdIDogdGhpcy5zcXVhZC5tZW1iZXJzXG4gICAgdW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgIHVuaXQuYWJpbGl0eSA9IHVuZGVmaW5lZFxuICAgICAgdW5pdC5haW0gPSB1bmRlZmluZWRcbiAgICAgIGlmICh1bml0LnN0YXRlICE9PSBTVEFURS5BQklMSVRZKSB7IC8vIHdpdGhvdXQgYW5pbWF0aW9uXG4gICAgICAgIHVuaXQuZGVmYXVsdEJlaGF2aW91cigpXG4gICAgICB9XG4gICAgfSlcbiAgICBcblx0XHRjb25zdCB1c2VkQWJpbGl0eSA9IHRoaXMuc3F1YWQuYWJpbGl0aWVzLmZpbmQoYWJpbGl0eSA9PiBhYmlsaXR5Lm5hbWUgPT09IGRldGFpbHMubmFtZSk7XG5cdFx0dXNlZEFiaWxpdHkudGltZSA9IHVzZWRBYmlsaXR5LnJlY2hhcmdlVGltZTtcblx0fVxuXHRcbiAgZ2V0VGhlTW9zdEltcG9ydGFudEFpbShhaW1zOiBVbml0W10pIHsgLy8gVE9ETzogcmVtb3ZlIGl0LCBpdCdzIGFic3RyYWN0IG1ldGhvZFxuICAgIHJldHVybiBhaW1zWzBdXG4gIH1cbiAgXG4gIHRlc3RpbmcoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFNUQVRFLkdPICYmIHRoaXMuYWltICYmICdocCcgaW4gdGhpcy5haW0pIHtcbiAgICAgIGRlYnVnZ2VyXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFNUQVRFLlNUQVkgJiYgdGhpcy5haW0pIHtcbiAgICAgIGRlYnVnZ2VyXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFNUQVRFLlNIT09UICYmICF0aGlzLmFpbSkge1xuICAgICAgZGVidWdnZXJcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVW5pdDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///201\n')},202:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar generateArray = function generateArray(count) {\n  var unitSize = 50;\n  var factor = count < 21 ? 0.35 : 0.2; //zero maths, value comes only from view, depends on good looking\n\n  var cols = Math.ceil(count * factor);\n  var rows = Math.ceil(count / cols);\n  var height = rows * unitSize;\n  var width = cols * unitSize;\n  var points = [];\n\n  for (var i = 0; i < rows; i++) {\n    for (var j = 0; j < cols && points.length < count; j++) {\n      points.push({\n        x: (i & 1) * 15 + j * unitSize - width / 2,\n        y: i * unitSize - height / 2 // - height / 2, -width / 2 -> aby wyśrodkowac cała tablicę\n\n      });\n    }\n  }\n\n  return {\n    height: height,\n    width: width,\n    cols: cols,\n    rows: rows,\n    points: points\n  };\n};\n\nvar _default = generateArray;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9nZW5lcmF0ZUFycmF5LnRzPzA2OTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQU0sYUFBYSxHQUFHLFNBQWhCLGFBQWdCLENBQUMsS0FBRCxFQUFrQjtBQUN0QyxNQUFNLFFBQVEsR0FBRyxFQUFqQjtBQUNBLE1BQU0sTUFBTSxHQUFHLEtBQUssR0FBRyxFQUFSLEdBQWEsSUFBYixHQUFvQixHQUFuQyxDQUZzQyxDQUVBOztBQUN0QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBTCxDQUFVLEtBQUssR0FBRyxNQUFsQixDQUFiO0FBQ0EsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUwsQ0FBVSxLQUFLLEdBQUcsSUFBbEIsQ0FBYjtBQUNBLE1BQU0sTUFBTSxHQUFHLElBQUksR0FBRyxRQUF0QjtBQUNBLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxRQUFyQjtBQUNBLE1BQU0sTUFBTSxHQUFZLEVBQXhCOztBQUVBLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBYixFQUFnQixDQUFDLEdBQUcsSUFBcEIsRUFBMEIsQ0FBQyxFQUEzQixFQUErQjtBQUM3QixTQUFLLElBQUksQ0FBQyxHQUFHLENBQWIsRUFBZ0IsQ0FBQyxHQUFHLElBQUosSUFBWSxNQUFNLENBQUMsTUFBUCxHQUFnQixLQUE1QyxFQUFtRCxDQUFDLEVBQXBELEVBQXdEO0FBQ3RELFlBQU0sQ0FBQyxJQUFQLENBQVk7QUFDVixTQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBTCxJQUFVLEVBQVYsR0FBZSxDQUFDLEdBQUcsUUFBbkIsR0FBOEIsS0FBSyxHQUFHLENBRC9CO0FBRVYsU0FBQyxFQUFFLENBQUMsR0FBRyxRQUFKLEdBQWUsTUFBTSxHQUFHLENBRmpCLENBRWtCOztBQUZsQixPQUFaO0FBSUQ7QUFDRjs7QUFFRCxTQUFPO0FBQ0wsVUFBTSxFQUFOLE1BREs7QUFFTCxTQUFLLEVBQUwsS0FGSztBQUdMLFFBQUksRUFBSixJQUhLO0FBSUwsUUFBSSxFQUFKLElBSks7QUFLTCxVQUFNLEVBQU47QUFMSyxHQUFQO0FBT0QsQ0F6QkQ7O2VBMkJlLGEiLCJmaWxlIjoiMjAyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2VuZXJhdGVBcnJheSA9IChjb3VudDogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHVuaXRTaXplID0gNTBcbiAgY29uc3QgZmFjdG9yID0gY291bnQgPCAyMSA/IDAuMzUgOiAwLjIvL3plcm8gbWF0aHMsIHZhbHVlIGNvbWVzIG9ubHkgZnJvbSB2aWV3LCBkZXBlbmRzIG9uIGdvb2QgbG9va2luZ1xuICBjb25zdCBjb2xzID0gTWF0aC5jZWlsKGNvdW50ICogZmFjdG9yKVxuICBjb25zdCByb3dzID0gTWF0aC5jZWlsKGNvdW50IC8gY29scylcbiAgY29uc3QgaGVpZ2h0ID0gcm93cyAqIHVuaXRTaXplXG4gIGNvbnN0IHdpZHRoID0gY29scyAqIHVuaXRTaXplXG4gIGNvbnN0IHBvaW50czogUG9pbnRbXSA9IFtdXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHMgJiYgcG9pbnRzLmxlbmd0aCA8IGNvdW50OyBqKyspIHtcbiAgICAgIHBvaW50cy5wdXNoKHtcbiAgICAgICAgeDogKGkgJiAxKSAqIDE1ICsgaiAqIHVuaXRTaXplIC0gd2lkdGggLyAyLC8vYWJ5IG5pZXBhcnp5c3RlIHdpZXJzemUgYnnFgnkgbyAyMCB3IG9zaSBYIHByemVzdW5pxJl0ZVxuICAgICAgICB5OiBpICogdW5pdFNpemUgLSBoZWlnaHQgLyAyLy8gLSBoZWlnaHQgLyAyLCAtd2lkdGggLyAyIC0+IGFieSB3ecWbcm9ka293YWMgY2HFgmEgdGFibGljxJlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0LFxuICAgIHdpZHRoLFxuICAgIGNvbHMsXG4gICAgcm93cyxcbiAgICBwb2ludHMsXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2VuZXJhdGVBcnJheTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///202\n')},203:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _abilityFactory = __webpack_require__(211);\n\nvar _setDestination = _interopRequireDefault(__webpack_require__(199));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar setAbility = function setAbility(squads, target, type) {\n  if (type === 'SOLIDER_GRENADE') {\n    squads.forEach(function (squad) {\n      (0, _setDestination.default)(target, squad.members, false, false, false);\n      var ability = {\n        target: target,\n        details: _abilityFactory.abilityFactory.get(type)\n      };\n      squad.members.forEach(function (unit) {\n        return unit.ability = ability;\n      });\n    });\n  } else if (type === 'ASSAULT_JUMP') {\n    var allUnits = [];\n    squads.forEach(function (squad) {\n      return squad.members.forEach(function (unit) {\n        return allUnits.push(unit);\n      });\n    });\n    (0, _setDestination.default)(target, allUnits, false, false, false);\n    var ability = {\n      target: target,\n      details: _abilityFactory.abilityFactory.get(type)\n    };\n    allUnits.forEach(function (unit) {\n      return unit.ability = ability;\n    });\n  }\n};\n\nvar _default = setAbility;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWJpbGl0aWVzL3NldEFiaWxpdGllLnRzPzdmNjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUNBOzs7O0FBS0EsSUFBTSxVQUFVLEdBQUcsU0FBYixVQUFhLENBQUMsTUFBRCxFQUFrQixNQUFsQixFQUFpQyxJQUFqQyxFQUF1RDtBQUN4RSxNQUFJLElBQUksS0FBSyxpQkFBYixFQUFnQztBQUM1QixVQUFNLENBQUMsT0FBUCxDQUFlLFVBQUMsS0FBRCxFQUFpQjtBQUM5QixtQ0FBb0IsTUFBcEIsRUFBNEIsS0FBSyxDQUFDLE9BQWxDLEVBQTJDLEtBQTNDLEVBQWtELEtBQWxELEVBQXlELEtBQXpEO0FBQ0EsVUFBTSxPQUFPLEdBQUc7QUFDZCxjQUFNLEVBQU4sTUFEYztBQUVkLGVBQU8sRUFBRSwrQkFBZSxHQUFmLENBQW1CLElBQW5CO0FBRkssT0FBaEI7QUFJQSxXQUFLLENBQUMsT0FBTixDQUFjLE9BQWQsQ0FBc0IsY0FBSTtBQUFBLGVBQUksSUFBSSxDQUFDLE9BQUwsR0FBZSxPQUFuQjtBQUFBLE9BQTFCO0FBQ0QsS0FQRDtBQVFILEdBVEQsTUFTTyxJQUFJLElBQUksS0FBSyxjQUFiLEVBQTZCO0FBQ2xDLFFBQU0sUUFBUSxHQUFXLEVBQXpCO0FBQ0EsVUFBTSxDQUFDLE9BQVAsQ0FBZSxlQUFLO0FBQUEsYUFDbEIsS0FBSyxDQUFDLE9BQU4sQ0FBYyxPQUFkLENBQXNCLGNBQUk7QUFBQSxlQUN4QixRQUFRLENBQUMsSUFBVCxDQUFjLElBQWQsQ0FEd0I7QUFBQSxPQUExQixDQURrQjtBQUFBLEtBQXBCO0FBS0EsaUNBQW9CLE1BQXBCLEVBQTRCLFFBQTVCLEVBQXNDLEtBQXRDLEVBQTZDLEtBQTdDLEVBQW9ELEtBQXBEO0FBQ0EsUUFBTSxPQUFPLEdBQUc7QUFDZCxZQUFNLEVBQU4sTUFEYztBQUVkLGFBQU8sRUFBRSwrQkFBZSxHQUFmLENBQW1CLElBQW5CO0FBRkssS0FBaEI7QUFJQSxZQUFRLENBQUMsT0FBVCxDQUFpQixjQUFJO0FBQUEsYUFBSSxJQUFJLENBQUMsT0FBTCxHQUFlLE9BQW5CO0FBQUEsS0FBckI7QUFDRDtBQUNGLENBeEJEOztlQTBCZSxVIiwiZmlsZSI6IjIwMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTcXVhZCBmcm9tICd+L3VuaXRzL1NxdWFkJztcbmltcG9ydCB7IGFiaWxpdHlGYWN0b3J5IH0gZnJvbSAnLi9hYmlsaXR5RmFjdG9yeSc7XG5pbXBvcnQgc2V0RGVzdGluYXRpb25Qb2ludCBmcm9tICd+L21vZHVsZXMvc2V0RGVzdGluYXRpb24nO1xuaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcbmltcG9ydCBTVEFURSBmcm9tICd+L21vZHVsZXMvY29uc3RzJztcbmltcG9ydCBVbml0IGZyb20gJ34vdW5pdHMvVW5pdCc7XG5cbmNvbnN0IHNldEFiaWxpdHkgPSAoc3F1YWRzOiBTcXVhZFtdLCB0YXJnZXQ6IFBvaW50LCB0eXBlOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgaWYgKHR5cGUgPT09ICdTT0xJREVSX0dSRU5BREUnKSB7XG4gICAgICBzcXVhZHMuZm9yRWFjaCgoc3F1YWQ6IFNxdWFkKSA9PiB7XG4gICAgICAgIHNldERlc3RpbmF0aW9uUG9pbnQodGFyZ2V0LCBzcXVhZC5tZW1iZXJzLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgYWJpbGl0eSA9IHtcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgZGV0YWlsczogYWJpbGl0eUZhY3RvcnkuZ2V0KHR5cGUpXG4gICAgICAgIH1cbiAgICAgICAgc3F1YWQubWVtYmVycy5mb3JFYWNoKHVuaXQgPT4gdW5pdC5hYmlsaXR5ID0gYWJpbGl0eSlcbiAgICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdBU1NBVUxUX0pVTVAnKSB7XG4gICAgY29uc3QgYWxsVW5pdHM6IFVuaXRbXSA9IFtdO1xuICAgIHNxdWFkcy5mb3JFYWNoKHNxdWFkID0+XG4gICAgICBzcXVhZC5tZW1iZXJzLmZvckVhY2godW5pdCA9PlxuICAgICAgICBhbGxVbml0cy5wdXNoKHVuaXQpXG4gICAgICApIFxuICAgICk7XG4gICAgc2V0RGVzdGluYXRpb25Qb2ludCh0YXJnZXQsIGFsbFVuaXRzLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICBjb25zdCBhYmlsaXR5ID0ge1xuICAgICAgdGFyZ2V0LFxuICAgICAgZGV0YWlsczogYWJpbGl0eUZhY3RvcnkuZ2V0KHR5cGUpXG4gICAgfVxuICAgIGFsbFVuaXRzLmZvckVhY2godW5pdCA9PiB1bml0LmFiaWxpdHkgPSBhYmlsaXR5KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBzZXRBYmlsaXR5OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///203\n")},204:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Solider = _interopRequireDefault(__webpack_require__(219));\n\nvar _Warrior = _interopRequireDefault(__webpack_require__(224));\n\nvar _WarriorAssault = _interopRequireDefault(__webpack_require__(225));\n\nvar _soliderSprites = _interopRequireDefault(__webpack_require__(226));\n\nvar _warriorSprites = _interopRequireDefault(__webpack_require__(227));\n\nvar _warriorAssaultSprites = _interopRequireDefault(__webpack_require__(228));\n\nvar _mySelectionSprite = _interopRequireDefault(__webpack_require__(229));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UnitsFactory = {\n  inizializationTypes: function inizializationTypes(layerGroup) {\n    var getSoliderSprite = (0, _soliderSprites.default)(),\n        getWarriorSprite = (0, _warriorSprites.default)(),\n        getWarriorAssaultSprite = (0, _warriorAssaultSprites.default)(),\n        getMySelection = (0, _mySelectionSprite.default)();\n    this.layerGroup = layerGroup;\n    this.types = {\n      'WARRIOR_REGULAR': {\n        class: _Warrior.default,\n        sprites: getWarriorSprite,\n        selection: getMySelection\n      },\n      'SOLIDER_REGULAR': {\n        class: _Solider.default,\n        sprites: getSoliderSprite,\n        selection: getMySelection\n      },\n      'SOLIDER_LASER': {\n        class: _Solider.default,\n        sprites: getSoliderSprite,\n        selection: getMySelection\n      },\n      'WARRIOR_ASSAULT': {\n        class: _WarriorAssault.default,\n        sprites: getWarriorAssaultSprite,\n        selection: getMySelection\n      }\n    };\n  },\n  createUnit: function createUnit(pos, faction, type, squad) {\n    var kind = this.types[type];\n    return new kind.class({\n      parentGroup: this.layerGroup,\n      unit: new PIXI.Container(),\n      selection: kind.selection()\n    }, kind.sprites(), pos, faction, type, squad);\n  }\n};\nvar _default = UnitsFactory;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvVW5pdEZhY3RvcnkudHM/NjA4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFJQSxJQUFNLFlBQVksR0FBRztBQUNqQixxQkFEaUIsK0JBQ0csVUFESCxFQUNrQjtBQUMvQixRQUFNLGdCQUFnQixHQUFHLDhCQUF6QjtBQUFBLFFBQ00sZ0JBQWdCLEdBQUcsOEJBRHpCO0FBQUEsUUFFTSx1QkFBdUIsR0FBRyxxQ0FGaEM7QUFBQSxRQUdNLGNBQWMsR0FBRyxpQ0FIdkI7QUFLQSxTQUFLLFVBQUwsR0FBa0IsVUFBbEI7QUFDQSxTQUFLLEtBQUwsR0FBYTtBQUNULHlCQUFtQjtBQUNmLGFBQUssRUFBRSxnQkFEUTtBQUVmLGVBQU8sRUFBRSxnQkFGTTtBQUdmLGlCQUFTLEVBQUU7QUFISSxPQURWO0FBTVQseUJBQW1CO0FBQ2YsYUFBSyxFQUFFLGdCQURRO0FBRWYsZUFBTyxFQUFFLGdCQUZNO0FBR2YsaUJBQVMsRUFBRTtBQUhJLE9BTlY7QUFXVCx1QkFBaUI7QUFDYixhQUFLLEVBQUUsZ0JBRE07QUFFYixlQUFPLEVBQUUsZ0JBRkk7QUFHYixpQkFBUyxFQUFFO0FBSEUsT0FYUjtBQWdCVCx5QkFBbUI7QUFDZixhQUFLLEVBQUUsdUJBRFE7QUFFZixlQUFPLEVBQUUsdUJBRk07QUFHZixpQkFBUyxFQUFFO0FBSEk7QUFoQlYsS0FBYjtBQXNCSCxHQTlCZ0I7QUErQmpCLFlBL0JpQixzQkErQk4sR0EvQk0sRUErQk0sT0EvQk4sRUErQnVCLElBL0J2QixFQStCcUMsS0EvQnJDLEVBK0JpRDtBQUU5RCxRQUFNLElBQUksR0FBRyxLQUFLLEtBQUwsQ0FBVyxJQUFYLENBQWI7QUFDQSxXQUFPLElBQUksSUFBSSxDQUFDLEtBQVQsQ0FDSDtBQUNJLGlCQUFXLEVBQUUsS0FBSyxVQUR0QjtBQUVJLFVBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxTQUFULEVBRlY7QUFHSSxlQUFTLEVBQUUsSUFBSSxDQUFDLFNBQUw7QUFIZixLQURHLEVBTUgsSUFBSSxDQUFDLE9BQUwsRUFORyxFQU9ILEdBUEcsRUFRSCxPQVJHLEVBU0gsSUFURyxFQVVILEtBVkcsQ0FBUDtBQVlIO0FBOUNnQixDQUFyQjtlQWlEZSxZIiwiZmlsZSI6IjIwNC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTb2xpZGVyIGZyb20gJy4vU29saWRlcic7XG5pbXBvcnQgV2FycmlvciBmcm9tICcuL1dhcnJpb3InO1xuaW1wb3J0IFdhcnJpb3JBc3NhdWx0IGZyb20gJy4vV2FycmlvckFzc2F1bHQnO1xuaW1wb3J0IGNyZWF0ZVNvbGlkZXJTcHJpdGUgZnJvbSAnfi9zcHJpdGVzL3NvbGlkZXJTcHJpdGVzJztcbmltcG9ydCBjcmVhdGVXYXJyaW9yU3ByaXRlIGZyb20gJ34vc3ByaXRlcy93YXJyaW9yU3ByaXRlcyc7XG5pbXBvcnQgY3JlYXRlV2FycmlvckFzc2F1bHRTcHJpdGUgZnJvbSAnfi9zcHJpdGVzL3dhcnJpb3JBc3NhdWx0U3ByaXRlcyc7XG5pbXBvcnQgY3JlYXRlTXlTZWxlY3Rpb25TcHJpdGUgZnJvbSAnfi9zcHJpdGVzL215U2VsZWN0aW9uU3ByaXRlJztcbmltcG9ydCBTcXVhZCBmcm9tICcuL1NxdWFkJztcblxuXG5jb25zdCBVbml0c0ZhY3RvcnkgPSB7XG4gICAgaW5pemlhbGl6YXRpb25UeXBlcyhsYXllckdyb3VwOiBhbnkpOiBhbnkge1xuICAgICAgICBjb25zdCBnZXRTb2xpZGVyU3ByaXRlID0gY3JlYXRlU29saWRlclNwcml0ZSgpLFxuICAgICAgICAgICAgICBnZXRXYXJyaW9yU3ByaXRlID0gY3JlYXRlV2FycmlvclNwcml0ZSgpLFxuICAgICAgICAgICAgICBnZXRXYXJyaW9yQXNzYXVsdFNwcml0ZSA9IGNyZWF0ZVdhcnJpb3JBc3NhdWx0U3ByaXRlKCksXG4gICAgICAgICAgICAgIGdldE15U2VsZWN0aW9uID0gY3JlYXRlTXlTZWxlY3Rpb25TcHJpdGUoKTtcblxuICAgICAgICB0aGlzLmxheWVyR3JvdXAgPSBsYXllckdyb3VwO1xuICAgICAgICB0aGlzLnR5cGVzID0ge1xuICAgICAgICAgICAgJ1dBUlJJT1JfUkVHVUxBUic6IHtcbiAgICAgICAgICAgICAgICBjbGFzczogV2FycmlvcixcbiAgICAgICAgICAgICAgICBzcHJpdGVzOiBnZXRXYXJyaW9yU3ByaXRlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZ2V0TXlTZWxlY3Rpb25cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnU09MSURFUl9SRUdVTEFSJzoge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBTb2xpZGVyLFxuICAgICAgICAgICAgICAgIHNwcml0ZXM6IGdldFNvbGlkZXJTcHJpdGUsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBnZXRNeVNlbGVjdGlvblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdTT0xJREVSX0xBU0VSJzoge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBTb2xpZGVyLFxuICAgICAgICAgICAgICAgIHNwcml0ZXM6IGdldFNvbGlkZXJTcHJpdGUsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBnZXRNeVNlbGVjdGlvblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdXQVJSSU9SX0FTU0FVTFQnOiB7XG4gICAgICAgICAgICAgICAgY2xhc3M6IFdhcnJpb3JBc3NhdWx0LFxuICAgICAgICAgICAgICAgIHNwcml0ZXM6IGdldFdhcnJpb3JBc3NhdWx0U3ByaXRlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogZ2V0TXlTZWxlY3Rpb25cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNyZWF0ZVVuaXQocG9zOiBQb2ludCwgZmFjdGlvbjogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIHNxdWFkOiBTcXVhZCkge1xuICAgICAgICBcbiAgICAgICAgY29uc3Qga2luZCA9IHRoaXMudHlwZXNbdHlwZV07XG4gICAgICAgIHJldHVybiBuZXcga2luZC5jbGFzcyhcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRHcm91cDogdGhpcy5sYXllckdyb3VwLFxuICAgICAgICAgICAgICAgIHVuaXQ6IG5ldyBQSVhJLkNvbnRhaW5lcigpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjoga2luZC5zZWxlY3Rpb24oKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBraW5kLnNwcml0ZXMoKSxcbiAgICAgICAgICAgIHBvcyxcbiAgICAgICAgICAgIGZhY3Rpb24sXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgc3F1YWRcbiAgICAgICAgKTsgXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVbml0c0ZhY3Rvcnk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///204\n")},205:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar blockSize = 50;\nvar minHealthToCalc = 20;\nvar propagationFactor = 0.8;\nvar influenceController = {\n  rows: 0,\n  cols: 0,\n  blockSize: blockSize,\n  init: function init(widthMap, heightMap) {\n    this.rows = Math.floor(heightMap / blockSize);\n    this.cols = Math.floor(widthMap / blockSize);\n    this.graphics = new window.PIXI.Graphics();\n    this.graphics.alpha = 0.6;\n    window.app.stage.addChild(this.graphics);\n  },\n  propagation: function propagation(index, value, distance, result) {\n    //MAYBE INSTEAD OF THIS CALCULATION WE SHOULD PREPARE TEMPLATES\n    //IN WHICH VALUES WILL BE CALCULATED\n    //WITH NORMALIZED VALUE AND MULTILY LATER BY FACTOR\n    //OR tempalte with filled values\n    var range = distance / blockSize;\n    var indexColumn = index % this.cols;\n    var indexRow = Math.floor(index / this.cols);\n    var doubleRange = 2 * range;\n    var start = index - range * this.cols - range;\n\n    if (start < 0) {\n      if (start % this.cols >= -range) {\n        start = 0;\n      } else {\n        start = this.cols - -start % this.cols;\n      }\n    }\n\n    if (start % this.cols > this.cols - range - 1) {\n      start = (Math.floor(start / this.cols) + 1) * this.cols;\n    }\n\n    var max = range * 2;\n\n    if (indexColumn <= range) {\n      max -= range - indexColumn;\n    } else if (indexColumn >= this.cols - range) {\n      max -= range - (this.cols - indexColumn) + 1;\n    }\n\n    var end = index + range * this.cols + range;\n\n    if (end >= result.length) {\n      end = result.length - 1;\n    }\n\n    var nextLineAddress = this.cols - max - 1;\n\n    for (var i = start, mod = 0; i <= end; i++) {\n      // const propagationAxisX = (range - Math.abs( (i % this.cols) - (indexColumn) ) ) / range;\n      // const propagationAxisY = (range - Math.abs( Math.floor(i / this.cols) - indexRow )) / range;\n      // result[i].value = propagationAxisX * 0.5 + propagationAxisY * 0.5;\n      // const propagationAxisX = 1 - (Math.abs((i % this.cols) - indexColumn) / range);\n      // const propagationAxisY = 1 - (Math.abs( Math.floor(i / this.cols) - indexRow ) / range);\n      // result[i].value = propagationAxisX * 0.5 + propagationAxisY * 0.5;\n      var propagationAxisX = Math.abs(i % this.cols - indexColumn);\n      var propagationAxisY = Math.abs(Math.floor(i / this.cols) - indexRow);\n      result[i].value += (1 - (propagationAxisX + propagationAxisY) / doubleRange) * value;\n\n      if (mod++ === max) {\n        mod = 0;\n        i += nextLineAddress;\n      }\n    }\n  },\n  katrezianToIndex: function katrezianToIndex(y, x) {\n    return y * this.rows + x;\n  },\n  indexToKartezian: function indexToKartezian(idx) {\n    return {\n      x: idx % this.cols,\n      y: Math.floor(idx / this.cols)\n    };\n  },\n  createOneDimensionArr: function createOneDimensionArr() {\n    var result = [];\n\n    for (var i = 0; i < this.rows * this.cols; i++) {\n      result.push({\n        squads: [],\n        value: 0\n      });\n    }\n\n    return result;\n  },\n  getCell: function getCell(squad) {\n    return {\n      row: Math.floor(squad.center.x / blockSize),\n      col: Math.floor(squad.center.y / blockSize)\n    };\n  },\n  getCellIndex: function getCellIndex(point) {\n    return Math.floor(point.y / blockSize) * this.cols + Math.floor(point.x / blockSize);\n  },\n  getCellPos: function getCellPos(index) {\n    return {\n      x: index % this.cols * blockSize + blockSize / 2,\n      y: Math.floor(index / this.cols) * blockSize + blockSize / 2\n    };\n  },\n  calcMapsValues: function calcMapsValues(resPoints) {\n    var _this = this;\n\n    this.graphics.clear();\n    var maps = window.allSquads.map(function () {\n      return _this.createOneDimensionArr();\n    });\n    window.allSquads.map(function (faction, index) {\n      faction.map(function (squad) {\n        var cellIdx = _this.getCellIndex(squad.center);\n\n        _this.propagation(cellIdx, squad.fluentValue, squad.weaponRange, maps[index]);\n\n        if (!maps[index][cellIdx]) debugger;\n        maps[index][cellIdx].squads.push(squad);\n      });\n    });\n    resPoints.map(function (point) {\n      if (point.owner !== -1) {\n        var pointIdx = _this.getCellIndex(point);\n\n        _this.propagation(pointIdx, 500, 100, maps[point.owner]);\n      }\n    }); // this.drawMap(maps[0]);\n    // return maps;\n    // let max = 1;\n    // for(let i = 0; i < this.rows; i++) {\n    //     for(let j = 0; j < this.cols; j++) {\n    //         if(max < Math.abs(ourInfluent[i][j])) {//but it can be bigger number after sum\n    //             max = Math.abs(ourInfluent[i][j]);\n    //         }\n    //         if(max < Math.abs(enemyInfluent[i][j])) {//but it can be bigger number after sum\n    //             max = Math.abs(enemyInfluent[i][j]);\n    //         }\n    //     }\n    // }\n    // SUMMARY and NORMALIZATION\n    // for(let f = 0; f < maps.length; f++) {\n    //     const map = maps[f];\n    //     for(let i = 0; i < this.rows; i++) {\n    //         for(let j = 0; j < this.cols; j++) {\n    //             // this.map[i][j] = (ourInfluent[i][j] - enemyInfluent[i][j])/ max;\n    //             const value: number = map[i][j].value/1000;\n    //             const color: number = f === 0 ? 0xFF0000 : f === 1 ? 0x00FF00 : 0x0000FF;\n    //             this.graphics.beginFill(color, Math.abs(value) * 0.7);\n    //             this.graphics.drawRect(i * blockSize, j * blockSize, blockSize, blockSize);\n    //         }\n    //     } \n    // }\n\n    return maps;\n  },\n  drawMap: function drawMap(map) {\n    for (var i = 0; i < map.length; i++) {\n      var value = map[i].value;\n      var color = value > 0 ? 0x00FF00 : 0xFF0000;\n      var point = this.indexToKartezian(i);\n      this.graphics.beginFill(color, Math.abs(value) / 600 * 0.5);\n      this.graphics.drawRect(point.x * blockSize, point.y * blockSize, blockSize, blockSize);\n    }\n  },\n  deepCopyMap: function deepCopyMap(map) {\n    //maybe better create a few big maps, hat all the tiem creating and destroying arrays\n    return this.createOneDimensionArr().map(function (cell, index) {\n      return {\n        squads: _toConsumableArray(map[index].squads),\n        value: map[index].value\n      };\n    });\n  }\n};\nvar _default = influenceController;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWkvaW5mbHVlbmNlTWFwLnRzP2E0YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTSxTQUFTLEdBQUcsRUFBbEI7QUFDQSxJQUFNLGVBQWUsR0FBRyxFQUF4QjtBQUNBLElBQU0saUJBQWlCLEdBQUcsR0FBMUI7QUE4QkEsSUFBTSxtQkFBbUIsR0FBeUI7QUFDOUMsTUFBSSxFQUFFLENBRHdDO0FBRTlDLE1BQUksRUFBRSxDQUZ3QztBQUc5QyxXQUFTLEVBQUUsU0FIbUM7QUFLOUMsTUFMOEMsZ0JBS3pDLFFBTHlDLEVBSy9CLFNBTCtCLEVBS3RCO0FBQ3BCLFNBQUssSUFBTCxHQUFZLElBQUksQ0FBQyxLQUFMLENBQVcsU0FBUyxHQUFHLFNBQXZCLENBQVo7QUFDQSxTQUFLLElBQUwsR0FBWSxJQUFJLENBQUMsS0FBTCxDQUFXLFFBQVEsR0FBRyxTQUF0QixDQUFaO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLElBQUksTUFBTSxDQUFDLElBQVAsQ0FBWSxRQUFoQixFQUFoQjtBQUNBLFNBQUssUUFBTCxDQUFjLEtBQWQsR0FBc0IsR0FBdEI7QUFDQSxVQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsUUFBakIsQ0FBMEIsS0FBSyxRQUEvQjtBQUNILEdBWDZDO0FBYTlDLGFBYjhDLHVCQWFsQyxLQWJrQyxFQWEzQixLQWIyQixFQWFwQixRQWJvQixFQWFWLE1BYlUsRUFhSjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUVBLFFBQU0sS0FBSyxHQUFHLFFBQVEsR0FBRyxTQUF6QjtBQUNBLFFBQU0sV0FBVyxHQUFHLEtBQUssR0FBRyxLQUFLLElBQWpDO0FBQ0EsUUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFLLEdBQUcsS0FBSyxJQUF4QixDQUFqQjtBQUNBLFFBQU0sV0FBVyxHQUFHLElBQUksS0FBeEI7QUFHQSxRQUFJLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssSUFBckIsR0FBNEIsS0FBeEM7O0FBQ0EsUUFBRyxLQUFLLEdBQUcsQ0FBWCxFQUFjO0FBQ1YsVUFBSSxLQUFLLEdBQUcsS0FBSyxJQUFkLElBQXVCLENBQUMsS0FBM0IsRUFBa0M7QUFDOUIsYUFBSyxHQUFHLENBQVI7QUFDSCxPQUZELE1BRU87QUFDSCxhQUFLLEdBQUcsS0FBSyxJQUFMLEdBQWEsQ0FBQyxLQUFGLEdBQVcsS0FBSyxJQUFwQztBQUNIO0FBQ0o7O0FBRUQsUUFBRyxLQUFLLEdBQUcsS0FBSyxJQUFiLEdBQW9CLEtBQUssSUFBTCxHQUFZLEtBQVosR0FBb0IsQ0FBM0MsRUFBOEM7QUFDMUMsV0FBSyxHQUFJLENBQUMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFLLEdBQUcsS0FBSyxJQUF4QixJQUFpQyxDQUFsQyxJQUF1QyxLQUFLLElBQXJEO0FBQ0g7O0FBRUQsUUFBSSxHQUFHLEdBQUcsS0FBSyxHQUFHLENBQWxCOztBQUNBLFFBQUcsV0FBVyxJQUFJLEtBQWxCLEVBQXlCO0FBQ3JCLFNBQUcsSUFBSSxLQUFLLEdBQUcsV0FBZjtBQUNILEtBRkQsTUFFTyxJQUFHLFdBQVcsSUFBSSxLQUFLLElBQUwsR0FBWSxLQUE5QixFQUFxQztBQUN4QyxTQUFHLElBQUksS0FBSyxJQUFJLEtBQUssSUFBTCxHQUFZLFdBQWhCLENBQUwsR0FBb0MsQ0FBM0M7QUFDSDs7QUFFRCxRQUFJLEdBQUcsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssSUFBckIsR0FBNEIsS0FBdEM7O0FBQ0EsUUFBRyxHQUFHLElBQUksTUFBTSxDQUFDLE1BQWpCLEVBQXlCO0FBQ3JCLFNBQUcsR0FBRyxNQUFNLENBQUMsTUFBUCxHQUFnQixDQUF0QjtBQUNIOztBQUVELFFBQU0sZUFBZSxHQUFHLEtBQUssSUFBTCxHQUFZLEdBQVosR0FBa0IsQ0FBMUM7O0FBQ0EsU0FBSSxJQUFJLENBQUMsR0FBRyxLQUFSLEVBQWUsR0FBRyxHQUFHLENBQXpCLEVBQTRCLENBQUMsSUFBSSxHQUFqQyxFQUFzQyxDQUFDLEVBQXZDLEVBQTJDO0FBRXZDO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBLFVBQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBVSxDQUFDLEdBQUcsS0FBSyxJQUFWLEdBQWtCLFdBQTNCLENBQXpCO0FBQ0EsVUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBTCxDQUFTLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxHQUFHLEtBQUssSUFBcEIsSUFBNEIsUUFBckMsQ0FBekI7QUFDQSxZQUFNLENBQUMsQ0FBRCxDQUFOLENBQVUsS0FBVixJQUFtQixDQUFDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBcEIsSUFBd0MsV0FBN0MsSUFBNEQsS0FBL0U7O0FBRUEsVUFBRyxHQUFHLE9BQU8sR0FBYixFQUFrQjtBQUNkLFdBQUcsR0FBRyxDQUFOO0FBQ0EsU0FBQyxJQUFJLGVBQUw7QUFDSDtBQUNKO0FBQ0osR0F0RTZDO0FBd0U5QyxrQkF4RThDLDRCQXdFN0IsQ0F4RTZCLEVBd0UxQixDQXhFMEIsRUF3RXpCO0FBQ2pCLFdBQU8sQ0FBQyxHQUFHLEtBQUssSUFBVCxHQUFnQixDQUF2QjtBQUNILEdBMUU2QztBQTRFOUMsa0JBNUU4Qyw0QkE0RTdCLEdBNUU2QixFQTRFMUI7QUFDaEIsV0FBTztBQUNILE9BQUMsRUFBRSxHQUFHLEdBQUcsS0FBSyxJQURYO0FBRUgsT0FBQyxFQUFFLElBQUksQ0FBQyxLQUFMLENBQVcsR0FBRyxHQUFHLEtBQUssSUFBdEI7QUFGQSxLQUFQO0FBSUgsR0FqRjZDO0FBbUY5Qyx1QkFuRjhDLG1DQW1GekI7QUFDakIsUUFBTSxNQUFNLEdBQWMsRUFBMUI7O0FBQ0EsU0FBSSxJQUFJLENBQUMsR0FBRyxDQUFaLEVBQWUsQ0FBQyxHQUFHLEtBQUssSUFBTCxHQUFZLEtBQUssSUFBcEMsRUFBMEMsQ0FBQyxFQUEzQyxFQUErQztBQUMzQyxZQUFNLENBQUMsSUFBUCxDQUFZO0FBQUUsY0FBTSxFQUFFLEVBQVY7QUFBYyxhQUFLLEVBQUU7QUFBckIsT0FBWjtBQUNIOztBQUNELFdBQU8sTUFBUDtBQUNILEdBekY2QztBQTJGOUMsU0EzRjhDLG1CQTJGdEMsS0EzRnNDLEVBMkZqQztBQUNULFdBQU87QUFDSCxTQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFLLENBQUMsTUFBTixDQUFhLENBQWIsR0FBaUIsU0FBNUIsQ0FERjtBQUVILFNBQUcsRUFBRSxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssQ0FBQyxNQUFOLENBQWEsQ0FBYixHQUFpQixTQUE1QjtBQUZGLEtBQVA7QUFJSCxHQWhHNkM7QUFrRzlDLGNBbEc4Qyx3QkFrR2pDLEtBbEdpQyxFQWtHckI7QUFDckIsV0FBTyxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssQ0FBQyxDQUFOLEdBQVUsU0FBckIsSUFBa0MsS0FBSyxJQUF2QyxHQUE4QyxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssQ0FBQyxDQUFOLEdBQVUsU0FBckIsQ0FBckQ7QUFDSCxHQXBHNkM7QUFzRzlDLFlBdEc4QyxzQkFzR25DLEtBdEdtQyxFQXNHdEI7QUFDcEIsV0FBTztBQUNILE9BQUMsRUFBRSxLQUFLLEdBQUcsS0FBSyxJQUFiLEdBQW9CLFNBQXBCLEdBQWdDLFNBQVMsR0FBRyxDQUQ1QztBQUVILE9BQUMsRUFBRSxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssR0FBRyxLQUFLLElBQXhCLElBQWdDLFNBQWhDLEdBQTRDLFNBQVMsR0FBRztBQUZ4RCxLQUFQO0FBSUgsR0EzRzZDO0FBNkc5QyxnQkE3RzhDLDBCQTZHL0IsU0E3RytCLEVBNkd0QjtBQUFBOztBQUNwQixTQUFLLFFBQUwsQ0FBYyxLQUFkO0FBQ0EsUUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsR0FBakIsQ0FBcUI7QUFBQSxhQUFNLEtBQUksQ0FBQyxxQkFBTCxFQUFOO0FBQUEsS0FBckIsQ0FBYjtBQUNBLFVBQU0sQ0FBQyxTQUFQLENBQWlCLEdBQWpCLENBQXFCLFVBQUMsT0FBRCxFQUFVLEtBQVYsRUFBbUI7QUFDcEMsYUFBTyxDQUFDLEdBQVIsQ0FBWSxlQUFLLEVBQUc7QUFDaEIsWUFBTSxPQUFPLEdBQUcsS0FBSSxDQUFDLFlBQUwsQ0FBa0IsS0FBSyxDQUFDLE1BQXhCLENBQWhCOztBQUNBLGFBQUksQ0FBQyxXQUFMLENBQWlCLE9BQWpCLEVBQTBCLEtBQUssQ0FBQyxXQUFoQyxFQUE2QyxLQUFLLENBQUMsV0FBbkQsRUFBZ0UsSUFBSSxDQUFDLEtBQUQsQ0FBcEU7O0FBQ0EsWUFBRyxDQUFDLElBQUksQ0FBQyxLQUFELENBQUosQ0FBWSxPQUFaLENBQUosRUFBMEI7QUFDMUIsWUFBSSxDQUFDLEtBQUQsQ0FBSixDQUFZLE9BQVosRUFBcUIsTUFBckIsQ0FBNEIsSUFBNUIsQ0FBaUMsS0FBakM7QUFDSCxPQUxEO0FBTUgsS0FQRDtBQVNBLGFBQVMsQ0FBQyxHQUFWLENBQWMsZUFBSyxFQUFHO0FBQ2xCLFVBQUcsS0FBSyxDQUFDLEtBQU4sS0FBZ0IsQ0FBQyxDQUFwQixFQUF1QjtBQUNuQixZQUFNLFFBQVEsR0FBRyxLQUFJLENBQUMsWUFBTCxDQUFrQixLQUFsQixDQUFqQjs7QUFDQSxhQUFJLENBQUMsV0FBTCxDQUFpQixRQUFqQixFQUEyQixHQUEzQixFQUFnQyxHQUFoQyxFQUFxQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQVAsQ0FBekM7QUFDSDtBQUNKLEtBTEQsRUFab0IsQ0FxQnBCO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsV0FBTyxJQUFQO0FBQ0gsR0FuSzZDO0FBcUs5QyxTQXJLOEMsbUJBcUt0QyxHQXJLc0MsRUFxS3hCO0FBQ2xCLFNBQUksSUFBSSxDQUFDLEdBQUcsQ0FBWixFQUFlLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBdkIsRUFBK0IsQ0FBQyxFQUFoQyxFQUFvQztBQUNoQyxVQUFNLEtBQUssR0FBVyxHQUFHLENBQUMsQ0FBRCxDQUFILENBQU8sS0FBN0I7QUFDQSxVQUFNLEtBQUssR0FBVyxLQUFLLEdBQUcsQ0FBUixHQUFZLFFBQVosR0FBdUIsUUFBN0M7QUFDQSxVQUFNLEtBQUssR0FBRyxLQUFLLGdCQUFMLENBQXNCLENBQXRCLENBQWQ7QUFDQSxXQUFLLFFBQUwsQ0FBYyxTQUFkLENBQXdCLEtBQXhCLEVBQStCLElBQUksQ0FBQyxHQUFMLENBQVMsS0FBVCxJQUFrQixHQUFsQixHQUF3QixHQUF2RDtBQUNBLFdBQUssUUFBTCxDQUFjLFFBQWQsQ0FBdUIsS0FBSyxDQUFDLENBQU4sR0FBVSxTQUFqQyxFQUE0QyxLQUFLLENBQUMsQ0FBTixHQUFVLFNBQXRELEVBQWlFLFNBQWpFLEVBQTRFLFNBQTVFO0FBQ0g7QUFDSixHQTdLNkM7QUErSzlDLGFBL0s4Qyx1QkErS2xDLEdBL0trQyxFQStLcEI7QUFDdEI7QUFDQSxXQUFPLEtBQUsscUJBQUwsR0FBNkIsR0FBN0IsQ0FBaUMsVUFBQyxJQUFELEVBQU8sS0FBUDtBQUFBLGFBQWtCO0FBQ2xELGNBQU0scUJBQU0sR0FBRyxDQUFDLEtBQUQsQ0FBSCxDQUFXLE1BQWpCLENBRDRDO0FBRWxELGFBQUssRUFBRSxHQUFHLENBQUMsS0FBRCxDQUFILENBQVc7QUFGZ0MsT0FBbEI7QUFBQSxLQUFqQyxDQUFQO0FBS0g7QUF0TDZDLENBQWxEO2VBMExlLG1CIiwiZmlsZSI6IjIwNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTcXVhZCBmcm9tICd+L3VuaXRzL1NxdWFkJztcblxuY29uc3QgYmxvY2tTaXplID0gNTA7XG5jb25zdCBtaW5IZWFsdGhUb0NhbGMgPSAyMDtcbmNvbnN0IHByb3BhZ2F0aW9uRmFjdG9yID0gMC44O1xuXG5leHBvcnQgaW50ZXJmYWNlIG1hcFVuaXQge1xuICAgIHNxdWFkczogU3F1YWRbXVxuICAgIHZhbHVlOiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIElDZWxsIHtcbiAgICByb3c6IG51bWJlclxuICAgIGNvbDogbnVtYmVyXG59XG5cbmludGVyZmFjZSBJaW5mbHVlbmNlQ29udHJvbGxlciB7XG4gICAgYmxvY2tTaXplOiBudW1iZXJcbiAgICByb3dzOiBudW1iZXJcbiAgICBjb2xzOiBudW1iZXJcbiAgICBpbml0OiAod2lkdGhNYXA6IG51bWJlciwgaGVpZ2h0TWFwOiBudW1iZXIpID0+IHZvaWRcbiAgICBwcm9wYWdhdGlvbihpbmRleDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyLCBkaXN0bmFjZTogbnVtYmVyLCByZXN1bHQ6IG1hcFVuaXRbXSk6IHZvaWRcbiAgICBjYWxjTWFwc1ZhbHVlczogKHJlc1BvaW50czogYW55W10pID0+IG1hcFVuaXRbXVtdXG4gICAgZGVlcENvcHlNYXA6IChtYXA6IG1hcFVuaXRbXSkgPT4gbWFwVW5pdFtdXG4gICAgY3JlYXRlT25lRGltZW5zaW9uQXJyOiAoKSA9PiBtYXBVbml0W11cbiAgICBkcmF3TWFwOiAobWFwOiBtYXBVbml0W10pID0+IHZvaWRcbiAgICBnZXRDZWxsOiAoc3F1YWQ6IFNxdWFkKSA9PiBJQ2VsbFxuICAgIGdldENlbGxJbmRleDogKHBvaW50OiBQb2ludCkgPT4gbnVtYmVyXG4gICAga2F0cmV6aWFuVG9JbmRleDogKHk6IG51bWJlciwgeDogbnVtYmVyKSA9PiBudW1iZXJcbiAgICBpbmRleFRvS2FydGV6aWFuOiAoaWR4OiBudW1iZXIpID0+IFBvaW50XG4gICAgZ2V0Q2VsbFBvczogKGluZGV4OiBudW1iZXIpID0+IFBvaW50XG59XG5cblxuY29uc3QgaW5mbHVlbmNlQ29udHJvbGxlcjogSWluZmx1ZW5jZUNvbnRyb2xsZXIgPSB7XG4gICAgcm93czogMCxcbiAgICBjb2xzOiAwLFxuICAgIGJsb2NrU2l6ZTogYmxvY2tTaXplLFxuXG4gICAgaW5pdCh3aWR0aE1hcCwgaGVpZ2h0TWFwKSB7XG4gICAgICAgIHRoaXMucm93cyA9IE1hdGguZmxvb3IoaGVpZ2h0TWFwIC8gYmxvY2tTaXplKTtcbiAgICAgICAgdGhpcy5jb2xzID0gTWF0aC5mbG9vcih3aWR0aE1hcCAvIGJsb2NrU2l6ZSk7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3MgPSBuZXcgd2luZG93LlBJWEkuR3JhcGhpY3MoKTtcbiAgICAgICAgdGhpcy5ncmFwaGljcy5hbHBoYSA9IDAuNjtcbiAgICAgICAgd2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmdyYXBoaWNzKTtcbiAgICB9LFxuXG4gICAgcHJvcGFnYXRpb24oaW5kZXgsIHZhbHVlLCBkaXN0YW5jZSwgcmVzdWx0KSB7XG4gICAgICAgIC8vTUFZQkUgSU5TVEVBRCBPRiBUSElTIENBTENVTEFUSU9OIFdFIFNIT1VMRCBQUkVQQVJFIFRFTVBMQVRFU1xuICAgICAgICAvL0lOIFdISUNIIFZBTFVFUyBXSUxMIEJFIENBTENVTEFURURcbiAgICAgICAgLy9XSVRIIE5PUk1BTElaRUQgVkFMVUUgQU5EIE1VTFRJTFkgTEFURVIgQlkgRkFDVE9SXG4gICAgICAgIC8vT1IgdGVtcGFsdGUgd2l0aCBmaWxsZWQgdmFsdWVzXG5cbiAgICAgICAgY29uc3QgcmFuZ2UgPSBkaXN0YW5jZSAvIGJsb2NrU2l6ZTtcbiAgICAgICAgY29uc3QgaW5kZXhDb2x1bW4gPSBpbmRleCAlIHRoaXMuY29scztcbiAgICAgICAgY29uc3QgaW5kZXhSb3cgPSBNYXRoLmZsb29yKGluZGV4IC8gdGhpcy5jb2xzKTtcbiAgICAgICAgY29uc3QgZG91YmxlUmFuZ2UgPSAyICogcmFuZ2U7XG4gICAgICAgIFxuXG4gICAgICAgIGxldCBzdGFydCA9IGluZGV4IC0gcmFuZ2UgKiB0aGlzLmNvbHMgLSByYW5nZTtcbiAgICAgICAgaWYoc3RhcnQgPCAwKSB7XG4gICAgICAgICAgICBpZigoc3RhcnQgJSB0aGlzLmNvbHMpID49IC1yYW5nZSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLmNvbHMgLSAoLXN0YXJ0KSAlIHRoaXMuY29scztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHN0YXJ0ICUgdGhpcy5jb2xzID4gdGhpcy5jb2xzIC0gcmFuZ2UgLSAxKSB7XG4gICAgICAgICAgICBzdGFydCAgPSAoTWF0aC5mbG9vcihzdGFydCAvIHRoaXMuY29scyApICsgMSkgKiB0aGlzLmNvbHM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF4ID0gcmFuZ2UgKiAyO1xuICAgICAgICBpZihpbmRleENvbHVtbiA8PSByYW5nZSkge1xuICAgICAgICAgICAgbWF4IC09IHJhbmdlIC0gaW5kZXhDb2x1bW47XG4gICAgICAgIH0gZWxzZSBpZihpbmRleENvbHVtbiA+PSB0aGlzLmNvbHMgLSByYW5nZSkge1xuICAgICAgICAgICAgbWF4IC09IHJhbmdlIC0gKHRoaXMuY29scyAtIGluZGV4Q29sdW1uKSArIDE7ICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxldCBlbmQgPSBpbmRleCArIHJhbmdlICogdGhpcy5jb2xzICsgcmFuZ2U7ICAgICAgICBcbiAgICAgICAgaWYoZW5kID49IHJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGVuZCA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbmV4dExpbmVBZGRyZXNzID0gdGhpcy5jb2xzIC0gbWF4IC0gMTtcbiAgICAgICAgZm9yKGxldCBpID0gc3RhcnQsIG1vZCA9IDA7IGkgPD0gZW5kOyBpKyspIHtcblxuICAgICAgICAgICAgLy8gY29uc3QgcHJvcGFnYXRpb25BeGlzWCA9IChyYW5nZSAtIE1hdGguYWJzKCAoaSAlIHRoaXMuY29scykgLSAoaW5kZXhDb2x1bW4pICkgKSAvIHJhbmdlO1xuICAgICAgICAgICAgLy8gY29uc3QgcHJvcGFnYXRpb25BeGlzWSA9IChyYW5nZSAtIE1hdGguYWJzKCBNYXRoLmZsb29yKGkgLyB0aGlzLmNvbHMpIC0gaW5kZXhSb3cgKSkgLyByYW5nZTtcbiAgICAgICAgICAgIC8vIHJlc3VsdFtpXS52YWx1ZSA9IHByb3BhZ2F0aW9uQXhpc1ggKiAwLjUgKyBwcm9wYWdhdGlvbkF4aXNZICogMC41O1xuXG4gICAgICAgICAgICAvLyBjb25zdCBwcm9wYWdhdGlvbkF4aXNYID0gMSAtIChNYXRoLmFicygoaSAlIHRoaXMuY29scykgLSBpbmRleENvbHVtbikgLyByYW5nZSk7XG4gICAgICAgICAgICAvLyBjb25zdCBwcm9wYWdhdGlvbkF4aXNZID0gMSAtIChNYXRoLmFicyggTWF0aC5mbG9vcihpIC8gdGhpcy5jb2xzKSAtIGluZGV4Um93ICkgLyByYW5nZSk7XG4gICAgICAgICAgICAvLyByZXN1bHRbaV0udmFsdWUgPSBwcm9wYWdhdGlvbkF4aXNYICogMC41ICsgcHJvcGFnYXRpb25BeGlzWSAqIDAuNTtcblxuICAgICAgICAgICAgY29uc3QgcHJvcGFnYXRpb25BeGlzWCA9IE1hdGguYWJzKChpICUgdGhpcy5jb2xzKSAtIGluZGV4Q29sdW1uKTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BhZ2F0aW9uQXhpc1kgPSBNYXRoLmFicyhNYXRoLmZsb29yKGkgLyB0aGlzLmNvbHMpIC0gaW5kZXhSb3cpO1xuICAgICAgICAgICAgcmVzdWx0W2ldLnZhbHVlICs9ICgxIC0gKHByb3BhZ2F0aW9uQXhpc1ggKyBwcm9wYWdhdGlvbkF4aXNZKSAvIGRvdWJsZVJhbmdlKSAqIHZhbHVlO1xuXG4gICAgICAgICAgICBpZihtb2QrKyA9PT0gbWF4KSB7XG4gICAgICAgICAgICAgICAgbW9kID0gMDtcbiAgICAgICAgICAgICAgICBpICs9IG5leHRMaW5lQWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBrYXRyZXppYW5Ub0luZGV4KHksIHgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4geSAqIHRoaXMucm93cyArIHg7XG4gICAgfSxcblxuICAgIGluZGV4VG9LYXJ0ZXppYW4oaWR4KTogUG9pbnQge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogaWR4ICUgdGhpcy5jb2xzLFxuICAgICAgICAgICAgeTogTWF0aC5mbG9vcihpZHggLyB0aGlzLmNvbHMpXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY3JlYXRlT25lRGltZW5zaW9uQXJyKCk6IG1hcFVuaXRbXSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdDogbWFwVW5pdFtdID0gW107XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnJvd3MgKiB0aGlzLmNvbHM7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBzcXVhZHM6IFtdLCB2YWx1ZTogMCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICBnZXRDZWxsKHNxdWFkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3c6IE1hdGguZmxvb3Ioc3F1YWQuY2VudGVyLnggLyBibG9ja1NpemUpLFxuICAgICAgICAgICAgY29sOiBNYXRoLmZsb29yKHNxdWFkLmNlbnRlci55IC8gYmxvY2tTaXplKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldENlbGxJbmRleChwb2ludDogUG9pbnQpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihwb2ludC55IC8gYmxvY2tTaXplKSAqIHRoaXMuY29scyArIE1hdGguZmxvb3IocG9pbnQueCAvIGJsb2NrU2l6ZSk7XG4gICAgfSxcblxuICAgIGdldENlbGxQb3MoaW5kZXg6IG51bWJlcik6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGluZGV4ICUgdGhpcy5jb2xzICogYmxvY2tTaXplICsgYmxvY2tTaXplIC8gMixcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoaW5kZXggLyB0aGlzLmNvbHMpICogYmxvY2tTaXplICsgYmxvY2tTaXplIC8gMlxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNhbGNNYXBzVmFsdWVzKHJlc1BvaW50cykgeyAgICAgIFxuICAgICAgICB0aGlzLmdyYXBoaWNzLmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IG1hcHMgPSB3aW5kb3cuYWxsU3F1YWRzLm1hcCgoKSA9PiB0aGlzLmNyZWF0ZU9uZURpbWVuc2lvbkFycigpKTtcbiAgICAgICAgd2luZG93LmFsbFNxdWFkcy5tYXAoKGZhY3Rpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBmYWN0aW9uLm1hcChzcXVhZCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbElkeCA9IHRoaXMuZ2V0Q2VsbEluZGV4KHNxdWFkLmNlbnRlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGlvbihjZWxsSWR4LCBzcXVhZC5mbHVlbnRWYWx1ZSwgc3F1YWQud2VhcG9uUmFuZ2UsIG1hcHNbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICBpZighbWFwc1tpbmRleF1bY2VsbElkeF0pIGRlYnVnZ2VyO1xuICAgICAgICAgICAgICAgIG1hcHNbaW5kZXhdW2NlbGxJZHhdLnNxdWFkcy5wdXNoKHNxdWFkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXNQb2ludHMubWFwKHBvaW50ID0+IHtcbiAgICAgICAgICAgIGlmKHBvaW50Lm93bmVyICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50SWR4ID0gdGhpcy5nZXRDZWxsSW5kZXgocG9pbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRpb24ocG9pbnRJZHgsIDUwMCwgMTAwLCBtYXBzW3BvaW50Lm93bmVyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cblxuXG4gICAgICAgIC8vIHRoaXMuZHJhd01hcChtYXBzWzBdKTtcblxuXG4gICAgICAgIC8vIHJldHVybiBtYXBzO1xuXG4gICAgICAgIC8vIGxldCBtYXggPSAxO1xuXG4gICAgICAgIC8vIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnJvd3M7IGkrKykge1xuICAgICAgICAvLyAgICAgZm9yKGxldCBqID0gMDsgaiA8IHRoaXMuY29sczsgaisrKSB7XG4gICAgICAgIC8vICAgICAgICAgaWYobWF4IDwgTWF0aC5hYnMob3VySW5mbHVlbnRbaV1bal0pKSB7Ly9idXQgaXQgY2FuIGJlIGJpZ2dlciBudW1iZXIgYWZ0ZXIgc3VtXG4gICAgICAgIC8vICAgICAgICAgICAgIG1heCA9IE1hdGguYWJzKG91ckluZmx1ZW50W2ldW2pdKTtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgLy8gICAgICAgICBpZihtYXggPCBNYXRoLmFicyhlbmVteUluZmx1ZW50W2ldW2pdKSkgey8vYnV0IGl0IGNhbiBiZSBiaWdnZXIgbnVtYmVyIGFmdGVyIHN1bVxuICAgICAgICAvLyAgICAgICAgICAgICBtYXggPSBNYXRoLmFicyhlbmVteUluZmx1ZW50W2ldW2pdKTtcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNVTU1BUlkgYW5kIE5PUk1BTElaQVRJT05cbiAgICAgICAgLy8gZm9yKGxldCBmID0gMDsgZiA8IG1hcHMubGVuZ3RoOyBmKyspIHtcbiAgICAgICAgLy8gICAgIGNvbnN0IG1hcCA9IG1hcHNbZl07XG4gICAgICAgIC8vICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5yb3dzOyBpKyspIHtcbiAgICAgICAgLy8gICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdGhpcy5jb2xzOyBqKyspIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgLy8gdGhpcy5tYXBbaV1bal0gPSAob3VySW5mbHVlbnRbaV1bal0gLSBlbmVteUluZmx1ZW50W2ldW2pdKS8gbWF4O1xuICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCB2YWx1ZTogbnVtYmVyID0gbWFwW2ldW2pdLnZhbHVlLzEwMDA7XG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IGNvbG9yOiBudW1iZXIgPSBmID09PSAwID8gMHhGRjAwMDAgOiBmID09PSAxID8gMHgwMEZGMDAgOiAweDAwMDBGRjtcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5iZWdpbkZpbGwoY29sb3IsIE1hdGguYWJzKHZhbHVlKSAqIDAuNyk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuZHJhd1JlY3QoaSAqIGJsb2NrU2l6ZSwgaiAqIGJsb2NrU2l6ZSwgYmxvY2tTaXplLCBibG9ja1NpemUpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgIH0gXG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIG1hcHM7XG4gICAgfSxcblxuICAgIGRyYXdNYXAobWFwOiBtYXBVbml0W10pIHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWU6IG51bWJlciA9IG1hcFtpXS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yOiBudW1iZXIgPSB2YWx1ZSA+IDAgPyAweDAwRkYwMCA6IDB4RkYwMDAwO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLmluZGV4VG9LYXJ0ZXppYW4oaSk7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmJlZ2luRmlsbChjb2xvciwgTWF0aC5hYnModmFsdWUpIC8gNjAwICogMC41KTtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuZHJhd1JlY3QocG9pbnQueCAqIGJsb2NrU2l6ZSwgcG9pbnQueSAqIGJsb2NrU2l6ZSwgYmxvY2tTaXplLCBibG9ja1NpemUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRlZXBDb3B5TWFwKG1hcDogbWFwVW5pdFtdKTogbWFwVW5pdFtdIHtcbiAgICAgICAgLy9tYXliZSBiZXR0ZXIgY3JlYXRlIGEgZmV3IGJpZyBtYXBzLCBoYXQgYWxsIHRoZSB0aWVtIGNyZWF0aW5nIGFuZCBkZXN0cm95aW5nIGFycmF5c1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVPbmVEaW1lbnNpb25BcnIoKS5tYXAoKGNlbGwsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgICAgIHNxdWFkczogWy4uLm1hcFtpbmRleF0uc3F1YWRzXSwvL3dlIG5lZWQgY29weT8gbWF5YmUgc2ltcGxlIHJlZmVyZW5jZT9cbiAgICAgICAgICAgICAgICB2YWx1ZTogbWFwW2luZGV4XS52YWx1ZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGluZmx1ZW5jZUNvbnRyb2xsZXI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///205\n')},206:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  'WARRIOR_REGULAR': {\n    size: 6,\n    fluent: 1\n  },\n  'SOLIDER_REGULAR': {\n    size: 6,\n    fluent: 1\n  },\n  'SOLIDER_LASER': {\n    size: 6,\n    fluent: 1\n  },\n  'WARRIOR_ASSAULT': {\n    size: 5,\n    fluent: 1.5\n  }\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvU3F1YWRUeXBlcy50cz8zMWRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0FBQ1gscUJBQW1CO0FBQ2YsUUFBSSxFQUFFLENBRFM7QUFFZixVQUFNLEVBQUU7QUFGTyxHQURSO0FBS1gscUJBQW1CO0FBQ2YsUUFBSSxFQUFFLENBRFM7QUFFZixVQUFNLEVBQUU7QUFGTyxHQUxSO0FBU1gsbUJBQWlCO0FBQ2IsUUFBSSxFQUFFLENBRE87QUFFYixVQUFNLEVBQUU7QUFGSyxHQVROO0FBYVgscUJBQW1CO0FBQ2YsUUFBSSxFQUFFLENBRFM7QUFFZixVQUFNLEVBQUU7QUFGTztBQWJSLEMiLCJmaWxlIjoiMjA2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAgICdXQVJSSU9SX1JFR1VMQVInOiB7XG4gICAgICAgIHNpemU6IDYsXG4gICAgICAgIGZsdWVudDogMVxuICAgIH0sXG4gICAgJ1NPTElERVJfUkVHVUxBUic6IHtcbiAgICAgICAgc2l6ZTogNixcbiAgICAgICAgZmx1ZW50OiAxXG4gICAgfSxcbiAgICAnU09MSURFUl9MQVNFUic6IHtcbiAgICAgICAgc2l6ZTogNixcbiAgICAgICAgZmx1ZW50OiAxXG4gICAgfSxcbiAgICAnV0FSUklPUl9BU1NBVUxUJzoge1xuICAgICAgICBzaXplOiA1LFxuICAgICAgICBmbHVlbnQ6IDEuNVxuICAgIH0sXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///206\n")},207:function(Q,F,B){"use strict";var U=B.w[Q.i];for(var s in B.r(F),U)"__webpack_init__"!=s&&(F[s]=U[s]);U.__webpack_init__()},209:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _throttle = _interopRequireDefault(__webpack_require__(210));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _setDestination = _interopRequireDefault(__webpack_require__(199));\n\nvar _setAbilitie = _interopRequireDefault(__webpack_require__(203));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nvar _icons = _interopRequireDefault(__webpack_require__(200));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nvar MOUSE_LEFT_BUTTON = 1;\nvar MOUSE_RIGHT_BUTTON = 3;\nvar MOUSE_CLICK_TOLERANCE = 20;\nvar USER_FACTION = 0;\n\nvar getUserUnits = function getUserUnits() {\n  return window.allSquads[USER_FACTION].reduce(function (result, squad) {\n    return result.concat(squad.members);\n  }, []);\n};\n\nvar getEnemyUnits = function getEnemyUnits() {\n  return window.allSquads.reduce(function (result, factionSquads, index) {\n    if (index === USER_FACTION) {\n      return result;\n    }\n\n    var allFactionUnits = factionSquads.reduce(function (result, squad) {\n      return result.concat(squad.members);\n    }, []);\n    return result.concat(allFactionUnits);\n  }, []);\n};\n\nvar _default = function () {\n  var ViewPoint = {\n    x: 1800,\n    y: 0\n  };\n\n  var init = function init() {\n    window.app.view.addEventListener(\'mousemove\', startSelect);\n    window.app.view.addEventListener(\'mousedown\', mouseDown);\n    window.app.stage.x = -ViewPoint.x;\n    return updateStage;\n  };\n\n  var modX = 0;\n  var modY = 0;\n  var startSelectingPoint = {\n    x: 0,\n    y: 0\n  };\n  var selectingRect;\n  var selectedAbility;\n  window.allSelectedUnits = [];\n  var selectionWasChanged = true; //when user change selection\n\n  var mouseDown = function mouseDown(e) {\n    var mouse = {\n      x: e.clientX + ViewPoint.x,\n      y: e.clientY + ViewPoint.y\n    };\n\n    if (window.allSelectedUnits.length > 0) {\n      //When some utis has die, but we still contains reference to this unit\n      window.allSelectedUnits = window.allSelectedUnits.filter(function (unit) {\n        return unit.hp > 0;\n      });\n    }\n\n    startSelectingPoint.x = mouse.x;\n    startSelectingPoint.y = mouse.y;\n\n    if (e.which === MOUSE_RIGHT_BUTTON) {\n      //test, user chooose opponent unit as a aim?\n      if (window.allSelectedUnits.length > 0) {\n        selectedAbility = undefined;\n        var allEnemyUnits = getEnemyUnits();\n\n        for (var i = 0; i < allEnemyUnits.length; i++) {\n          var unit = allEnemyUnits[i];\n\n          if (_Utils.default.dis(startSelectingPoint, unit) <= unit.radius + MOUSE_CLICK_TOLERANCE) {\n            var _ret = function () {\n              var squad = unit.squad;\n              squad.selectAll();\n              setTimeout(function () {\n                return squad && squad.deselectAll();\n              }, 750);\n              (0, _setDestination.default)(unit.squad, window.allSelectedUnits, true, false, false);\n              return {\n                v: void 0\n              };\n            }();\n\n            if (_typeof(_ret) === "object") return _ret.v;\n          }\n        }\n\n        (0, _setDestination.default)({\n          x: mouse.x,\n          y: mouse.y\n        }, window.allSelectedUnits, false, false, false);\n      }\n    } else {\n      for (var _i = 0; _i < window.icons.length; _i++) {\n        var icon = window.icons[_i],\n            iconX = icon.graphics.x - icon.width / 2,\n            iconY = icon.graphics.y,\n            iconWidth = icon.width,\n            x = mouse.x,\n            y = mouse.y;\n\n        if (x > iconX && x < iconX + iconWidth && y > iconY && y < iconY + _gameSettings.default.ABILITY_ICON_SIZE) {\n          var _ret2 = function () {\n            var index = Math.floor((y - iconX) / _gameSettings.default.ABILITY_ICON_SIZE);\n            var _icon$squad$abilities = icon.squad.abilities[0],\n                name = _icon$squad$abilities.name,\n                time = _icon$squad$abilities.time;\n\n            if (time === 0) {\n              var squads = [];\n              window.allSquads[0].map(function (squad) {\n                if (squad.isAllSelected) {\n                  var hasAbility = squad.abilities.find(function (abili) {\n                    return abili.name === name && abili.time === 0;\n                  });\n\n                  if (hasAbility) {\n                    squads.push(squad);\n                  }\n                }\n              });\n              selectedAbility = {\n                squads: squads,\n                ability: name\n              };\n            }\n\n            selectionWasChanged = false; // startSelectingPoint = null;\n\n            window.app.stage.removeChild(selectingRect);\n            selectingRect = null;\n            window.app.view.addEventListener(\'mousedown\', mouseDown);\n            return {\n              v: void 0\n            };\n          }();\n\n          if (_typeof(_ret2) === "object") return _ret2.v;\n        }\n      }\n\n      if (selectedAbility) {\n        selectedAbility.squads = selectedAbility.squads.filter(function (squad) {\n          return squad.members.length > 0;\n        });\n\n        if (selectedAbility.squads.length > 0) {\n          var aim = {\n            x: mouse.x,\n            y: mouse.y\n          };\n          (0, _setAbilitie.default)(selectedAbility.squads, aim, selectedAbility.ability);\n        }\n\n        selectedAbility = undefined;\n        return;\n      }\n\n      _icons.default.removeAllIcons();\n\n      selectingRect = new PIXI.Graphics();\n      window.app.stage.addChild(selectingRect);\n      window.app.view.addEventListener(\'mouseup\', stopSelect);\n      window.app.view.removeEventListener(\'mousedown\', mouseDown); //=========it\'s really doesn\'t improve speed\n\n      window.allSelectedUnits.map(function (unit) {\n        return unit.squad.deselectAll();\n      });\n      window.allSelectedUnits = [];\n    }\n  };\n\n  function stopSelect(e) {\n    var mouse = {\n      x: e.clientX + ViewPoint.x,\n      y: e.clientY + ViewPoint.y\n    };\n\n    if (selectingRect && selectingRect.width < MOUSE_CLICK_TOLERANCE) {\n      //it\'s mean, user click, not create selection\n      var userUnits = getUserUnits();\n      var i = userUnits.length;\n\n      while (i--) {\n        var unit = userUnits[i];\n\n        if (_Utils.default.dis(unit, mouse) < unit.radius + MOUSE_CLICK_TOLERANCE) {\n          if (!unit.selected) {\n            //we realyl need this conditional???\n            window.allSelectedUnits.push(unit);\n          }\n\n          unit.selected = true;\n          selectionWasChanged = true;\n          break;\n        }\n      }\n    }\n\n    if (selectionWasChanged) {\n      var selectSquads = window.allSelectedUnits.map(function (unit) {\n        if (unit.squad && !unit.squad.isAllSelected) {\n          unit.squad.selectAll();\n          return unit.squad;\n        }\n      });\n      selectSquads = selectSquads.filter(function (squad) {\n        return squad;\n      });\n      window.allSelectedUnits = [];\n\n      for (var _i2 = 0; _i2 < selectSquads.length; _i2++) {\n        selectSquads[_i2].members.map(function (unit) {\n          return window.allSelectedUnits.push(unit);\n        });\n      }\n    }\n\n    selectionWasChanged = false; // startSelectingPoint = null;\n\n    window.app.stage.removeChild(selectingRect);\n    selectingRect = null;\n    window.app.view.addEventListener(\'mousedown\', mouseDown);\n  }\n\n  var startSelect = (0, _throttle.default)(function (e) {\n    if (selectingRect) {\n      var mouse = {\n        x: e.clientX + ViewPoint.x,\n        y: e.clientY + ViewPoint.y\n      };\n      selectionWasChanged = true;\n      selectingRect.clear();\n      selectingRect.beginFill(0x00FF00, 0.1);\n      selectingRect.lineStyle(3, 0x00FF00);\n      selectingRect.drawRect(startSelectingPoint.x, startSelectingPoint.y, mouse.x - startSelectingPoint.x, mouse.y - startSelectingPoint.y);\n      var minX, maxX, minY, maxY;\n\n      if (startSelectingPoint.x < mouse.x) {\n        minX = startSelectingPoint.x;\n        maxX = mouse.x;\n      } else {\n        maxX = startSelectingPoint.x;\n        minX = mouse.x;\n      }\n\n      if (startSelectingPoint.y < mouse.y) {\n        minY = startSelectingPoint.y;\n        maxY = mouse.y;\n      } else {\n        maxY = startSelectingPoint.y;\n        minY = mouse.y;\n      }\n\n      var userUnits = getUserUnits();\n      var i = userUnits.length;\n\n      while (i--) {\n        var unit = userUnits[i];\n\n        if (unit.x > minX && unit.x < maxX && unit.y > minY && unit.y < maxY) {\n          if (!unit.selected) {\n            window.allSelectedUnits.push(unit);\n          }\n\n          unit.selected = true;\n          unit.draw();\n        } else if (unit.selected) {\n          unit.selected = false;\n          unit.draw();\n          window.allSelectedUnits.splice(window.allSelectedUnits.indexOf(unit), 1);\n        }\n      }\n    } else {\n      modX = 0;\n      modY = 0;\n\n      if (e.clientX < 50 || e.clientX > window.innerWidth - 50 || e.clientY < 50 || e.clientY > window.innerHeight - 50) {\n        modX = (e.clientX - window.innerWidth / 2) / 100;\n        modY = (e.clientY - window.innerHeight / 2) / 100;\n      }\n    }\n  }, 30);\n\n  function updateStage() {\n    if (modX !== 0 && ViewPoint.x + modX >= 0 && ViewPoint.x + modX <= window.mapWidth - window.innerWidth) {\n      ViewPoint.x += modX;\n      window.app.stage.x = -ViewPoint.x;\n    }\n\n    if (modY !== 0 && ViewPoint.y + modY >= 0 && ViewPoint.y + modY <= window.mapHeight - window.innerHeight) {\n      ViewPoint.y += modY;\n      window.app.stage.y = -ViewPoint.y;\n    }\n  } // function testPlaceIsFree(point, radius) {\n  // \tlet quantity = 0;\n  // \twindow.allUnits.map(unit => {\n  // \t\tif(unit.aim) {//gdy ma cel do którego idzie, to sprawdż, czy ten cel nie koliduje z "point"\n  // \t\t\tif(window.dis(unit.aim, point) < radius) quantity++;\n  // \t\t} else {//gdy nie ma celu podróży, to wtedy sprawdź obecną pozycje\n  // \t\t\tif(window.dis(unit, point) < radius) quantity++;\n  // \t\t}\n  // \t});\n  // \treturn quantity < 5;\n  // }\n\n\n  return init;\n}();\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9tb3VzZUNvbnRyb2xsZXIudHM/YjFhZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7Ozs7OztBQUdBLElBQU0saUJBQWlCLEdBQUcsQ0FBMUI7QUFDQSxJQUFNLGtCQUFrQixHQUFHLENBQTNCO0FBQ0EsSUFBTSxxQkFBcUIsR0FBRyxFQUE5QjtBQUNBLElBQU0sWUFBWSxHQUFHLENBQXJCOztBQU9BLElBQU0sWUFBWSxHQUFHLFNBQWYsWUFBZSxHQUFLO0FBQ3hCLFNBQU8sTUFBTSxDQUFDLFNBQVAsQ0FBaUIsWUFBakIsRUFBK0IsTUFBL0IsQ0FBc0MsVUFBQyxNQUFELEVBQVMsS0FBVDtBQUFBLFdBQzNDLE1BQU0sQ0FBQyxNQUFQLENBQWMsS0FBSyxDQUFDLE9BQXBCLENBRDJDO0FBQUEsR0FBdEMsRUFDeUIsRUFEekIsQ0FBUDtBQUVELENBSEQ7O0FBS0EsSUFBTSxhQUFhLEdBQUcsU0FBaEIsYUFBZ0IsR0FBSztBQUN6QixTQUFPLE1BQU0sQ0FBQyxTQUFQLENBQWlCLE1BQWpCLENBQXdCLFVBQUMsTUFBRCxFQUFTLGFBQVQsRUFBd0IsS0FBeEIsRUFBaUM7QUFDOUQsUUFBSSxLQUFLLEtBQUssWUFBZCxFQUE0QjtBQUMxQixhQUFPLE1BQVA7QUFDRDs7QUFDRCxRQUFNLGVBQWUsR0FBRyxhQUFhLENBQUMsTUFBZCxDQUFxQixVQUFDLE1BQUQsRUFBUyxLQUFUO0FBQUEsYUFDM0MsTUFBTSxDQUFDLE1BQVAsQ0FBYyxLQUFLLENBQUMsT0FBcEIsQ0FEMkM7QUFBQSxLQUFyQixFQUNRLEVBRFIsQ0FBeEI7QUFFQSxXQUFPLE1BQU0sQ0FBQyxNQUFQLENBQWMsZUFBZCxDQUFQO0FBQ0QsR0FQTSxFQU9KLEVBUEksQ0FBUDtBQVFELENBVEQ7O2VBV2dCO0FBRWYsTUFBTSxTQUFTLEdBQVU7QUFDeEIsS0FBQyxFQUFFLElBRHFCO0FB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LENBQUMsT0FBRixHQUFhLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQW5DLElBQXlDLEdBQWhEO0FBQ0E7QUFDRDtBQUNELEdBakVtQixFQWlFakIsRUFqRWlCLENBQXBCOztBQW9FQSxXQUFTLFdBQVQsR0FBb0I7QUFFbkIsUUFBRyxJQUFJLEtBQUssQ0FBVCxJQUFjLFNBQVMsQ0FBQyxDQUFWLEdBQWMsSUFBZCxJQUFzQixDQUFwQyxJQUF5QyxTQUFTLENBQUMsQ0FBVixHQUFjLElBQWQsSUFBc0IsTUFBTSxDQUFDLFFBQVAsR0FBa0IsTUFBTSxDQUFDLFVBQTNGLEVBQXVHO0FBQ3RHLGVBQVMsQ0FBQyxDQUFWLElBQWUsSUFBZjtBQUNBLFlBQU0sQ0FBQyxHQUFQLENBQVcsS0FBWCxDQUFpQixDQUFqQixHQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFoQztBQUNBOztBQUVELFFBQUcsSUFBSSxLQUFLLENBQVQsSUFBYyxTQUFTLENBQUMsQ0FBVixHQUFjLElBQWQsSUFBc0IsQ0FBcEMsSUFBeUMsU0FBUyxDQUFDLENBQVYsR0FBYyxJQUFkLElBQXNCLE1BQU0sQ0FBQyxTQUFQLEdBQW1CLE1BQU0sQ0FBQyxXQUE1RixFQUF5RztBQUN4RyxlQUFTLENBQUMsQ0FBVixJQUFlLElBQWY7QUFDQSxZQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsQ0FBakIsR0FBcUIsQ0FBQyxTQUFTLENBQUMsQ0FBaEM7QUFDQTtBQUVELEdBM1BjLENBNlBmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OztBQU1BLFNBQU8sSUFBUDtBQUNBLENBL1FjLEUiLCJmaWxlIjoiMjA5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRocm90dGxlIGZyb20gJy4vdGhyb3R0bGUnO1xuaW1wb3J0IFNxdWFkIGZyb20gJ34vdW5pdHMvU3F1YWQnO1xuaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcbmltcG9ydCBzZXREZXN0aW5hdGlvblBvaW50IGZyb20gJ34vbW9kdWxlcy9zZXREZXN0aW5hdGlvbic7XG5pbXBvcnQgc2V0QWJpbGl0eSBmcm9tICd+L2FiaWxpdGllcy9zZXRBYmlsaXRpZSc7XG5pbXBvcnQgV2VhcG9uc0ZhY3RvcnkgIGZyb20gJ34vd2VhcG9ucy9XZWFwb25zRmFjdG9yeSc7XG5pbXBvcnQgU0VUVElOR1MgZnJvbSAnU2V0dGluZ3MnO1xuaW1wb3J0IEljb25zIGZyb20gJ34vbW9kdWxlcy9pY29ucyc7XG5pbXBvcnQgVW5pdCBmcm9tICd+L3VuaXRzL1VuaXQnO1xuXG5jb25zdCBNT1VTRV9MRUZUX0JVVFRPTiA9IDE7XG5jb25zdCBNT1VTRV9SSUdIVF9CVVRUT04gPSAzO1xuY29uc3QgTU9VU0VfQ0xJQ0tfVE9MRVJBTkNFID0gMjA7XG5jb25zdCBVU0VSX0ZBQ1RJT04gPSAwO1xuXG5pbnRlcmZhY2UgSVNlbGVjdGVkQWJpbGl0eSB7XG5cdHNxdWFkcz86IFNxdWFkW11cblx0YWJpbGl0eT86IHN0cmluZ1xufVxuXG5jb25zdCBnZXRVc2VyVW5pdHMgPSAoKSA9PiB7XG4gIHJldHVybiB3aW5kb3cuYWxsU3F1YWRzW1VTRVJfRkFDVElPTl0ucmVkdWNlKChyZXN1bHQsIHNxdWFkKSA9PlxuICAgIHJlc3VsdC5jb25jYXQoc3F1YWQubWVtYmVycyksIFtdIGFzIFVuaXRbXSk7XG59XG5cbmNvbnN0IGdldEVuZW15VW5pdHMgPSAoKSA9PiB7XG4gIHJldHVybiB3aW5kb3cuYWxsU3F1YWRzLnJlZHVjZSgocmVzdWx0LCBmYWN0aW9uU3F1YWRzLCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA9PT0gVVNFUl9GQUNUSU9OKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBhbGxGYWN0aW9uVW5pdHMgPSBmYWN0aW9uU3F1YWRzLnJlZHVjZSgocmVzdWx0LCBzcXVhZCkgPT5cbiAgICAgIHJlc3VsdC5jb25jYXQoc3F1YWQubWVtYmVycyksIFtdKVxuICAgIHJldHVybiByZXN1bHQuY29uY2F0KGFsbEZhY3Rpb25Vbml0cylcbiAgfSwgW10gYXMgVW5pdFtdKVxufVxuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24oKSB7XG5cblx0Y29uc3QgVmlld1BvaW50OiBQb2ludCA9IHtcblx0XHR4OiAxODAwLFxuXHRcdHk6IDBcblx0fVxuXG5cdGNvbnN0IGluaXQgPSAoKSA9PiB7Ly9vbmx5IHRoaXMgb25lIGZ1bmN0aW9uIGlzIHB1YmxpY1xuXHRcdFx0d2luZG93LmFwcC52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN0YXJ0U2VsZWN0KTtcblx0XHRcdHdpbmRvdy5hcHAudmlldy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZURvd24pO1xuXHRcdFx0d2luZG93LmFwcC5zdGFnZS54ID0gLVZpZXdQb2ludC54O1xuXHRcdFx0cmV0dXJuIHVwZGF0ZVN0YWdlO1xuXHR9XG5cblx0XG5cdGxldCBtb2RYID0gMDtcblx0bGV0IG1vZFkgPSAwO1xuXG5cdGNvbnN0IHN0YXJ0U2VsZWN0aW5nUG9pbnQ6UG9pbnQgPSB7IHg6IDAsIHk6IDAgfTtcblx0bGV0IHNlbGVjdGluZ1JlY3Q7XG5cblx0bGV0IHNlbGVjdGVkQWJpbGl0eTogSVNlbGVjdGVkQWJpbGl0eTtcblx0XG5cdHdpbmRvdy5hbGxTZWxlY3RlZFVuaXRzID0gW107XG5cdGxldCBzZWxlY3Rpb25XYXNDaGFuZ2VkID0gdHJ1ZTsvL3doZW4gdXNlciBjaGFuZ2Ugc2VsZWN0aW9uXG5cblx0Y29uc3QgbW91c2VEb3duID0gKGUpID0+IHtcblx0XHRjb25zdCBtb3VzZTogUG9pbnQgPSB7XG5cdFx0XHR4OiBlLmNsaWVudFggKyBWaWV3UG9pbnQueCxcblx0XHRcdHk6IGUuY2xpZW50WSArIFZpZXdQb2ludC55LFxuXHRcdH1cblxuXHRcdGlmICh3aW5kb3cuYWxsU2VsZWN0ZWRVbml0cy5sZW5ndGggPiAwKSB7Ly9XaGVuIHNvbWUgdXRpcyBoYXMgZGllLCBidXQgd2Ugc3RpbGwgY29udGFpbnMgcmVmZXJlbmNlIHRvIHRoaXMgdW5pdFxuXHRcdFx0d2luZG93LmFsbFNlbGVjdGVkVW5pdHMgPSB3aW5kb3cuYWxsU2VsZWN0ZWRVbml0cy5maWx0ZXIoIHVuaXQgPT4gdW5pdC5ocCA+IDAgKVxuXHRcdH1cblxuXHRcdHN0YXJ0U2VsZWN0aW5nUG9pbnQueCA9IG1vdXNlLng7XG5cdFx0c3RhcnRTZWxlY3RpbmdQb2ludC55ID0gbW91c2UueTtcblxuXHRcdGlmKGUud2hpY2ggPT09IE1PVVNFX1JJR0hUX0JVVFRPTikge1xuXHRcdFx0Ly90ZXN0LCB1c2VyIGNob29vc2Ugb3Bwb25lbnQgdW5pdCBhcyBhIGFpbT9cblx0XHRcdGlmKHdpbmRvdy5hbGxTZWxlY3RlZFVuaXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2VsZWN0ZWRBYmlsaXR5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IGFsbEVuZW15VW5pdHMgPSBnZXRFbmVteVVuaXRzKClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxFbmVteVVuaXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgdW5pdCA9IGFsbEVuZW15VW5pdHNbaV07XG4gICAgICAgICAgaWYgKFV0aWxzLmRpcyhzdGFydFNlbGVjdGluZ1BvaW50LCB1bml0KSA8PSB1bml0LnJhZGl1cyArIE1PVVNFX0NMSUNLX1RPTEVSQU5DRSkge1xuICAgICAgICAgICAgY29uc3QgeyBzcXVhZCB9ID0gdW5pdDtcbiAgICAgICAgICAgIHNxdWFkLnNlbGVjdEFsbCgpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzcXVhZCAmJiBzcXVhZC5kZXNlbGVjdEFsbCgpLCA3NTApO1xuICAgICAgICAgICAgc2V0RGVzdGluYXRpb25Qb2ludCh1bml0LnNxdWFkLCB3aW5kb3cuYWxsU2VsZWN0ZWRVbml0cywgdHJ1ZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuXHRcdFx0XHRzZXREZXN0aW5hdGlvblBvaW50KHsgeDogbW91c2UueCwgeTogbW91c2UueSB9LCB3aW5kb3cuYWxsU2VsZWN0ZWRVbml0cywgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCB3aW5kb3cuaWNvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgaWNvbiA9IHdpbmRvdy5pY29uc1tpXSxcblx0XHRcdFx0XHQgIGljb25YID0gaWNvbi5ncmFwaGljcy54IC0gKGljb24ud2lkdGggLyAyKSxcblx0XHRcdFx0XHQgIGljb25ZID0gaWNvbi5ncmFwaGljcy55LFxuXHRcdFx0XHRcdCAgaWNvbldpZHRoID0gaWNvbi53aWR0aCxcblx0XHRcdFx0XHQgIHsgeCwgeSB9ID0gbW91c2U7XG5cblx0XHRcdFx0aWYoeCA+IGljb25YICYmXG5cdFx0XHRcdCAgIHggPCBpY29uWCArIGljb25XaWR0aCAmJlxuXHRcdFx0XHQgICB5ID4gaWNvblkgJiZcblx0XHRcdFx0ICAgeSA8IGljb25ZICsgU0VUVElOR1MuQUJJTElUWV9JQ09OX1NJWkUpIHtcblx0XHRcdFx0XHRjb25zdCBpbmRleCA9IE1hdGguZmxvb3IoICh5IC0gaWNvblgpIC8gU0VUVElOR1MuQUJJTElUWV9JQ09OX1NJWkUgKTtcblx0XHRcdFx0XHRjb25zdCB7IG5hbWUsIHRpbWUgfSA9IGljb24uc3F1YWQuYWJpbGl0aWVzWzBdO1xuXHRcdFx0XHRcdGlmKHRpbWUgPT09IDApIHtcblx0XHRcdFx0XHRcdGNvbnN0IHNxdWFkcyA9IFtdO1xuXHRcdFx0XHRcdFx0d2luZG93LmFsbFNxdWFkc1swXS5tYXAoKHNxdWFkOiBTcXVhZCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZihzcXVhZC5pc0FsbFNlbGVjdGVkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc3QgaGFzQWJpbGl0eSA9IHNxdWFkLmFiaWxpdGllcy5maW5kKCBhYmlsaSA9PlxuXHRcdFx0XHRcdFx0XHRcdFx0YWJpbGkubmFtZSA9PT0gbmFtZSAmJiBhYmlsaS50aW1lID09PSAwKTtcblx0XHRcdFx0XHRcdFx0XHRpZihoYXNBYmlsaXR5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRzcXVhZHMucHVzaChzcXVhZCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0c2VsZWN0ZWRBYmlsaXR5ID0ge1xuXHRcdFx0XHRcdFx0XHRzcXVhZHMsXG5cdFx0XHRcdFx0XHRcdGFiaWxpdHk6IG5hbWVcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZWN0aW9uV2FzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdC8vIHN0YXJ0U2VsZWN0aW5nUG9pbnQgPSBudWxsO1xuXHRcdFx0XHRcdHdpbmRvdy5hcHAuc3RhZ2UucmVtb3ZlQ2hpbGQoc2VsZWN0aW5nUmVjdCk7XG5cdFx0XHRcdFx0c2VsZWN0aW5nUmVjdCA9IG51bGw7XG5cdFx0XHRcdFx0d2luZG93LmFwcC52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93bik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aWYoc2VsZWN0ZWRBYmlsaXR5KSB7XG5cdFx0XHRcdHNlbGVjdGVkQWJpbGl0eS5zcXVhZHMgPSBzZWxlY3RlZEFiaWxpdHkuc3F1YWRzXG5cdFx0XHRcdFx0LmZpbHRlcihzcXVhZCA9PiBzcXVhZC5tZW1iZXJzLmxlbmd0aCA+IDApO1xuXG5cdFx0XHRcdGlmKHNlbGVjdGVkQWJpbGl0eS5zcXVhZHMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGNvbnN0IGFpbSA9IHsgeDogbW91c2UueCwgeTogbW91c2UueSB9O1xuXHRcdFx0XHRcdHNldEFiaWxpdHkoc2VsZWN0ZWRBYmlsaXR5LnNxdWFkcywgYWltLCBzZWxlY3RlZEFiaWxpdHkuYWJpbGl0eSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2VsZWN0ZWRBYmlsaXR5ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdEljb25zLnJlbW92ZUFsbEljb25zKCk7XG5cblx0XHRcdHNlbGVjdGluZ1JlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuXHRcdFx0d2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChzZWxlY3RpbmdSZWN0KTtcblx0XHRcdHdpbmRvdy5hcHAudmlldy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RvcFNlbGVjdCk7XG5cdFx0XHR3aW5kb3cuYXBwLnZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duKTsvLz09PT09PT09PWl0J3MgcmVhbGx5IGRvZXNuJ3QgaW1wcm92ZSBzcGVlZFxuXHRcdFx0d2luZG93LmFsbFNlbGVjdGVkVW5pdHMubWFwKHVuaXQgPT5cblx0XHRcdFx0dW5pdC5zcXVhZC5kZXNlbGVjdEFsbCgpXG5cdFx0XHQpO1xuXHRcdFx0d2luZG93LmFsbFNlbGVjdGVkVW5pdHMgPSBbXTtcblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIHN0b3BTZWxlY3QoZSkge1xuXHRcdGNvbnN0IG1vdXNlOiBQb2ludCA9IHtcblx0XHRcdHg6IGUuY2xpZW50WCArIFZpZXdQb2ludC54LFxuXHRcdFx0eTogZS5jbGllbnRZICsgVmlld1BvaW50LnksXG5cdFx0fVxuXHRcdFxuICAgIGlmKHNlbGVjdGluZ1JlY3QgJiYgc2VsZWN0aW5nUmVjdC53aWR0aCA8IE1PVVNFX0NMSUNLX1RPTEVSQU5DRSkgey8vaXQncyBtZWFuLCB1c2VyIGNsaWNrLCBub3QgY3JlYXRlIHNlbGVjdGlvblxuICAgICAgY29uc3QgdXNlclVuaXRzID0gZ2V0VXNlclVuaXRzKClcbiAgICAgIGxldCBpID0gdXNlclVuaXRzLmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0XHRjb25zdCB1bml0ID0gdXNlclVuaXRzW2ldO1xuXHRcdFx0XHRcblx0XHRcdFx0aWYgKFV0aWxzLmRpcyh1bml0LCBtb3VzZSkgPCB1bml0LnJhZGl1cyArIE1PVVNFX0NMSUNLX1RPTEVSQU5DRSkge1xuXHRcdFx0XHRcdGlmICghdW5pdC5zZWxlY3RlZCkgey8vd2UgcmVhbHlsIG5lZWQgdGhpcyBjb25kaXRpb25hbD8/P1xuXHRcdFx0XHRcdFx0d2luZG93LmFsbFNlbGVjdGVkVW5pdHMucHVzaCh1bml0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dW5pdC5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRcdFx0c2VsZWN0aW9uV2FzQ2hhbmdlZCA9IHRydWU7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoc2VsZWN0aW9uV2FzQ2hhbmdlZCkge1xuXHRcdFx0bGV0IHNlbGVjdFNxdWFkcyA9IHdpbmRvdy5hbGxTZWxlY3RlZFVuaXRzLm1hcCh1bml0ID0+IHtcblx0XHRcdFx0aWYodW5pdC5zcXVhZCAmJiAhdW5pdC5zcXVhZC5pc0FsbFNlbGVjdGVkKSB7XG5cdFx0XHRcdFx0dW5pdC5zcXVhZC5zZWxlY3RBbGwoKTtcblx0XHRcdFx0XHRyZXR1cm4gdW5pdC5zcXVhZDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRzZWxlY3RTcXVhZHMgPSBzZWxlY3RTcXVhZHMuZmlsdGVyKHNxdWFkID0+IHNxdWFkKTtcblxuXHRcdFx0d2luZG93LmFsbFNlbGVjdGVkVW5pdHMgPSBbXTtcblx0XHRcdGZvcihsZXQgaSA9IDA7IGkgPCBzZWxlY3RTcXVhZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0c2VsZWN0U3F1YWRzW2ldLm1lbWJlcnMubWFwKHVuaXQgPT4gd2luZG93LmFsbFNlbGVjdGVkVW5pdHMucHVzaCh1bml0KSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0c2VsZWN0aW9uV2FzQ2hhbmdlZCA9IGZhbHNlO1xuXHRcdC8vIHN0YXJ0U2VsZWN0aW5nUG9pbnQgPSBudWxsO1xuXHRcdHdpbmRvdy5hcHAuc3RhZ2UucmVtb3ZlQ2hpbGQoc2VsZWN0aW5nUmVjdCk7XG5cdFx0c2VsZWN0aW5nUmVjdCA9IG51bGw7XG5cdFx0d2luZG93LmFwcC52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93bik7XG5cdH1cblxuXG5cdGNvbnN0IHN0YXJ0U2VsZWN0ID0gdGhyb3R0bGUoKGUpID0+IHtcblx0XHRpZihzZWxlY3RpbmdSZWN0KSB7XG5cdFx0XHRjb25zdCBtb3VzZTogUG9pbnQgPSB7XG5cdFx0XHRcdHg6IGUuY2xpZW50WCArIFZpZXdQb2ludC54LFxuXHRcdFx0XHR5OiBlLmNsaWVudFkgKyBWaWV3UG9pbnQueSxcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0aW9uV2FzQ2hhbmdlZCA9IHRydWU7XG5cdFx0XHRzZWxlY3RpbmdSZWN0LmNsZWFyKCk7XG5cdFx0XHRzZWxlY3RpbmdSZWN0LmJlZ2luRmlsbCgweDAwRkYwMCwgMC4xKTtcblx0XHRcdHNlbGVjdGluZ1JlY3QubGluZVN0eWxlKDMsIDB4MDBGRjAwKTtcblx0XHRcdHNlbGVjdGluZ1JlY3QuZHJhd1JlY3Qoc3RhcnRTZWxlY3RpbmdQb2ludC54LFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRTZWxlY3RpbmdQb2ludC55LCBcblx0XHRcdFx0XHRcdFx0XHRcdG1vdXNlLnggLSBzdGFydFNlbGVjdGluZ1BvaW50LngsXG5cdFx0XHRcdFx0XHRcdFx0XHRtb3VzZS55IC0gc3RhcnRTZWxlY3RpbmdQb2ludC55KTtcblxuXHRcdFx0bGV0IG1pblgsbWF4WCxtaW5ZLG1heFk7XG5cblx0XHRcdGlmKHN0YXJ0U2VsZWN0aW5nUG9pbnQueCA8IG1vdXNlLngpe1xuXHRcdFx0XHRtaW5YID0gc3RhcnRTZWxlY3RpbmdQb2ludC54O1xuXHRcdFx0XHRtYXhYID0gbW91c2UueDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1heFggPSBzdGFydFNlbGVjdGluZ1BvaW50Lng7XG5cdFx0XHRcdG1pblggPSBtb3VzZS54O1xuXHRcdFx0fVxuXG5cdFx0XHRpZihzdGFydFNlbGVjdGluZ1BvaW50LnkgPCBtb3VzZS55KXtcblx0XHRcdFx0bWluWSA9IHN0YXJ0U2VsZWN0aW5nUG9pbnQueTtcblx0XHRcdFx0bWF4WSA9IG1vdXNlLnk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXhZID0gc3RhcnRTZWxlY3RpbmdQb2ludC55O1xuXHRcdFx0XHRtaW5ZID0gbW91c2UueTtcblx0XHRcdH1cblxuICAgICAgY29uc3QgdXNlclVuaXRzID0gZ2V0VXNlclVuaXRzKClcbiAgICAgIGxldCBpID0gdXNlclVuaXRzLmxlbmd0aDtcblxuXHRcdFx0d2hpbGUoaS0tKSB7XG5cdFx0XHRcdGNvbnN0IHVuaXQgPSB1c2VyVW5pdHNbaV07XG5cdFx0XHRcdGlmKHVuaXQueCA+IG1pblhcblx0XHRcdFx0JiYgdW5pdC54IDwgbWF4WFxuXHRcdFx0XHQmJiB1bml0LnkgPiBtaW5ZXG5cdFx0XHRcdCYmIHVuaXQueSA8IG1heFkpe1xuXHRcdFx0XHRcdGlmKCF1bml0LnNlbGVjdGVkKSB7XG5cdFx0XHRcdFx0XHR3aW5kb3cuYWxsU2VsZWN0ZWRVbml0cy5wdXNoKHVuaXQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR1bml0LnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR1bml0LmRyYXcoKTtcblx0XHRcdFx0fSBlbHNlIGlmKHVuaXQuc2VsZWN0ZWQpIHtcblx0XHRcdFx0XHR1bml0LnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0dW5pdC5kcmF3KCk7XG5cdFx0XHRcdFx0d2luZG93LmFsbFNlbGVjdGVkVW5pdHMuc3BsaWNlKHdpbmRvdy5hbGxTZWxlY3RlZFVuaXRzLmluZGV4T2YodW5pdCksIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1vZFggPSAwO1xuXHRcdFx0bW9kWSA9IDA7XG5cdFx0XHRpZihlLmNsaWVudFggPCA1MFxuXHRcdFx0fHwgZS5jbGllbnRYID4gd2luZG93LmlubmVyV2lkdGggLSA1MFxuXHRcdFx0fHwgZS5jbGllbnRZIDwgNTBcblx0XHRcdHx8IGUuY2xpZW50WSA+IHdpbmRvdy5pbm5lckhlaWdodCAtIDUwKSB7XG5cdFx0XHRcdG1vZFggPSAoZS5jbGllbnRYIC0gKHdpbmRvdy5pbm5lcldpZHRoIC8gMikpIC8gMTAwO1xuXHRcdFx0XHRtb2RZID0gKGUuY2xpZW50WSAtICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSkgLyAxMDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCAzMCk7XG5cblxuXHRmdW5jdGlvbiB1cGRhdGVTdGFnZSgpIHtcblx0XG5cdFx0aWYobW9kWCAhPT0gMCAmJiBWaWV3UG9pbnQueCArIG1vZFggPj0gMCAmJiBWaWV3UG9pbnQueCArIG1vZFggPD0gd2luZG93Lm1hcFdpZHRoIC0gd2luZG93LmlubmVyV2lkdGgpIHtcblx0XHRcdFZpZXdQb2ludC54ICs9IG1vZFg7XG5cdFx0XHR3aW5kb3cuYXBwLnN0YWdlLnggPSAtVmlld1BvaW50Lng7XG5cdFx0fVxuXG5cdFx0aWYobW9kWSAhPT0gMCAmJiBWaWV3UG9pbnQueSArIG1vZFkgPj0gMCAmJiBWaWV3UG9pbnQueSArIG1vZFkgPD0gd2luZG93Lm1hcEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodCkge1xuXHRcdFx0Vmlld1BvaW50LnkgKz0gbW9kWTtcblx0XHRcdHdpbmRvdy5hcHAuc3RhZ2UueSA9IC1WaWV3UG9pbnQueTtcblx0XHR9XG5cdFx0XG5cdH1cblxuXHQvLyBmdW5jdGlvbiB0ZXN0UGxhY2VJc0ZyZWUocG9pbnQsIHJhZGl1cykge1xuXHQvLyBcdGxldCBxdWFudGl0eSA9IDA7XG5cdC8vIFx0d2luZG93LmFsbFVuaXRzLm1hcCh1bml0ID0+IHtcblx0Ly8gXHRcdGlmKHVuaXQuYWltKSB7Ly9nZHkgbWEgY2VsIGRvIGt0w7NyZWdvIGlkemllLCB0byBzcHJhd2TFvCwgY3p5IHRlbiBjZWwgbmllIGtvbGlkdWplIHogXCJwb2ludFwiXG5cdC8vIFx0XHRcdGlmKHdpbmRvdy5kaXModW5pdC5haW0sIHBvaW50KSA8IHJhZGl1cykgcXVhbnRpdHkrKztcblx0Ly8gXHRcdH0gZWxzZSB7Ly9nZHkgbmllIG1hIGNlbHUgcG9kcsOzxbx5LCB0byB3dGVkeSBzcHJhd2TFuiBvYmVjbsSFIHBvenljamVcblx0Ly8gXHRcdFx0aWYod2luZG93LmRpcyh1bml0LCBwb2ludCkgPCByYWRpdXMpIHF1YW50aXR5Kys7XG5cdC8vIFx0XHR9XG5cdFx0XHRcblx0Ly8gXHR9KTtcblx0Ly8gXHRyZXR1cm4gcXVhbnRpdHkgPCA1O1xuXHQvLyB9XG5cblxuXG5cblxuXHRyZXR1cm4gaW5pdFxufSkoKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///209\n')},210:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default(func, time) {\n  var wait = false;\n  return function (e) {\n    if (!wait) {\n      func(e);\n      wait = true;\n      setTimeout(function () {\n        return wait = false;\n      }, time);\n    }\n  };\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy90aHJvdHRsZS5qcz8wNGYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxrQkFBQyxJQUFELEVBQU8sSUFBUCxFQUFlO0FBQzFCLE1BQUksSUFBSSxHQUFHLEtBQVg7QUFDSCxTQUFPLFVBQUMsQ0FBRCxFQUFNO0FBQ1osUUFBRyxDQUFDLElBQUosRUFBUztBQUNSLFVBQUksQ0FBQyxDQUFELENBQUo7QUFDUyxVQUFJLEdBQUcsSUFBUDtBQUNULGdCQUFVLENBQUM7QUFBQSxlQUFNLElBQUksR0FBRyxLQUFiO0FBQUEsT0FBRCxFQUFxQixJQUFyQixDQUFWO0FBQ0E7QUFDRSxHQU5KO0FBT0EsQyIsImZpbGUiOiIyMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAoZnVuYywgdGltZSkgPT4ge1xuICAgIGxldCB3YWl0ID0gZmFsc2U7XG5cdHJldHVybiAoZSkgPT4ge1xuXHRcdGlmKCF3YWl0KXtcblx0XHRcdGZ1bmMoZSk7XG4gICAgICAgICAgICB3YWl0ID0gdHJ1ZTtcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4gd2FpdCA9IGZhbHNlLCB0aW1lKTtcblx0XHR9XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///210\n')},211:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.abilityFactory = void 0;\n\nvar _grenade = _interopRequireDefault(__webpack_require__(212));\n\nvar _jumping = _interopRequireDefault(__webpack_require__(216));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar abilityFactory = {\n  get: function get(type) {\n    if (type === 'SOLIDER_GRENADE') {\n      return {\n        name: 'SOLIDER_GRENADE',\n        use: function use(source, target) {\n          (0, _grenade.default)('SOLIDER_GRENADE', source, target);\n        },\n        range: 300,\n        forFullSquad: false\n      };\n    } else if (type === 'ASSAULT_JUMP') {\n      return {\n        name: 'ASSAULT_JUMP',\n        use: function use(source, target) {\n          (0, _jumping.default)('ASSAULT_JUMP', source, target);\n        },\n        range: 700,\n        forFullSquad: true\n      };\n    }\n  }\n};\nexports.abilityFactory = abilityFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWJpbGl0aWVzL2FiaWxpdHlGYWN0b3J5LnRzPzRmZTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQUNBOzs7O0FBY08sSUFBTSxjQUFjLEdBQUc7QUFDNUIsS0FENEIsZUFDeEIsSUFEd0IsRUFDcEI7QUFDTixRQUFJLElBQUksS0FBSyxpQkFBYixFQUFnQztBQUM5QixhQUFPO0FBQ0wsWUFBSSxFQUFFLGlCQUREO0FBRUwsV0FBRyxFQUFFLGFBQUMsTUFBRCxFQUFTLE1BQVQsRUFBbUI7QUFDdEIsZ0NBQWMsaUJBQWQsRUFBaUMsTUFBakMsRUFBeUMsTUFBekM7QUFDRCxTQUpJO0FBS0wsYUFBSyxFQUFFLEdBTEY7QUFNTCxvQkFBWSxFQUFFO0FBTlQsT0FBUDtBQVFELEtBVEQsTUFTTyxJQUFJLElBQUksS0FBSyxjQUFiLEVBQTZCO0FBQ2xDLGFBQU87QUFDTCxZQUFJLEVBQUUsY0FERDtBQUVMLFdBQUcsRUFBRSxhQUFDLE1BQUQsRUFBUyxNQUFULEVBQW1CO0FBQ3RCLGdDQUFRLGNBQVIsRUFBd0IsTUFBeEIsRUFBZ0MsTUFBaEM7QUFDRCxTQUpJO0FBS0wsYUFBSyxFQUFFLEdBTEY7QUFNTCxvQkFBWSxFQUFFO0FBTlQsT0FBUDtBQVFEO0FBQ0Y7QUFyQjJCLENBQXZCIiwiZmlsZSI6IjIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTcXVhZCBmcm9tICd+L3VuaXRzL1NxdWFkJztcbmltcG9ydCBVbml0IGZyb20gJ34vdW5pdHMvVW5pdCc7XG5pbXBvcnQgY3JlYXRlR3JlbmFkZSBmcm9tICcuL3R5cGVzL2dyZW5hZGUnO1xuaW1wb3J0IGp1bXBpbmcgZnJvbSAnLi90eXBlcy9qdW1waW5nJztcblxuaW50ZXJmYWNlIElBYmlsaXR5RGV0YWlscyB7XG4gIGZvckZ1bGxTcXVhZDogYm9vbGVhblxuICBuYW1lOiBzdHJpbmdcbiAgdXNlOiAoc291cmNlOiBVbml0LCB0YXJnZXQ6IFBvaW50IHwgVW5pdCB8IFNxdWFkKSA9PiB2b2lkXG4gIHJhbmdlPzogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFiaWxpdHkge1xuICB0YXJnZXQ6IFBvaW50XG4gIGRldGFpbHM6IElBYmlsaXR5RGV0YWlsc1xufVxuXG5leHBvcnQgY29uc3QgYWJpbGl0eUZhY3RvcnkgPSB7XG4gIGdldCh0eXBlKTogSUFiaWxpdHlEZXRhaWxzIHtcbiAgICBpZiAodHlwZSA9PT0gJ1NPTElERVJfR1JFTkFERScpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6ICdTT0xJREVSX0dSRU5BREUnLFxuICAgICAgICB1c2U6IChzb3VyY2UsIHRhcmdldCkgPT4ge1xuICAgICAgICAgIGNyZWF0ZUdyZW5hZGUoJ1NPTElERVJfR1JFTkFERScsIHNvdXJjZSwgdGFyZ2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmFuZ2U6IDMwMCxcbiAgICAgICAgZm9yRnVsbFNxdWFkOiBmYWxzZVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0FTU0FVTFRfSlVNUCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6ICdBU1NBVUxUX0pVTVAnLFxuICAgICAgICB1c2U6IChzb3VyY2UsIHRhcmdldCkgPT4ge1xuICAgICAgICAgIGp1bXBpbmcoJ0FTU0FVTFRfSlVNUCcsIHNvdXJjZSwgdGFyZ2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmFuZ2U6IDcwMCxcbiAgICAgICAgZm9yRnVsbFNxdWFkOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///211\n")},212:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _WeaponTypes = _interopRequireDefault(__webpack_require__(197));\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Grenade =\n/*#__PURE__*/\nfunction () {\n  function Grenade(x, y, aim) {\n    _classCallCheck(this, Grenade);\n\n    this.x = x;\n    this.y = y;\n\n    var angle = _Utils.default.ang(this, aim);\n\n    var speed = _WeaponTypes.default[\'SOLIDER_GRENADE\'].speed;\n    this.modX = Math.sin(angle) * speed;\n    this.modY = -Math.cos(angle) * speed;\n    var graphics = new window.PIXI.Graphics();\n    graphics.beginFill(0xFF88FF);\n    graphics.drawRect(0, 0, 10, 10);\n    graphics.x = x;\n    graphics.y = y;\n    window.app.stage.addChild(graphics);\n    this.graphics = graphics;\n    var center = {\n      x: (x + aim.x) / 2,\n      y: (y + aim.y) / 2 + 100\n    };\n    var A1 = -Math.pow(x, 2) + Math.pow(center.x, 2),\n        B1 = -x + center.x,\n        D1 = -y + center.y,\n        A2 = -Math.pow(center.x, 2) + Math.pow(aim.x, 2),\n        B2 = -center.x + aim.x,\n        D2 = -center.y + aim.y,\n        Bmulti = -(B2 / B1),\n        A3 = Bmulti * A1 + A2,\n        D3 = Bmulti * D1 + D2,\n        a = D3 / A3,\n        b = (D1 - A1 * a) / B1,\n        c = y - a * Math.pow(x, 2) - b * x;\n\n    this.jumpFunction = function (x) {\n      return a * Math.pow(x, 2) + b * x + c;\n    };\n  }\n\n  _createClass(Grenade, [{\n    key: "onDestroy",\n    value: function onDestroy() {\n      var _this = this;\n\n      var bullet = {\n        x: this.x,\n        y: this.y,\n        damage: _WeaponTypes.default[\'SOLIDER_GRENADE\'].damage,\n        explosion: _WeaponTypes.default[\'SOLIDER_GRENADE\'].explosion\n      };\n      window.allSquads.map(function (fact) {\n        fact.map(function (squad) {\n          if (_Utils.default.dis(squad.center, _this) < bullet.explosion.range + _gameSettings.default.MAX_DISTANCE_BETWEEN_SQUAD_MEMBERS) {\n            squad.members.map(function (unit) {\n              if (_Utils.default.dis(_this, unit) < bullet.explosion.range) {\n                // Is on the front\n                unit.takeDamage(bullet);\n              }\n            });\n          }\n        });\n      });\n\n      _EffectsFactory.default.createBoomEffect(this.x, this.y); //add bullet animation\n\n\n      window.app.stage.removeChild(this.graphics);\n      window.bulletContainer.splice(window.bulletContainer.indexOf(this), 1);\n      this.graphics.destroy();\n      this.graphics = undefined;\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      var gravity = this.y - this.jumpFunction(this.x);\n\n      if (gravity > 1) {\n        this.onDestroy();\n        return;\n      }\n\n      this.x += this.modX;\n      this.y += this.modY;\n      this.graphics.x = this.x;\n      this.graphics.y = this.y + gravity;\n    }\n  }]);\n\n  return Grenade;\n}();\n\nvar _default = function _default(type, source, target) {\n  window.bulletContainer.push(new Grenade(source.x, source.y, target));\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWJpbGl0aWVzL3R5cGVzL2dyZW5hZGUudHM/MDNjNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7SUFFTSxPOzs7QUFTTCxtQkFBWSxDQUFaLEVBQWUsQ0FBZixFQUFrQixHQUFsQixFQUFxQjtBQUFBOztBQUNsQixTQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0YsU0FBSyxDQUFMLEdBQVMsQ0FBVDs7QUFDRSxRQUFNLEtBQUssR0FBRyxlQUFNLEdBQU4sQ0FBVSxJQUFWLEVBQWdCLEdBQWhCLENBQWQ7O0FBSGtCLFFBSVYsS0FKVSxHQUlBLHFCQUFZLGlCQUFaLENBSkEsQ0FJVixLQUpVO0FBS2xCLFNBQUssSUFBTCxHQUFZLElBQUksQ0FBQyxHQUFMLENBQVMsS0FBVCxJQUFrQixLQUE5QjtBQUNBLFNBQUssSUFBTCxHQUFZLENBQUMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULENBQUQsR0FBbUIsS0FBL0I7QUFFQSxRQUFNLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFQLENBQVksUUFBaEIsRUFBakI7QUFDQSxZQUFRLENBQUMsU0FBVCxDQUFtQixRQUFuQjtBQUNBLFlBQVEsQ0FBQyxRQUFULENBQWtCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCLEVBQXhCLEVBQTRCLEVBQTVCO0FBQ0EsWUFBUSxDQUFDLENBQVQsR0FBYSxDQUFiO0FBQ0EsWUFBUSxDQUFDLENBQVQsR0FBYSxDQUFiO0FBQ0EsVUFBTSxDQUFDLEdBQVAsQ0FBVyxLQUFYLENBQWlCLFFBQWpCLENBQTBCLFFBQTFCO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLFFBQWhCO0FBRUEsUUFBTSxNQUFNLEdBQUc7QUFDYixPQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQVQsSUFBYyxDQURKO0FBRWIsT0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFULElB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LENBQWIsRUFBZ0I7QUFDWixhQUFLLFNBQUw7QUFDQTtBQUNIOztBQUNELFdBQUssQ0FBTCxJQUFVLEtBQUssSUFBZjtBQUNBLFdBQUssQ0FBTCxJQUFVLEtBQUssSUFBZjtBQUNBLFdBQUssUUFBTCxDQUFjLENBQWQsR0FBa0IsS0FBSyxDQUF2QjtBQUNBLFdBQUssUUFBTCxDQUFjLENBQWQsR0FBa0IsS0FBSyxDQUFMLEdBQVMsT0FBM0I7QUFDRDs7Ozs7O2VBR1ksa0JBQUMsSUFBRCxFQUFlLE1BQWYsRUFBNEIsTUFBNUIsRUFBMkM7QUFDdEQsUUFBTSxDQUFDLGVBQVAsQ0FBdUIsSUFBdkIsQ0FBNEIsSUFBSSxPQUFKLENBQVksTUFBTSxDQUFDLENBQW5CLEVBQXNCLE1BQU0sQ0FBQyxDQUE3QixFQUFnQyxNQUFoQyxDQUE1QjtBQUNILEMiLCJmaWxlIjoiMjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFdlYXBvblR5cGVzIGZyb20gJ34vd2VhcG9ucy9XZWFwb25UeXBlcyc7XG5pbXBvcnQgRWZmZWN0c0ZhY3RvcnkgZnJvbSAnfi9lZmZlY3RzL0VmZmVjdHNGYWN0b3J5JztcbmltcG9ydCBVdGlscyBmcm9tICdVdGlscyc7XG5pbXBvcnQgU0VUVElOR1MgZnJvbSAnfi9tb2R1bGVzL2dhbWVTZXR0aW5ncyc7XG5cbmNsYXNzIEdyZW5hZGUge1xuXHRwdWJsaWMgeDogbnVtYmVyO1xuXHRwdWJsaWMgeTogbnVtYmVyO1xuXHRwcml2YXRlIG1vZFg6IG51bWJlcjtcblx0cHJpdmF0ZSBtb2RZOiBudW1iZXI7XG5cdHByaXZhdGUgZ3JhcGhpY3M6IGFueTtcblx0cHJpdmF0ZSB1cGRhdGVCdWxsZXQ6ICgpID0+IGFueTtcblx0cHJpdmF0ZSBqdW1wRnVuY3Rpb246ICh4OiBudW1iZXIpID0+IG51bWJlcjtcblxuXHRjb25zdHJ1Y3Rvcih4LCB5LCBhaW0pIHtcbiAgICB0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG4gICAgY29uc3QgYW5nbGUgPSBVdGlscy5hbmcodGhpcywgYWltKTtcbiAgICBjb25zdCB7IHNwZWVkIH0gPSBXZWFwb25UeXBlc1snU09MSURFUl9HUkVOQURFJ107XG4gICAgdGhpcy5tb2RYID0gTWF0aC5zaW4oYW5nbGUpICogc3BlZWQ7XG4gICAgdGhpcy5tb2RZID0gLU1hdGguY29zKGFuZ2xlKSAqIHNwZWVkO1xuXG4gICAgY29uc3QgZ3JhcGhpY3MgPSBuZXcgd2luZG93LlBJWEkuR3JhcGhpY3MoKTtcbiAgICBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjg4RkYpO1xuICAgIGdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIDEwLCAxMCk7XG4gICAgZ3JhcGhpY3MueCA9IHg7XG4gICAgZ3JhcGhpY3MueSA9IHk7XG4gICAgd2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChncmFwaGljcyk7XG4gICAgdGhpcy5ncmFwaGljcyA9IGdyYXBoaWNzO1xuXG4gICAgY29uc3QgY2VudGVyID0ge1xuICAgICAgeDogKHggKyBhaW0ueCkgLyAyLFxuICAgICAgeTogKHkgKyBhaW0ueSkgLyAyICsgMTAwLCAvLyAyMDAgLSBoZWlnaHQgb2YganVtcCwgaW4gV2FycmlvckFzc2F1bHQudHNcbiAgICB9XG5cbiAgICBjb25zdCBBMSA9IC0oeCAqKiAyKSArIGNlbnRlci54ICoqIDIsXG4gICAgQjEgPSAteCArIGNlbnRlci54LFxuICAgIEQxID0gLXkgKyBjZW50ZXIueSxcbiAgICBBMiA9IC0oY2VudGVyLnggKiogMikgKyBhaW0ueCAqKiAyLFxuICAgIEIyID0gLWNlbnRlci54ICsgYWltLngsXG4gICAgRDIgPSAtY2VudGVyLnkgKyBhaW0ueSxcbiAgICBCbXVsdGkgPSAtKEIyIC8gQjEpLFxuICAgIEEzID0gQm11bHRpICogQTEgKyBBMixcbiAgICBEMyA9IEJtdWx0aSAqIEQxICsgRDIsXG4gICAgYSA9IEQzIC8gQTMsXG4gICAgYiA9IChEMSAtIEExICogYSkgLyBCMSxcbiAgICBjID0geSAtIGEgKiAoeCAqKiAyKSAtIGIgKiB4O1xuXG4gICAgdGhpcy5qdW1wRnVuY3Rpb24gPSAoeDogbnVtYmVyKSA9PiBhICogKHggKiogMikgKyBiICogeCArIGM7XG4gIH1cbiAgICBcbiAgb25EZXN0cm95KCkge1xuICAgIGNvbnN0IGJ1bGxldCA9IHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueSxcbiAgICAgIGRhbWFnZTogV2VhcG9uVHlwZXNbJ1NPTElERVJfR1JFTkFERSddLmRhbWFnZSxcbiAgICAgIGV4cGxvc2lvbjogV2VhcG9uVHlwZXNbJ1NPTElERVJfR1JFTkFERSddLmV4cGxvc2lvblxuICAgIH1cbiAgICB3aW5kb3cuYWxsU3F1YWRzLm1hcChmYWN0ID0+IHtcbiAgICAgIGZhY3QubWFwKCBzcXVhZCA9PiB7XG4gICAgICAgIGlmIChVdGlscy5kaXMoc3F1YWQuY2VudGVyLCB0aGlzKSA8IGJ1bGxldC5leHBsb3Npb24ucmFuZ2UgKyBTRVRUSU5HUy5NQVhfRElTVEFOQ0VfQkVUV0VFTl9TUVVBRF9NRU1CRVJTKSB7XG4gICAgICAgICAgc3F1YWQubWVtYmVycy5tYXAodW5pdCA9PiB7XG4gICAgICAgICAgICBpZiAoVXRpbHMuZGlzKHRoaXMsIHVuaXQpIDwgYnVsbGV0LmV4cGxvc2lvbi5yYW5nZSkgeyAvLyBJcyBvbiB0aGUgZnJvbnRcbiAgICAgICAgICAgICAgdW5pdC50YWtlRGFtYWdlKGJ1bGxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIEVmZmVjdHNGYWN0b3J5LmNyZWF0ZUJvb21FZmZlY3QodGhpcy54LCB0aGlzLnkpO1xuICAgIC8vYWRkIGJ1bGxldCBhbmltYXRpb25cbiAgICB3aW5kb3cuYXBwLnN0YWdlLnJlbW92ZUNoaWxkKHRoaXMuZ3JhcGhpY3MpO1xuICAgIHdpbmRvdy5idWxsZXRDb250YWluZXIuc3BsaWNlKHdpbmRvdy5idWxsZXRDb250YWluZXIuaW5kZXhPZih0aGlzKSwgMSk7XG4gICAgdGhpcy5ncmFwaGljcy5kZXN0cm95KCk7XG4gICAgdGhpcy5ncmFwaGljcyA9IHVuZGVmaW5lZDtcbiAgfVxuICBcbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGdyYXZpdHkgPSB0aGlzLnkgLSB0aGlzLmp1bXBGdW5jdGlvbih0aGlzLngpOyBcbiAgICBpZihncmF2aXR5ID4gMSkge1xuICAgICAgICB0aGlzLm9uRGVzdHJveSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMueCArPSB0aGlzLm1vZFg7XG4gICAgdGhpcy55ICs9IHRoaXMubW9kWTtcbiAgICB0aGlzLmdyYXBoaWNzLnggPSB0aGlzLng7XG4gICAgdGhpcy5ncmFwaGljcy55ID0gdGhpcy55ICsgZ3Jhdml0eTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCAodHlwZTogc3RyaW5nLCBzb3VyY2U6IGFueSwgdGFyZ2V0OiBhbnkpID0+IHtcbiAgICB3aW5kb3cuYnVsbGV0Q29udGFpbmVyLnB1c2gobmV3IEdyZW5hZGUoc291cmNlLngsIHNvdXJjZS55LCB0YXJnZXQpKTtcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///212\n')},213:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _WeaponTypes = _interopRequireDefault(__webpack_require__(197));\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction drawAndAddProps() {\n  var x = this.x,\n      y = this.y,\n      angle = this.angle,\n      aim = this.aim;\n  var speed = _WeaponTypes.default['SOLIDER_REGULAR'].speed;\n  this.modX = Math.sin(angle) * speed;\n  this.modY = -Math.cos(angle) * speed;\n  this.hit = _Utils.default.where(x, y, angle, aim.x, aim.y, aim.radius) === 0;\n\n  var distance = _Utils.default.dis(this, aim);\n\n  this.totalFrames = distance / speed;\n\n  if (!this.hit) {\n    //add or subtract sobe frames if bullet won't hit target\n    this.totalFrames += _Utils.default.normalRandomLUT(Math.floor(this.totalFrames * 0.1));\n  }\n\n  this.currFrame = 0;\n  this.updateBullet = updateBullet;\n  this.animate = animate;\n  this.onDestroy = onDestroy;\n  var graphics = new window.PIXI.Graphics();\n  graphics.beginFill(0xAAFFFF);\n  graphics.drawRect(0, 0, 5, 5);\n  graphics.x = x;\n  graphics.y = y;\n  window.app.stage.addChild(graphics);\n  this.graphics = graphics;\n\n  _EffectsFactory.default.createFireEffect(x, y);\n}\n\nfunction onDestroy() {\n  if (this.hit) {\n    this.aim.takeDamage(this);\n  } //add bullet animation\n\n\n  window.app.stage.removeChild(this.graphics);\n  window.bulletContainer.splice(window.bulletContainer.indexOf(this), 1);\n}\n\nfunction animate() {\n  this.x += this.modX;\n  this.y += this.modY;\n  this.graphics.x = this.x;\n  this.graphics.y = this.y;\n}\n\nfunction updateBullet() {\n  if (++this.currFrame >= this.totalFrames) {\n    this.onDestroy();\n    return 'DESTROY';\n  } else {\n    this.animate();\n  }\n}\n\nvar _default = {\n  drawAndAddProps: drawAndAddProps\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2VhcG9ucy93ZWFwb25UeXBlcy9zb2xpZGVyUmVndWxhci50cz84NGNlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLFNBQVMsZUFBVCxHQUF3QjtBQUFBLE1BQ1osQ0FEWSxHQUNTLElBRFQsQ0FDWixDQURZO0FBQUEsTUFDVCxDQURTLEdBQ1MsSUFEVCxDQUNULENBRFM7QUFBQSxNQUNOLEtBRE0sR0FDUyxJQURULENBQ04sS0FETTtBQUFBLE1BQ0MsR0FERCxHQUNTLElBRFQsQ0FDQyxHQUREO0FBQUEsTUFFWixLQUZZLEdBRUYscUJBQVksaUJBQVosQ0FGRSxDQUVaLEtBRlk7QUFHcEIsT0FBSyxJQUFMLEdBQVksSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULElBQWtCLEtBQTlCO0FBQ0EsT0FBSyxJQUFMLEdBQVksQ0FBQyxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsQ0FBRCxHQUFtQixLQUEvQjtBQUNBLE9BQUssR0FBTCxHQUFXLGVBQU0sS0FBTixDQUFZLENBQVosRUFBZSxDQUFmLEVBQWtCLEtBQWxCLEVBQXlCLEdBQUcsQ0FBQyxDQUE3QixFQUFnQyxHQUFHLENBQUMsQ0FBcEMsRUFBdUMsR0FBRyxDQUFDLE1BQTNDLE1BQXVELENBQWxFOztBQUVBLE1BQU0sUUFBUSxHQUFHLGVBQU0sR0FBTixDQUFVLElBQVYsRUFBZ0IsR0FBaEIsQ0FBakI7O0FBQ0EsT0FBSyxXQUFMLEdBQW1CLFFBQVEsR0FBRyxLQUE5Qjs7QUFFQSxNQUFHLENBQUMsS0FBSyxHQUFULEVBQWM7QUFBQztBQUNYLFNBQUssV0FBTCxJQUFvQixlQUFNLGVBQU4sQ0FBc0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFLLFdBQUwsR0FBbUIsR0FBOUIsQ0FBdEIsQ0FBcEI7QUFDSDs7QUFDRCxPQUFLLFNBQUwsR0FBaUIsQ0FBakI7QUFDQSxPQUFLLFlBQUwsR0FBb0IsWUFBcEI7QUFDQSxPQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsT0FBSyxTQUFMLEdBQWlCLFNBQWpCO0FBRUEsTUFBTSxRQUFRLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBUCxDQUFZLFFBQWhCLEVBQWpCO0FBQ0EsVUFBUSxDQUFDLFNBQVQsQ0FBbUIsUUFBbkI7QUFDQSxVQUFRLENBQUMsUUFBVCxDQUFrQixDQUFsQixFQUFxQixDQUFyQixFQUF3QixDQUF4QixFQUEyQixDQUEzQjtBQUNBLFVBQVEsQ0FBQyxDQUFULEdBQWEsQ0FBYjtBQUNBLFVBQVEsQ0FBQyxDQUFULEdBQWEsQ0FBYjtBQUNBLFFBQU0sQ0FBQyxHQUFQLENBQVcsS0FBWCxDQUFpQixRQUFqQixDQUEwQixRQUExQjtBQUNBLE9BQUssUUFBTCxHQUFnQixRQUFoQjs7QUFDQSwwQkFBZSxnQkFBZixDQUFnQyxDQUFoQyxFQUFtQyxDQUFuQztBQUNIOztBQUVELFNBQVMsU0FBVCxHQUFrQjtBQUNkLE1BQUcsS0FBSyxHQUFSLEVBQWE7QUFDVCxTQUFLLEdBQUwsQ0FBUyxVQUFULENBQW9CLElBQXBCO0FBQ0gsR0FIYSxDQUlkOzs7QUFDQSxRQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsV0FBakIsQ0FBNkIsS0FBSyxRQUFsQztBQUNBLFFBQU0sQ0FBQyxlQUFQLENBQXVCLE1BQXZCLENBQThCLE1BQU0sQ0FBQyxlQUFQLENBQXVCLE9BQXZCLENBQStCLElBQS9CLENBQTlCLEVBQW9FLENBQXBFO0FBQ0g7O0FBRUQsU0FBUyxPQUFULEdBQWdCO0FBQ1osT0FBSyxDQUFMLElBQVUsS0FBSyxJQUFmO0FBQ0EsT0FBSyxDQUFMLElBQVUsS0FBSyxJQUFmO0FBQ0EsT0FBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixLQUFLLENBQXZCO0FBQ0EsT0FBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixLQUFLLENBQXZCO0FBQ0g7O0FBRUQsU0FBUyxZQUFULEdBQXFCO0FBQ2pCLE1BQUcsRUFBRSxLQUFLLFNBQVAsSUFBb0IsS0FBSyxXQUE1QixFQUF5QztBQUNyQyxTQUFLLFNBQUw7QUFDQSxXQUFPLFNBQVA7QUFDSCxHQUhELE1BR087QUFDSCxTQUFLLE9BQUw7QUFDSDtBQUNKOztlQUVjO0FBQUMsaUJBQWUsRUFBZjtBQUFELEMiLCJmaWxlIjoiMjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdlYXBvblR5cGVzIGZyb20gJy4uL1dlYXBvblR5cGVzJztcbmltcG9ydCBFZmZlY3RzRmFjdG9yeSBmcm9tICd+L2VmZmVjdHMvRWZmZWN0c0ZhY3RvcnknO1xuaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcblxuZnVuY3Rpb24gZHJhd0FuZEFkZFByb3BzKCkge1xuICAgIGNvbnN0IHsgeCwgeSwgYW5nbGUsIGFpbSB9ID0gdGhpcztcbiAgICBjb25zdCB7IHNwZWVkIH0gPSB3ZWFwb25UeXBlc1snU09MSURFUl9SRUdVTEFSJ107XG4gICAgdGhpcy5tb2RYID0gTWF0aC5zaW4oYW5nbGUpICogc3BlZWQ7XG4gICAgdGhpcy5tb2RZID0gLU1hdGguY29zKGFuZ2xlKSAqIHNwZWVkO1xuICAgIHRoaXMuaGl0ID0gVXRpbHMud2hlcmUoeCwgeSwgYW5nbGUsIGFpbS54LCBhaW0ueSwgYWltLnJhZGl1cykgPT09IDA7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IFV0aWxzLmRpcyh0aGlzLCBhaW0pO1xuICAgIHRoaXMudG90YWxGcmFtZXMgPSBkaXN0YW5jZSAvIHNwZWVkO1xuXG4gICAgaWYoIXRoaXMuaGl0KSB7Ly9hZGQgb3Igc3VidHJhY3Qgc29iZSBmcmFtZXMgaWYgYnVsbGV0IHdvbid0IGhpdCB0YXJnZXRcbiAgICAgICAgdGhpcy50b3RhbEZyYW1lcyArPSBVdGlscy5ub3JtYWxSYW5kb21MVVQoTWF0aC5mbG9vcih0aGlzLnRvdGFsRnJhbWVzICogMC4xKSk7XG4gICAgfVxuICAgIHRoaXMuY3VyckZyYW1lID0gMDtcbiAgICB0aGlzLnVwZGF0ZUJ1bGxldCA9IHVwZGF0ZUJ1bGxldDtcbiAgICB0aGlzLmFuaW1hdGUgPSBhbmltYXRlO1xuICAgIHRoaXMub25EZXN0cm95ID0gb25EZXN0cm95O1xuXG4gICAgY29uc3QgZ3JhcGhpY3MgPSBuZXcgd2luZG93LlBJWEkuR3JhcGhpY3MoKTtcbiAgICBncmFwaGljcy5iZWdpbkZpbGwoMHhBQUZGRkYpO1xuICAgIGdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIDUsIDUpO1xuICAgIGdyYXBoaWNzLnggPSB4O1xuICAgIGdyYXBoaWNzLnkgPSB5O1xuICAgIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQoZ3JhcGhpY3MpO1xuICAgIHRoaXMuZ3JhcGhpY3MgPSBncmFwaGljcztcbiAgICBFZmZlY3RzRmFjdG9yeS5jcmVhdGVGaXJlRWZmZWN0KHgsIHkpO1xufVxuXG5mdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgaWYodGhpcy5oaXQpIHtcbiAgICAgICAgdGhpcy5haW0udGFrZURhbWFnZSh0aGlzKTtcbiAgICB9XG4gICAgLy9hZGQgYnVsbGV0IGFuaW1hdGlvblxuICAgIHdpbmRvdy5hcHAuc3RhZ2UucmVtb3ZlQ2hpbGQodGhpcy5ncmFwaGljcyk7XG4gICAgd2luZG93LmJ1bGxldENvbnRhaW5lci5zcGxpY2Uod2luZG93LmJ1bGxldENvbnRhaW5lci5pbmRleE9mKHRoaXMpLCAxKTtcbn1cblxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICB0aGlzLnggKz0gdGhpcy5tb2RYO1xuICAgIHRoaXMueSArPSB0aGlzLm1vZFk7XG4gICAgdGhpcy5ncmFwaGljcy54ID0gdGhpcy54O1xuICAgIHRoaXMuZ3JhcGhpY3MueSA9IHRoaXMueTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQnVsbGV0KCkge1xuICAgIGlmKCsrdGhpcy5jdXJyRnJhbWUgPj0gdGhpcy50b3RhbEZyYW1lcykge1xuICAgICAgICB0aGlzLm9uRGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gJ0RFU1RST1knOyBcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFuaW1hdGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtkcmF3QW5kQWRkUHJvcHN9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///213\n")},214:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _WeaponTypes = _interopRequireDefault(__webpack_require__(197));\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction drawAndAddProps() {\n  var x = this.x,\n      y = this.y,\n      angle = this.angle,\n      aim = this.aim;\n  var speed = _WeaponTypes.default['WARRIOR_REGULAR'].speed;\n  this.modX = Math.sin(angle) * speed;\n  this.modY = -Math.cos(angle) * speed;\n  this.hit = _Utils.default.where(x, y, angle, aim.x, aim.y, aim.radius) === 0;\n\n  var distance = _Utils.default.dis(this, aim);\n\n  this.totalFrames = distance / speed;\n\n  if (!this.hit) {\n    //add or subtract sobe frames if bullet won't hit target\n    this.totalFrames += _Utils.default.normalRandomLUT(Math.floor(this.totalFrames * 0.1));\n  }\n\n  this.currFrame = 0;\n  this.updateBullet = updateBullet;\n  this.onDestroy = onDestroy;\n  this.animate = animate;\n  var graphics = new window.PIXI.Graphics();\n  graphics.beginFill(0xAAFFFF);\n  graphics.drawRect(0, 0, 5, 5);\n  graphics.x = x;\n  graphics.y = y;\n  window.app.stage.addChild(graphics);\n  this.graphics = graphics;\n\n  _EffectsFactory.default.createFireEffect(x, y);\n}\n\nfunction onDestroy() {\n  if (this.hit) {\n    this.aim.takeDamage(this);\n  } //add bullet animation\n\n\n  window.app.stage.removeChild(this.graphics);\n  window.bulletContainer.splice(window.bulletContainer.indexOf(this), 1);\n}\n\nfunction animate() {\n  this.x += this.modX;\n  this.y += this.modY;\n  this.graphics.x = this.x;\n  this.graphics.y = this.y;\n}\n\nfunction updateBullet() {\n  if (++this.currFrame >= this.totalFrames) {\n    this.onDestroy();\n    return 'DESTROY';\n  } else {\n    this.animate();\n  }\n}\n\nvar _default = {\n  drawAndAddProps: drawAndAddProps\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2VhcG9ucy93ZWFwb25UeXBlcy93YXJyaW9yUmVndWxhci50cz9kMTFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLFNBQVMsZUFBVCxHQUF3QjtBQUFBLE1BQ1osQ0FEWSxHQUNTLElBRFQsQ0FDWixDQURZO0FBQUEsTUFDVCxDQURTLEdBQ1MsSUFEVCxDQUNULENBRFM7QUFBQSxNQUNOLEtBRE0sR0FDUyxJQURULENBQ04sS0FETTtBQUFBLE1BQ0MsR0FERCxHQUNTLElBRFQsQ0FDQyxHQUREO0FBQUEsTUFFWixLQUZZLEdBRUYscUJBQVksaUJBQVosQ0FGRSxDQUVaLEtBRlk7QUFHcEIsT0FBSyxJQUFMLEdBQVksSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULElBQWtCLEtBQTlCO0FBQ0EsT0FBSyxJQUFMLEdBQVksQ0FBQyxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsQ0FBRCxHQUFtQixLQUEvQjtBQUNBLE9BQUssR0FBTCxHQUFXLGVBQU0sS0FBTixDQUFZLENBQVosRUFBZSxDQUFmLEVBQWtCLEtBQWxCLEVBQXlCLEdBQUcsQ0FBQyxDQUE3QixFQUFnQyxHQUFHLENBQUMsQ0FBcEMsRUFBdUMsR0FBRyxDQUFDLE1BQTNDLE1BQXVELENBQWxFOztBQUVBLE1BQU0sUUFBUSxHQUFHLGVBQU0sR0FBTixDQUFVLElBQVYsRUFBZ0IsR0FBaEIsQ0FBakI7O0FBQ0EsT0FBSyxXQUFMLEdBQW1CLFFBQVEsR0FBRyxLQUE5Qjs7QUFFQSxNQUFHLENBQUMsS0FBSyxHQUFULEVBQWM7QUFBQztBQUNYLFNBQUssV0FBTCxJQUFvQixlQUFNLGVBQU4sQ0FBc0IsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFLLFdBQUwsR0FBbUIsR0FBOUIsQ0FBdEIsQ0FBcEI7QUFDSDs7QUFDRCxPQUFLLFNBQUwsR0FBaUIsQ0FBakI7QUFDQSxPQUFLLFlBQUwsR0FBb0IsWUFBcEI7QUFDQSxPQUFLLFNBQUwsR0FBaUIsU0FBakI7QUFDQSxPQUFLLE9BQUwsR0FBZSxPQUFmO0FBRUEsTUFBTSxRQUFRLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBUCxDQUFZLFFBQWhCLEVBQWpCO0FBQ0EsVUFBUSxDQUFDLFNBQVQsQ0FBbUIsUUFBbkI7QUFDQSxVQUFRLENBQUMsUUFBVCxDQUFrQixDQUFsQixFQUFxQixDQUFyQixFQUF3QixDQUF4QixFQUEyQixDQUEzQjtBQUNBLFVBQVEsQ0FBQyxDQUFULEdBQWEsQ0FBYjtBQUNBLFVBQVEsQ0FBQyxDQUFULEdBQWEsQ0FBYjtBQUNBLFFBQU0sQ0FBQyxHQUFQLENBQVcsS0FBWCxDQUFpQixRQUFqQixDQUEwQixRQUExQjtBQUNBLE9BQUssUUFBTCxHQUFnQixRQUFoQjs7QUFDQSwwQkFBZSxnQkFBZixDQUFnQyxDQUFoQyxFQUFtQyxDQUFuQztBQUNIOztBQUVELFNBQVMsU0FBVCxHQUFrQjtBQUNkLE1BQUcsS0FBSyxHQUFSLEVBQWE7QUFDVCxTQUFLLEdBQUwsQ0FBUyxVQUFULENBQW9CLElBQXBCO0FBQ0gsR0FIYSxDQUlkOzs7QUFDQSxRQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsV0FBakIsQ0FBNkIsS0FBSyxRQUFsQztBQUNBLFFBQU0sQ0FBQyxlQUFQLENBQXVCLE1BQXZCLENBQThCLE1BQU0sQ0FBQyxlQUFQLENBQXVCLE9BQXZCLENBQStCLElBQS9CLENBQTlCLEVBQW9FLENBQXBFO0FBQ0g7O0FBRUQsU0FBUyxPQUFULEdBQWdCO0FBQ1osT0FBSyxDQUFMLElBQVUsS0FBSyxJQUFmO0FBQ0EsT0FBSyxDQUFMLElBQVUsS0FBSyxJQUFmO0FBQ0EsT0FBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixLQUFLLENBQXZCO0FBQ0EsT0FBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixLQUFLLENBQXZCO0FBQ0g7O0FBRUQsU0FBUyxZQUFULEdBQXFCO0FBQ2pCLE1BQUcsRUFBRSxLQUFLLFNBQVAsSUFBb0IsS0FBSyxXQUE1QixFQUF5QztBQUNyQyxTQUFLLFNBQUw7QUFDQSxXQUFPLFNBQVA7QUFDSCxHQUhELE1BR087QUFDSCxTQUFLLE9BQUw7QUFDSDtBQUNKOztlQUVjO0FBQUMsaUJBQWUsRUFBZjtBQUFELEMiLCJmaWxlIjoiMjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdlYXBvblR5cGVzIGZyb20gJy4uL1dlYXBvblR5cGVzJztcbmltcG9ydCBFZmZlY3RzRmFjdG9yeSBmcm9tICd+L2VmZmVjdHMvRWZmZWN0c0ZhY3RvcnknO1xuaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcblxuZnVuY3Rpb24gZHJhd0FuZEFkZFByb3BzKCkge1xuICAgIGNvbnN0IHsgeCwgeSwgYW5nbGUsIGFpbSB9ID0gdGhpcztcbiAgICBjb25zdCB7IHNwZWVkIH0gPSB3ZWFwb25UeXBlc1snV0FSUklPUl9SRUdVTEFSJ107XG4gICAgdGhpcy5tb2RYID0gTWF0aC5zaW4oYW5nbGUpICogc3BlZWQ7XG4gICAgdGhpcy5tb2RZID0gLU1hdGguY29zKGFuZ2xlKSAqIHNwZWVkO1xuICAgIHRoaXMuaGl0ID0gVXRpbHMud2hlcmUoeCwgeSwgYW5nbGUsIGFpbS54LCBhaW0ueSwgYWltLnJhZGl1cykgPT09IDA7XG5cbiAgICBjb25zdCBkaXN0YW5jZSA9IFV0aWxzLmRpcyh0aGlzLCBhaW0pO1xuICAgIHRoaXMudG90YWxGcmFtZXMgPSBkaXN0YW5jZSAvIHNwZWVkO1xuXG4gICAgaWYoIXRoaXMuaGl0KSB7Ly9hZGQgb3Igc3VidHJhY3Qgc29iZSBmcmFtZXMgaWYgYnVsbGV0IHdvbid0IGhpdCB0YXJnZXRcbiAgICAgICAgdGhpcy50b3RhbEZyYW1lcyArPSBVdGlscy5ub3JtYWxSYW5kb21MVVQoTWF0aC5mbG9vcih0aGlzLnRvdGFsRnJhbWVzICogMC4xKSk7XG4gICAgfVxuICAgIHRoaXMuY3VyckZyYW1lID0gMDtcbiAgICB0aGlzLnVwZGF0ZUJ1bGxldCA9IHVwZGF0ZUJ1bGxldDtcbiAgICB0aGlzLm9uRGVzdHJveSA9IG9uRGVzdHJveTtcbiAgICB0aGlzLmFuaW1hdGUgPSBhbmltYXRlO1xuXG4gICAgY29uc3QgZ3JhcGhpY3MgPSBuZXcgd2luZG93LlBJWEkuR3JhcGhpY3MoKTtcbiAgICBncmFwaGljcy5iZWdpbkZpbGwoMHhBQUZGRkYpO1xuICAgIGdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIDUsIDUpO1xuICAgIGdyYXBoaWNzLnggPSB4O1xuICAgIGdyYXBoaWNzLnkgPSB5O1xuICAgIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQoZ3JhcGhpY3MpO1xuICAgIHRoaXMuZ3JhcGhpY3MgPSBncmFwaGljcztcbiAgICBFZmZlY3RzRmFjdG9yeS5jcmVhdGVGaXJlRWZmZWN0KHgsIHkpO1xufVxuXG5mdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgaWYodGhpcy5oaXQpIHtcbiAgICAgICAgdGhpcy5haW0udGFrZURhbWFnZSh0aGlzKTtcbiAgICB9XG4gICAgLy9hZGQgYnVsbGV0IGFuaW1hdGlvblxuICAgIHdpbmRvdy5hcHAuc3RhZ2UucmVtb3ZlQ2hpbGQodGhpcy5ncmFwaGljcyk7XG4gICAgd2luZG93LmJ1bGxldENvbnRhaW5lci5zcGxpY2Uod2luZG93LmJ1bGxldENvbnRhaW5lci5pbmRleE9mKHRoaXMpLCAxKTtcbn1cblxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICB0aGlzLnggKz0gdGhpcy5tb2RYO1xuICAgIHRoaXMueSArPSB0aGlzLm1vZFk7XG4gICAgdGhpcy5ncmFwaGljcy54ID0gdGhpcy54O1xuICAgIHRoaXMuZ3JhcGhpY3MueSA9IHRoaXMueTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQnVsbGV0KCkge1xuICAgIGlmKCsrdGhpcy5jdXJyRnJhbWUgPj0gdGhpcy50b3RhbEZyYW1lcykge1xuICAgICAgICB0aGlzLm9uRGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gJ0RFU1RST1knOyAgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hbmltYXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7ZHJhd0FuZEFkZFByb3BzfTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///214\n")},215:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction drawAndAddProps() {\n  var x = this.x,\n      y = this.y,\n      angle = this.angle,\n      aim = this.aim;\n  this.hit = _Utils.default.where(x, y, angle, aim.x, aim.y, aim.radius) === 0;\n\n  var distance = _Utils.default.dis(aim, this);\n\n  distance = this.hit ? distance : distance + _Utils.default.normalRandomLUT(distance * 0.2);\n  var shotX = Math.sin(angle) * distance + x,\n      shotY = -Math.cos(angle) * distance + y;\n  this.totalFrames = 20;\n  this.currFrame = 0;\n  this.updateBullet = updateBullet;\n  this.animate = animate;\n  this.onDestroy = onDestroy;\n  var graphics = new window.PIXI.Graphics();\n  graphics.lineStyle(3, 0xffffff).moveTo(x, y).lineTo(shotX, shotY);\n  window.app.stage.addChild(graphics);\n  this.graphics = graphics;\n\n  _EffectsFactory.default.createLaserEffect(x, y);\n}\n\nfunction onDestroy() {\n  if (this.hit) {\n    this.aim.takeDamage(this);\n  } //add bullet animation\n\n\n  window.app.stage.removeChild(this.graphics);\n  window.bulletContainer.splice(window.bulletContainer.indexOf(this), 1);\n}\n\nfunction animate() {\n  this.graphics.alpha = this.currFrame / this.totalFrames;\n}\n\nfunction updateBullet() {\n  if (++this.currFrame >= this.totalFrames) {\n    this.onDestroy();\n    return 'DESTROY';\n  } else {\n    this.animate();\n  }\n}\n\nvar _default = {\n  drawAndAddProps: drawAndAddProps\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2VhcG9ucy93ZWFwb25UeXBlcy9zb2xpZGVyTGFzZXIudHM/Mjg5NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxTQUFTLGVBQVQsR0FBd0I7QUFBQSxNQUNaLENBRFksR0FDUyxJQURULENBQ1osQ0FEWTtBQUFBLE1BQ1QsQ0FEUyxHQUNTLElBRFQsQ0FDVCxDQURTO0FBQUEsTUFDTixLQURNLEdBQ1MsSUFEVCxDQUNOLEtBRE07QUFBQSxNQUNDLEdBREQsR0FDUyxJQURULENBQ0MsR0FERDtBQUVwQixPQUFLLEdBQUwsR0FBVyxlQUFNLEtBQU4sQ0FBWSxDQUFaLEVBQWUsQ0FBZixFQUFrQixLQUFsQixFQUF5QixHQUFHLENBQUMsQ0FBN0IsRUFBZ0MsR0FBRyxDQUFDLENBQXBDLEVBQXVDLEdBQUcsQ0FBQyxNQUEzQyxNQUF1RCxDQUFsRTs7QUFDQSxNQUFJLFFBQVEsR0FBRyxlQUFNLEdBQU4sQ0FBVSxHQUFWLEVBQWUsSUFBZixDQUFmOztBQUNBLFVBQVEsR0FBRyxLQUFLLEdBQUwsR0FBVyxRQUFYLEdBQXNCLFFBQVEsR0FBRyxlQUFNLGVBQU4sQ0FBc0IsUUFBUSxHQUFHLEdBQWpDLENBQTVDO0FBRUEsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULElBQWtCLFFBQWxCLEdBQTZCLENBQTNDO0FBQUEsTUFDTSxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsQ0FBRCxHQUFtQixRQUFuQixHQUE4QixDQUQ1QztBQUdBLE9BQUssV0FBTCxHQUFtQixFQUFuQjtBQUNBLE9BQUssU0FBTCxHQUFpQixDQUFqQjtBQUNBLE9BQUssWUFBTCxHQUFvQixZQUFwQjtBQUNBLE9BQUssT0FBTCxHQUFlLE9BQWY7QUFDQSxPQUFLLFNBQUwsR0FBaUIsU0FBakI7QUFFQSxNQUFNLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFQLENBQVksUUFBaEIsRUFBakI7QUFDQSxVQUFRLENBQUMsU0FBVCxDQUFtQixDQUFuQixFQUFzQixRQUF0QixFQUNJLE1BREosQ0FDVyxDQURYLEVBQ2MsQ0FEZCxFQUVJLE1BRkosQ0FFVyxLQUZYLEVBRWtCLEtBRmxCO0FBR0EsUUFBTSxDQUFDLEdBQVAsQ0FBVyxLQUFYLENBQWlCLFFBQWpCLENBQTBCLFFBQTFCO0FBQ0EsT0FBSyxRQUFMLEdBQWdCLFFBQWhCOztBQUNBLDBCQUFlLGlCQUFmLENBQWlDLENBQWpDLEVBQW9DLENBQXBDO0FBQ0g7O0FBRUQsU0FBUyxTQUFULEdBQWtCO0FBQ2QsTUFBRyxLQUFLLEdBQVIsRUFBYTtBQUNULFNBQUssR0FBTCxDQUFTLFVBQVQsQ0FBb0IsSUFBcEI7QUFDSCxHQUhhLENBSWQ7OztBQUNBLFFBQU0sQ0FBQyxHQUFQLENBQVcsS0FBWCxDQUFpQixXQUFqQixDQUE2QixLQUFLLFFBQWxDO0FBQ0EsUUFBTSxDQUFDLGVBQVAsQ0FBdUIsTUFBdkIsQ0FBOEIsTUFBTSxDQUFDLGVBQVAsQ0FBdUIsT0FBdkIsQ0FBK0IsSUFBL0IsQ0FBOUIsRUFBb0UsQ0FBcEU7QUFDSDs7QUFFRCxTQUFTLE9BQVQsR0FBZ0I7QUFDWixPQUFLLFFBQUwsQ0FBYyxLQUFkLEdBQXNCLEtBQUssU0FBTCxHQUFpQixLQUFLLFdBQTVDO0FBQ0g7O0FBRUQsU0FBUyxZQUFULEdBQXFCO0FBQ2pCLE1BQUcsRUFBRSxLQUFLLFNBQVAsSUFBb0IsS0FBSyxXQUE1QixFQUF5QztBQUNyQyxTQUFLLFNBQUw7QUFDQSxXQUFPLFNBQVA7QUFDSCxHQUhELE1BR087QUFDSCxTQUFLLE9BQUw7QUFDSDtBQUNKOztlQUVjO0FBQUMsaUJBQWUsRUFBZjtBQUFELEMiLCJmaWxlIjoiMjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdlYXBvblR5cGVzIGZyb20gJy4uL1dlYXBvblR5cGVzJztcbmltcG9ydCBFZmZlY3RzRmFjdG9yeSBmcm9tICd+L2VmZmVjdHMvRWZmZWN0c0ZhY3RvcnknO1xuaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcblxuZnVuY3Rpb24gZHJhd0FuZEFkZFByb3BzKCkge1xuICAgIGNvbnN0IHsgeCwgeSwgYW5nbGUsIGFpbSB9ID0gdGhpcztcbiAgICB0aGlzLmhpdCA9IFV0aWxzLndoZXJlKHgsIHksIGFuZ2xlLCBhaW0ueCwgYWltLnksIGFpbS5yYWRpdXMpID09PSAwO1xuICAgIGxldCBkaXN0YW5jZSA9IFV0aWxzLmRpcyhhaW0sIHRoaXMpO1xuICAgIGRpc3RhbmNlID0gdGhpcy5oaXQgPyBkaXN0YW5jZSA6IGRpc3RhbmNlICsgVXRpbHMubm9ybWFsUmFuZG9tTFVUKGRpc3RhbmNlICogMC4yKTtcblxuICAgIGNvbnN0IHNob3RYID0gTWF0aC5zaW4oYW5nbGUpICogZGlzdGFuY2UgKyB4LFxuICAgICAgICAgIHNob3RZID0gLU1hdGguY29zKGFuZ2xlKSAqIGRpc3RhbmNlICsgeTtcblxuICAgIHRoaXMudG90YWxGcmFtZXMgPSAyMDtcbiAgICB0aGlzLmN1cnJGcmFtZSA9IDA7XG4gICAgdGhpcy51cGRhdGVCdWxsZXQgPSB1cGRhdGVCdWxsZXQ7XG4gICAgdGhpcy5hbmltYXRlID0gYW5pbWF0ZTtcbiAgICB0aGlzLm9uRGVzdHJveSA9IG9uRGVzdHJveTtcblxuICAgIGNvbnN0IGdyYXBoaWNzID0gbmV3IHdpbmRvdy5QSVhJLkdyYXBoaWNzKCk7XG4gICAgZ3JhcGhpY3MubGluZVN0eWxlKDMsIDB4ZmZmZmZmKVxuICAgICAgIC5tb3ZlVG8oeCwgeSlcbiAgICAgICAubGluZVRvKHNob3RYLCBzaG90WSk7XG4gICAgd2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChncmFwaGljcyk7XG4gICAgdGhpcy5ncmFwaGljcyA9IGdyYXBoaWNzO1xuICAgIEVmZmVjdHNGYWN0b3J5LmNyZWF0ZUxhc2VyRWZmZWN0KHgsIHkpO1xufVxuXG5mdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgaWYodGhpcy5oaXQpIHtcbiAgICAgICAgdGhpcy5haW0udGFrZURhbWFnZSh0aGlzKTtcbiAgICB9XG4gICAgLy9hZGQgYnVsbGV0IGFuaW1hdGlvblxuICAgIHdpbmRvdy5hcHAuc3RhZ2UucmVtb3ZlQ2hpbGQodGhpcy5ncmFwaGljcyk7XG4gICAgd2luZG93LmJ1bGxldENvbnRhaW5lci5zcGxpY2Uod2luZG93LmJ1bGxldENvbnRhaW5lci5pbmRleE9mKHRoaXMpLCAxKTtcbn1cblxuZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICB0aGlzLmdyYXBoaWNzLmFscGhhID0gdGhpcy5jdXJyRnJhbWUgLyB0aGlzLnRvdGFsRnJhbWVzO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVCdWxsZXQoKSB7XG4gICAgaWYoKyt0aGlzLmN1cnJGcmFtZSA+PSB0aGlzLnRvdGFsRnJhbWVzKSB7XG4gICAgICAgIHRoaXMub25EZXN0cm95KCk7XG4gICAgICAgIHJldHVybiAnREVTVFJPWSc7ICAgICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFuaW1hdGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtkcmF3QW5kQWRkUHJvcHN9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///215\n")},216:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _consts = _interopRequireDefault(__webpack_require__(198));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default(type, source, target) {\n  var center = {\n    x: (source.x + source.aim.x) / 2,\n    y: (source.y + source.aim.y) / 2 + 200\n  };\n  var A1 = -Math.pow(source.x, 2) + Math.pow(center.x, 2),\n      B1 = -source.x + center.x,\n      D1 = -source.y + center.y,\n      A2 = -Math.pow(center.x, 2) + Math.pow(source.aim.x, 2),\n      B2 = -center.x + source.aim.x,\n      D2 = -center.y + source.aim.y,\n      Bmulti = -(B2 / B1),\n      A3 = Bmulti * A1 + A2,\n      D3 = Bmulti * D1 + D2,\n      a = D3 / A3,\n      b = (D1 - A1 * a) / B1,\n      c = source.y - a * Math.pow(source.x, 2) - b * source.x;\n  source.state = _consts.default.ABILITY; // TODO: what if state = DIE, GETUP, FLY?\n\n  source.jumpFunction = function (x) {\n    return a * Math.pow(x, 2) + b * x + c;\n  };\n\n  source.modX *= 2.5;\n  source.modY *= 2.5;\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWJpbGl0aWVzL3R5cGVzL2p1bXBpbmcudHM/MjhkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0E7Ozs7ZUFJZSxrQkFBQyxJQUFELEVBQWUsTUFBZixFQUE0QixNQUE1QixFQUE0RDtBQUN2RSxNQUFNLE1BQU0sR0FBRztBQUNYLEtBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFQLEdBQVcsTUFBTSxDQUFDLEdBQVAsQ0FBVyxDQUF2QixJQUE0QixDQURwQjtBQUVYLEtBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFQLEdBQVcsTUFBTSxDQUFDLEdBQVAsQ0FBVyxDQUF2QixJQUE0QixDQUE1QixHQUFnQztBQUZ4QixHQUFmO0FBS0EsTUFBTSxFQUFFLEdBQUcsVUFBRSxNQUFNLENBQUMsQ0FBVCxFQUFjLENBQWQsYUFBbUIsTUFBTSxDQUFDLENBQTFCLEVBQStCLENBQS9CLENBQVg7QUFBQSxNQUNNLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFSLEdBQVksTUFBTSxDQUFDLENBRDlCO0FBQUEsTUFFTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBUixHQUFZLE1BQU0sQ0FBQyxDQUY5QjtBQUFBLE1BR00sRUFBRSxHQUFHLFVBQUUsTUFBTSxDQUFDLENBQVQsRUFBYyxDQUFkLGFBQW1CLE1BQU0sQ0FBQyxHQUFQLENBQVcsQ0FBOUIsRUFBbUMsQ0FBbkMsQ0FIWDtBQUFBLE1BSU0sRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQVIsR0FBWSxNQUFNLENBQUMsR0FBUCxDQUFXLENBSmxDO0FBQUEsTUFLTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBUixHQUFZLE1BQU0sQ0FBQyxHQUFQLENBQVcsQ0FMbEM7QUFBQSxNQU1NLE1BQU0sR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFQLENBTmY7QUFBQSxNQU9NLEVBQUUsR0FBRyxNQUFNLEdBQUcsRUFBVCxHQUFjLEVBUHpCO0FBQUEsTUFRTSxFQUFFLEdBQUcsTUFBTSxHQUFHLEVBQVQsR0FBYyxFQVJ6QjtBQUFBLE1BU00sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQVRmO0FBQUEsTUFVTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQVgsSUFBZ0IsRUFWMUI7QUFBQSxNQVdNLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBUCxHQUFXLENBQUMsWUFBSSxNQUFNLENBQUMsQ0FBWCxFQUFnQixDQUFoQixDQUFaLEdBQWlDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FYdEQ7QUFhQSxRQUFNLENBQUMsS0FBUCxHQUFlLGdCQUFNLE9BQXJCLENBbkJ1RSxDQW1CekM7O0FBQzlCLFFBQU0sQ0FBQyxZQUFQLEdBQXNCLFVBQUMsQ0FBRDtBQUFBLFdBQWUsQ0FBQyxZQUFJLENBQUosRUFBUyxDQUFULENBQUQsR0FBZSxDQUFDLEdBQUcsQ0FBbkIsR0FBdUIsQ0FBdEM7QUFBQSxHQUF0Qjs7QUFDQSxRQUFNLENBQUMsSUFBUCxJQUFlLEdBQWY7QUFDQSxRQUFNLENBQUMsSUFBUCxJQUFlLEdBQWY7QUFDSCxDIiwiZmlsZSI6IjIxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWFwb25UeXBlcyBmcm9tICd+L3dlYXBvbnMvV2VhcG9uVHlwZXMnO1xuaW1wb3J0IEVmZmVjdHNGYWN0b3J5IGZyb20gJ34vZWZmZWN0cy9FZmZlY3RzRmFjdG9yeSc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnVXRpbHMnO1xuaW1wb3J0IFNUQVRFIGZyb20gJ34vbW9kdWxlcy9jb25zdHMnO1xuaW1wb3J0IFVuaXQgZnJvbSAnfi91bml0cy9Vbml0JztcbmltcG9ydCBTcXVhZCBmcm9tICd+L3VuaXRzL1NxdWFkJztcblxuZXhwb3J0IGRlZmF1bHQgKHR5cGU6IHN0cmluZywgc291cmNlOiBhbnksIHRhcmdldDogVW5pdCB8IFBvaW50IHwgU3F1YWQpID0+IHtcbiAgICBjb25zdCBjZW50ZXIgPSB7XG4gICAgICAgIHg6IChzb3VyY2UueCArIHNvdXJjZS5haW0ueCkgLyAyLFxuICAgICAgICB5OiAoc291cmNlLnkgKyBzb3VyY2UuYWltLnkpIC8gMiArIDIwMCwgLy8gMjAwIC0gaGVpZ2h0IG9mIGp1bXAsIGluIFdhcnJpb3JBc3NhdWx0LnRzXG4gICAgfVxuXG4gICAgY29uc3QgQTEgPSAtKHNvdXJjZS54ICoqIDIpICsgY2VudGVyLnggKiogMixcbiAgICAgICAgICBCMSA9IC1zb3VyY2UueCArIGNlbnRlci54LFxuICAgICAgICAgIEQxID0gLXNvdXJjZS55ICsgY2VudGVyLnksXG4gICAgICAgICAgQTIgPSAtKGNlbnRlci54ICoqIDIpICsgc291cmNlLmFpbS54ICoqIDIsXG4gICAgICAgICAgQjIgPSAtY2VudGVyLnggKyBzb3VyY2UuYWltLngsXG4gICAgICAgICAgRDIgPSAtY2VudGVyLnkgKyBzb3VyY2UuYWltLnksXG4gICAgICAgICAgQm11bHRpID0gLShCMiAvIEIxKSxcbiAgICAgICAgICBBMyA9IEJtdWx0aSAqIEExICsgQTIsXG4gICAgICAgICAgRDMgPSBCbXVsdGkgKiBEMSArIEQyLFxuICAgICAgICAgIGEgPSBEMyAvIEEzLFxuICAgICAgICAgIGIgPSAoRDEgLSBBMSAqIGEpIC8gQjEsXG4gICAgICAgICAgYyA9IHNvdXJjZS55IC0gYSAqIChzb3VyY2UueCAqKiAyKSAtIGIgKiBzb3VyY2UueDtcblxuICAgIHNvdXJjZS5zdGF0ZSA9IFNUQVRFLkFCSUxJVFk7IC8vIFRPRE86IHdoYXQgaWYgc3RhdGUgPSBESUUsIEdFVFVQLCBGTFk/XG4gICAgc291cmNlLmp1bXBGdW5jdGlvbiA9ICh4OiBudW1iZXIpID0+IGEgKiAoeCAqKiAyKSArIGIgKiB4ICsgYztcbiAgICBzb3VyY2UubW9kWCAqPSAyLjU7XG4gICAgc291cmNlLm1vZFkgKj0gMi41O1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///216\n')},217:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default() {\n  return function () {\n    var grenade = new PIXI.Sprite(PIXI.loader.resources['assets/grenade-icon.png'].texture);\n    grenade.width = _gameSettings.default.ABILITY_ICON_SIZE;\n    grenade.height = _gameSettings.default.ABILITY_ICON_SIZE;\n    return grenade;\n  };\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlcy9pY29uR3JlbmFkZVNwcml0ZS50cz8yN2Q0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztlQUVlLG9CQUFLO0FBQ2hCLFNBQU8sWUFBSztBQUNkLFFBQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQVQsQ0FBZ0IsSUFBSSxDQUFDLE1BQUwsQ0FBWSxTQUFaLENBQXNCLHlCQUF0QixFQUFpRCxPQUFqRSxDQUFoQjtBQUNBLFdBQU8sQ0FBQyxLQUFSLEdBQWdCLHNCQUFTLGlCQUF6QjtBQUNBLFdBQU8sQ0FBQyxNQUFSLEdBQWlCLHNCQUFTLGlCQUExQjtBQUNBLFdBQU8sT0FBUDtBQUNBLEdBTEU7QUFNSCxDIiwiZmlsZSI6IjIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTRVRUSU5HUyBmcm9tICdTZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuXHRcdGNvbnN0IGdyZW5hZGUgPSBuZXcgUElYSS5TcHJpdGUoUElYSS5sb2FkZXIucmVzb3VyY2VzWydhc3NldHMvZ3JlbmFkZS1pY29uLnBuZyddLnRleHR1cmUpO1xuXHRcdGdyZW5hZGUud2lkdGggPSBTRVRUSU5HUy5BQklMSVRZX0lDT05fU0laRTtcblx0XHRncmVuYWRlLmhlaWdodCA9IFNFVFRJTkdTLkFCSUxJVFlfSUNPTl9TSVpFO1xuXHRcdHJldHVybiBncmVuYWRlO1xuXHR9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///217\n")},218:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default() {\n  return function () {\n    var grenade = new PIXI.Sprite(PIXI.loader.resources['assets/jump-icon.png'].texture);\n    grenade.width = _gameSettings.default.ABILITY_ICON_SIZE;\n    grenade.height = _gameSettings.default.ABILITY_ICON_SIZE;\n    return grenade;\n  };\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlcy9pY29uSnVtcFNwcml0ZS50cz80ODYwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztlQUVlLG9CQUFLO0FBQ2hCLFNBQU8sWUFBSztBQUNkLFFBQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQVQsQ0FBZ0IsSUFBSSxDQUFDLE1BQUwsQ0FBWSxTQUFaLENBQXNCLHNCQUF0QixFQUE4QyxPQUE5RCxDQUFoQjtBQUNBLFdBQU8sQ0FBQyxLQUFSLEdBQWdCLHNCQUFTLGlCQUF6QjtBQUNBLFdBQU8sQ0FBQyxNQUFSLEdBQWlCLHNCQUFTLGlCQUExQjtBQUNBLFdBQU8sT0FBUDtBQUNBLEdBTEU7QUFNSCxDIiwiZmlsZSI6IjIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTRVRUSU5HUyBmcm9tICdTZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuXHRcdGNvbnN0IGdyZW5hZGUgPSBuZXcgUElYSS5TcHJpdGUoUElYSS5sb2FkZXIucmVzb3VyY2VzWydhc3NldHMvanVtcC1pY29uLnBuZyddLnRleHR1cmUpO1xuXHRcdGdyZW5hZGUud2lkdGggPSBTRVRUSU5HUy5BQklMSVRZX0lDT05fU0laRTtcblx0XHRncmVuYWRlLmhlaWdodCA9IFNFVFRJTkdTLkFCSUxJVFlfSUNPTl9TSVpFO1xuXHRcdHJldHVybiBncmVuYWRlO1xuXHR9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///218\n")},219:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Unit2 = _interopRequireDefault(__webpack_require__(201));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Solider =\n/*#__PURE__*/\nfunction (_Unit) {\n  _inherits(Solider, _Unit);\n\n  function Solider(graphics, model, pos, faction, type, squad) {\n    _classCallCheck(this, Solider);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Solider).call(this, graphics, model, pos, faction, type, squad));\n  }\n\n  _createClass(Solider, [{\n    key: "getTheMostImportantAim",\n    value: function getTheMostImportantAim(aims) {\n      var index = _Utils.default.getIndexOfTheNearestItem(aims, this);\n\n      return aims[index];\n    }\n  }]);\n\n  return Solider;\n}(_Unit2.default);\n\nvar _default = Solider;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvU29saWRlci50cz82MWRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUdNLE87Ozs7O0FBQ0osbUJBQ0UsUUFERixFQUVFLEtBRkYsRUFHRSxHQUhGLEVBSUUsT0FKRixFQUtFLElBTEYsRUFNRSxLQU5GLEVBTWM7QUFBQTs7QUFBQSxnRkFFTixRQUZNLEVBRUksS0FGSixFQUVXLEdBRlgsRUFFZ0IsT0FGaEIsRUFFeUIsSUFGekIsRUFFK0IsS0FGL0I7QUFHZDs7OzsyQ0FFc0IsSSxFQUFJO0FBQzFCLFVBQU0sS0FBSyxHQUFHLGVBQU0sd0JBQU4sQ0FBK0IsSUFBL0IsRUFBcUMsSUFBckMsQ0FBZDs7QUFDQSxhQUFPLElBQUksQ0FBQyxLQUFELENBQVg7QUFDQTs7OztFQWZvQixjOztlQWtCUCxPIiwiZmlsZSI6IjIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVbml0IGZyb20gJy4vVW5pdCc7XG5pbXBvcnQgV2VhcG9uc0ZhY3RvcnkgZnJvbSAnfi93ZWFwb25zL1dlYXBvbnNGYWN0b3J5JztcbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscyc7XG5pbXBvcnQgU3F1YWQgZnJvbSAnLi9TcXVhZCc7XG5cbmNsYXNzIFNvbGlkZXIgZXh0ZW5kcyBVbml0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgZ3JhcGhpY3M6IGFueSxcbiAgICBtb2RlbDogYW55LFxuICAgIHBvczogUG9pbnQsXG4gICAgZmFjdGlvbjogbnVtYmVyLFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBzcXVhZDogU3F1YWRcbiAgKSB7Ly9wYXNzIG9ubHkgd2VhcG9ucyBQQVJBTVMsIG5vdCBjb3B5IHJlZmVyZW5jZSB0byBwcmltYXJ5IHdlYXBvbiBvYmplY3RcbiAgICBzdXBlcihncmFwaGljcywgbW9kZWwsIHBvcywgZmFjdGlvbiwgdHlwZSwgc3F1YWQpO1xuXHR9XG5cblx0Z2V0VGhlTW9zdEltcG9ydGFudEFpbShhaW1zKSB7XG5cdFx0Y29uc3QgaW5kZXggPSBVdGlscy5nZXRJbmRleE9mVGhlTmVhcmVzdEl0ZW0oYWltcywgdGhpcyk7XG5cdFx0cmV0dXJuIGFpbXNbaW5kZXhdO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvbGlkZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///219\n')},220:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Bullet = _interopRequireDefault(__webpack_require__(221));\n\nvar _WeaponTypes = _interopRequireDefault(__webpack_require__(197));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === \'function\') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar WeaponsFactory =\n/*#__PURE__*/\nfunction () {\n  function WeaponsFactory() {\n    _classCallCheck(this, WeaponsFactory);\n  }\n\n  _createClass(WeaponsFactory, null, [{\n    key: "createBullet",\n    //at type of "aim" it\'s mena Unit\n    value: function createBullet(type, position, aim) {\n      var modifyDamage = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n      var bulletData = _objectSpread({}, position, _WeaponTypes.default[type], {\n        angle: position.angle + _Utils.default.normalRandomLUT(_WeaponTypes.default[type].scatter),\n        damage: _WeaponTypes.default[type].damage * modifyDamage,\n        aim: aim\n      });\n\n      window.bulletContainer.push(new _Bullet.default(bulletData));\n    }\n  }, {\n    key: "getWeapon",\n    value: function getWeapon(type) {\n      return _WeaponTypes.default[type];\n    }\n  }]);\n\n  return WeaponsFactory;\n}();\n\nvar _default = WeaponsFactory;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2VhcG9ucy9XZWFwb25zRmFjdG9yeS50cz9jZDkyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7SUFFTSxjOzs7Ozs7Ozs7QUFDRjtpQ0FDb0IsSSxFQUFjLFEsRUFBZSxHLEVBQTBCO0FBQUEsVUFBaEIsWUFBZ0IsdUVBQUQsQ0FBQzs7QUFDdkUsVUFBTSxVQUFVLHFCQUNULFFBRFMsRUFFVCxxQkFBWSxJQUFaLENBRlM7QUFHWixhQUFLLEVBQUUsUUFBUSxDQUFDLEtBQVQsR0FBaUIsZUFBTSxlQUFOLENBQXNCLHFCQUFZLElBQVosRUFBa0IsT0FBeEMsQ0FIWjtBQUlaLGNBQU0sRUFBRSxxQkFBWSxJQUFaLEVBQWtCLE1BQWxCLEdBQTJCLFlBSnZCO0FBS1osV0FBRyxFQUFIO0FBTFksUUFBaEI7O0FBT0EsWUFBTSxDQUFDLGVBQVAsQ0FBdUIsSUFBdkIsQ0FBNEIsSUFBSSxlQUFKLENBQVcsVUFBWCxDQUE1QjtBQUNIOzs7OEJBRWdCLEksRUFBWTtBQUN6QixhQUFPLHFCQUFZLElBQVosQ0FBUDtBQUNIOzs7Ozs7ZUFHVSxjIiwiZmlsZSI6IjIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCdWxsZXQgZnJvbSAnLi9CdWxsZXQnO1xuaW1wb3J0IFdlYXBvblR5cGVzIGZyb20gJy4vV2VhcG9uVHlwZXMnO1xuaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcblxuY2xhc3MgV2VhcG9uc0ZhY3Rvcnkge1xuICAgIC8vYXQgdHlwZSBvZiBcImFpbVwiIGl0J3MgbWVuYSBVbml0XG4gICAgc3RhdGljIGNyZWF0ZUJ1bGxldCh0eXBlOiBzdHJpbmcsIHBvc2l0aW9uOiBhbnksIGFpbTogYW55LCBtb2RpZnlEYW1hZ2UgPSAxKSB7XG4gICAgICAgIGNvbnN0IGJ1bGxldERhdGEgPSB7XG4gICAgICAgICAgICAuLi5wb3NpdGlvbixcbiAgICAgICAgICAgIC4uLldlYXBvblR5cGVzW3R5cGVdLFxuICAgICAgICAgICAgYW5nbGU6IHBvc2l0aW9uLmFuZ2xlICsgVXRpbHMubm9ybWFsUmFuZG9tTFVUKFdlYXBvblR5cGVzW3R5cGVdLnNjYXR0ZXIpLFxuICAgICAgICAgICAgZGFtYWdlOiBXZWFwb25UeXBlc1t0eXBlXS5kYW1hZ2UgKiBtb2RpZnlEYW1hZ2UsXG4gICAgICAgICAgICBhaW1cbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuYnVsbGV0Q29udGFpbmVyLnB1c2gobmV3IEJ1bGxldChidWxsZXREYXRhKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFdlYXBvbih0eXBlOiBzdHJpbmcpOiB3ZWFwb25UeXBlIHtcbiAgICAgICAgcmV0dXJuIFdlYXBvblR5cGVzW3R5cGVdO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2VhcG9uc0ZhY3Rvcnk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///220\n')},221:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Bullet =\n/*#__PURE__*/\nfunction () {\n  function Bullet(_ref) {\n    var x = _ref.x,\n        y = _ref.y,\n        angle = _ref.angle,\n        aim = _ref.aim,\n        speed = _ref.speed,\n        damage = _ref.damage,\n        drawAndAddProps = _ref.drawAndAddProps;\n\n    _classCallCheck(this, Bullet);\n\n    this.x = x;\n    this.y = y;\n    this.aim = aim;\n    this.angle = angle;\n    this.damage = damage;\n    drawAndAddProps.call(this);\n  }\n\n  _createClass(Bullet, [{\n    key: "update",\n    value: function update() {\n      if (this.updateBullet() === \'DESTROY\') {\n        //to allow for Gabarge Collector to remove this objects\n        this.aim = undefined;\n        this.graphics.destroy();\n        this.graphics = undefined;\n      }\n    }\n  }]);\n\n  return Bullet;\n}();\n\nvar _default = Bullet;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2VhcG9ucy9CdWxsZXQudHM/NGEzZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0lBQU0sTTs7O0FBU0wsd0JBQThEO0FBQUEsUUFBakQsQ0FBaUQsUUFBakQsQ0FBaUQ7QUFBQSxRQUE5QyxDQUE4QyxRQUE5QyxDQUE4QztBQUFBLFFBQTNDLEtBQTJDLFFBQTNDLEtBQTJDO0FBQUEsUUFBcEMsR0FBb0MsUUFBcEMsR0FBb0M7QUFBQSxRQUEvQixLQUErQixRQUEvQixLQUErQjtBQUFBLFFBQXhCLE1BQXdCLFFBQXhCLE1BQXdCO0FBQUEsUUFBaEIsZUFBZ0IsUUFBaEIsZUFBZ0I7O0FBQUE7O0FBQzdELFNBQUssQ0FBTCxHQUFTLENBQVQ7QUFDQSxTQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0EsU0FBSyxHQUFMLEdBQVcsR0FBWDtBQUNBLFNBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxTQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0EsbUJBQWUsQ0FBQyxJQUFoQixDQUFxQixJQUFyQjtBQUNBOzs7OzZCQUVLO0FBQ0wsVUFBRyxLQUFLLFlBQUwsT0FBd0IsU0FBM0IsRUFBc0M7QUFDckM7QUFDQSxhQUFLLEdBQUwsR0FBVyxTQUFYO0FBQ0EsYUFBSyxRQUFMLENBQWMsT0FBZDtBQUNBLGFBQUssUUFBTCxHQUFnQixTQUFoQjtBQUNBO0FBQ0Q7Ozs7OztlQUdhLE0iLCJmaWxlIjoiMjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQnVsbGV0IHtcblx0cHJpdmF0ZSB4OiBudW1iZXI7XG5cdHByaXZhdGUgeTogbnVtYmVyO1xuXHRwcml2YXRlIGFpbTogYW55O1xuXHRwcml2YXRlIGFuZ2xlOiBudW1iZXI7XG5cdHByaXZhdGUgZGFtYWdlOiBudW1iZXI7XG5cdHByaXZhdGUgZ3JhcGhpY3M6IGFueTtcblx0cHJpdmF0ZSB1cGRhdGVCdWxsZXQ6ICgpID0+IGFueTtcblxuXHRjb25zdHJ1Y3Rvcih7eCwgeSwgYW5nbGUsIGFpbSwgc3BlZWQsIGRhbWFnZSwgZHJhd0FuZEFkZFByb3BzfSkge1xuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLmFpbSA9IGFpbTtcblx0XHR0aGlzLmFuZ2xlID0gYW5nbGU7XG5cdFx0dGhpcy5kYW1hZ2UgPSBkYW1hZ2U7XG5cdFx0ZHJhd0FuZEFkZFByb3BzLmNhbGwodGhpcyk7XG5cdH1cblxuXHR1cGRhdGUoKSB7XG5cdFx0aWYodGhpcy51cGRhdGVCdWxsZXQoKSA9PT0gJ0RFU1RST1knKSB7XG5cdFx0XHQvL3RvIGFsbG93IGZvciBHYWJhcmdlIENvbGxlY3RvciB0byByZW1vdmUgdGhpcyBvYmplY3RzXG5cdFx0XHR0aGlzLmFpbSA9IHVuZGVmaW5lZDtcblx0XHRcdHRoaXMuZ3JhcGhpY3MuZGVzdHJveSgpO1xuXHRcdFx0dGhpcy5ncmFwaGljcyA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnVsbGV0OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///221\n')},222:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.draw = draw;\nexports.goToShootFrame = goToShootFrame;\nexports.getRotationFrame = getRotationFrame;\nexports.getRotationFrameSmall = getRotationFrameSmall;\nexports.getAngle = getAngle;\nexports.afterGetup = afterGetup;\n\nvar _consts = _interopRequireDefault(__webpack_require__(198));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getAngle(unitAngle) {\n  var angle = unitAngle * (180 / Math.PI);\n\n  if (angle >= 360) {\n    angle -= 360;\n  }\n\n  if (angle < 0) {\n    angle += 360;\n  }\n\n  angle = 360 - angle - 90;\n\n  if (angle < 0) {\n    angle += 360;\n  }\n\n  return angle;\n} // function checkFrame(stateToChecked) {\n//     switch(stateToChecked) {\n//         case STATE.GO: {\n//             if(movieClip.currentFrame >= 72 + 12 && 11 * 16 + 72 + 12 + 15 >= movieClip.currentFrame) {\n//                 return true;\n//             }\n//         }\n//         case STATE.SHOOT: {\n//             if(movieClip.currentFrame >= 72 + 12 && 11 * 16 + 72 + 12 + 15 >= movieClip.currentFrame) {\n//                 return true;\n//             }\n//         }\n//         case STATE.STAY: {\n//             if(movieClip.currentFrame >= 72 + 12 && 11 * 16 + 72 + 12 + 15 >= movieClip.currentFrame) {\n//                 return true;\n//             }\n//         }\n//     }\n//     return false;\n// }\n\n\nfunction getRotationFrame() {\n  var angle = this.getAngle(this.angle);\n\n  for (var i = 0; i < 12; i++) {\n    if (angle <= this.model.angles[i]) return i;\n  }\n\n  return 0; //first frame\n}\n\nfunction getRotationFrameSmall() {\n  var angle = this.getAngle(this.angle);\n\n  for (var i = 0; i < 8; i++) {\n    if (angle <= i * 45 + 22) return i;\n  }\n\n  return 0; //first frame\n}\n\nfunction goToShootFrame() {\n  var framesPeriods = this.model.framesPeriods;\n  var frameId = this.getRotationFrame() * framesPeriods.SHOOT.length + framesPeriods.SHOOT.first; //12 - index of first frame, 5 - length of one animation loop\n\n  var movieClip = this.graphics.getChildAt(1);\n  movieClip.gotoAndPlay(frameId);\n} // function goToMeleeFrame() {\n//     const { framesPeriods } = this.model;\n//     const frameId = this.getRotationFrameSmall() * framesPeriods.SHOOT.length + framesPeriods.SHOOT.first;//12 - index of first frame, 5 - length of one animation loop\n//     const movieClip = this.graphics.getChildAt(1);\n//     movieClip.animationSpeed = 0.3; \n//     movieClip.gotoAndPlay(frameId); \n// }\n\n\nfunction afterGetup() {\n  if (this.aim) {\n    if ('hp' in this.aim) {\n      this.searchAimToAttack();\n    } else {\n      if (_Utils.default.dis(this, this.aim) <= this.speed * _gameSettings.default.CHANGE_STATE_THROTTLE) {\n        //we should increase tolerance\n        this.aim = undefined;\n        this.ability = undefined;\n        this.searchAimToAttack();\n      } else {\n        this.changeStateToGo(this.aim);\n      }\n    }\n  } else {\n    this.searchAimToAttack();\n  }\n}\n\nfunction draw() {\n  // if(this.attackAim) console.log(this.getAngle());\n  var movieClip = this.graphics.getChildAt(1);\n  var framesPeriods = this.model.framesPeriods;\n\n  switch (this.state) {\n    case _consts.default.STAY:\n      {\n        var frameId = this.getRotationFrame();\n\n        if (movieClip.currentFrame !== frameId) {\n          movieClip.gotoAndStop(frameId);\n        }\n\n        break;\n      }\n\n    case _consts.default.SHOOT:\n      {\n        var _frameId = this.getRotationFrame() * framesPeriods.SHOOT.length + framesPeriods.SHOOT.first; //12 - index of first frame, 5 - length of one animation loop\n\n\n        if (movieClip.currentFrame < _frameId || movieClip.currentFrame > _frameId + (framesPeriods.SHOOT.length - 1)) {\n          movieClip.gotoAndStop(_frameId);\n        }\n\n        break;\n      }\n    // case STATE.MELEE: {\n    //     const frameId = this.getRotationFrameSmall() * framesPeriods.SHOOT.length + framesPeriods.SHOOT.first;//12 - index of first frame, 5 - length of one animation loop\n    //     if(movieClip.currentFrame < frameId || movieClip.currentFrame > frameId + (framesPeriods.SHOOT.length - 1)) {\n    //         // movieClip.animationSpeed = 0.3;                                \n    //         movieClip.gotoAndStop(frameId);\n    //         // Last frame and speed > 0\n    //     } else if(movieClip.currentFrame === frameId + (framesPeriods.SHOOT.length - 1) && movieClip.animationSpeed > 0) {\n    //         movieClip.animationSpeed = -0.3;       \n    //         movieClip.gotoAndPlay(frameId + (framesPeriods.SHOOT.length - 1));       \n    //     }\n    //     break;\n    // }\n\n    case _consts.default.GO:\n      {\n        var _frameId2 = this.getRotationFrame() * framesPeriods.GO.length + framesPeriods.GO.first; // Impossible\n\n\n        if (movieClip.currentFrame < framesPeriods.GO.first || movieClip.currentFrame > framesPeriods.GO.last) {\n          //other animation than GO\n          var random = Math.floor(_Utils.default.randomAbsLUT(14));\n          movieClip.gotoAndPlay(_frameId2 + random);\n        } else if (movieClip.currentFrame < _frameId2 || movieClip.currentFrame > _frameId2 + (framesPeriods.GO.length - 1)) {\n          movieClip.gotoAndPlay(_frameId2); //but when getRotationFrame was changes, then you start playing from first frame :<\n        }\n\n        break;\n      }\n\n    case _consts.default.FLY:\n      {\n        var _frameId3 = this.getRotationFrameSmall() * framesPeriods.FLY.length + framesPeriods.FLY.first;\n\n        if (movieClip.currentFrame < _frameId3 || movieClip.currentFrame > _frameId3 + (framesPeriods.FLY.length - 1)) {\n          movieClip.animationSpeed = 0.3;\n          movieClip.gotoAndPlay(_frameId3);\n        } else if (movieClip.currentFrame >= _frameId3 + (framesPeriods.FLY.length - 1)) {\n          movieClip.gotoAndStop(_frameId3 + (framesPeriods.FLY.length - 1));\n        }\n\n        break;\n      }\n\n    case _consts.default.GETUP:\n      {\n        var _frameId4 = this.getRotationFrameSmall() * framesPeriods.GETUP.length + framesPeriods.GETUP.first;\n\n        if (movieClip.currentFrame < _frameId4 || movieClip.currentFrame > _frameId4 + (framesPeriods.GETUP.length - 1)) {\n          movieClip.gotoAndPlay(_frameId4);\n        } else if (movieClip.currentFrame >= _frameId4 + (framesPeriods.GETUP.length - 1)) {\n          movieClip.animationSpeed = 0.4;\n          this.afterGetup();\n        }\n\n        break;\n      }\n\n    case _consts.default.DIE:\n      {\n        var _frameId5 = this.getRotationFrameSmall() * framesPeriods.FLY.length + framesPeriods.FLY.first;\n\n        if (movieClip.currentFrame < _frameId5 || movieClip.currentFrame > _frameId5 + (framesPeriods.FLY.length - 1)) {\n          // movieClip.animationSpeed = -0.3;   \n          movieClip.gotoAndPlay(_frameId5);\n        } else if (movieClip.currentFrame >= _frameId5 + (framesPeriods.FLY.length - 1)) {\n          this.removeSelf();\n          return;\n        }\n\n        break;\n      }\n\n    case _consts.default.ABILITY:\n      {\n        var _frameId6 = this.getRotationFrame() * framesPeriods.GO.length + framesPeriods.GO.first + 7; // because 7th frame looks the best for it\n\n\n        if (movieClip.currentFrame !== _frameId6) {\n          movieClip.gotoAndStop(_frameId6);\n        }\n\n        break;\n      }\n  }\n\n  var selection = this.graphics.getChildAt(0);\n\n  if (this.selected) {\n    if (!selection.visible) {\n      selection.visible = true;\n    }\n  } else {\n    if (selection.visible) {\n      selection.visible = false;\n    }\n  }\n  /*===TEST, RIFLE POINTS===*/\n  // this.frame++;\n  // if(this.frame % 60 === 0) {\n  //     let id = this.frameID * 6 + 12;\n  //     id = id % (11 * 7 + 12);\n  //     const movieClip = this.graphics.getChildAt(1);\n  //     movieClip.gotoAndStop(id);\n  //     this.frameID++;\n  // }\n  // const graphics = new PIXI.Graphics();\n  // graphics.beginFill(0xFF0000);\n  // for(let i = 0; i < 12; i++) {\n  // \t\tconst point = this.model.riflePoints[i];\n  // \t\tconst xx = (point.x + 2) * 0.9 + this.x,\n  //             yy = (point.y - 16) * 0.9 + this.y;\n  //     graphics.drawRect(xx, yy, 2, 2);\n  // }\n  // window.app.stage.addChild(graphics);\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvVW5pdERyYXcuanM/MjkzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLFNBQVMsUUFBVCxDQUFrQixTQUFsQixFQUEyQjtBQUN2QixNQUFJLEtBQUssR0FBRyxTQUFTLElBQUksTUFBTSxJQUFJLENBQUMsRUFBZixDQUFyQjs7QUFDQSxNQUFHLEtBQUssSUFBSSxHQUFaLEVBQWlCO0FBQ2IsU0FBSyxJQUFJLEdBQVQ7QUFDSDs7QUFBQyxNQUFHLEtBQUssR0FBRyxDQUFYLEVBQWM7QUFDWixTQUFLLElBQUksR0FBVDtBQUNIOztBQUVELE9BQUssR0FBRyxNQUFNLEtBQU4sR0FBYyxFQUF0Qjs7QUFDQSxNQUFHLEtBQUssR0FBRyxDQUFYLEVBQWM7QUFDVixTQUFLLElBQUksR0FBVDtBQUNIOztBQUNELFNBQU8sS0FBUDtBQUNILEMsQ0FFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQSxTQUFTLGdCQUFULEdBQXlCO0FBQ3JCLE1BQU0sS0FBSyxHQUFHLEtBQUssUUFBTCxDQUFjLEtBQUssS0FBbkIsQ0FBZDs7QUFDQSxPQUFJLElBQUksQ0FBQyxHQUFHLENBQVosRUFBZSxDQUFDLEdBQUcsRUFBbkIsRUFBdUIsQ0FBQyxFQUF4QixFQUE0QjtBQUN4QixRQUFHLEtBQUssSUFBSSxLQUFLLEtBQUwsQ0FBVyxNQUFYLENBQWtCLENBQWxCLENBQVosRUFBa0MsT0FBTyxDQUFQO0FBQ3JDOztBQUNELFNBQU8sQ0FBUCxDQUxxQixDQUtaO0FBQ1o7O0FBRUQsU0FBUyxxQkFBVCxHQUE4QjtBQUMxQixNQUFNLEtBQUssR0FBRyxLQUFLLFFBQUwsQ0FBYyxLQUFLLEtBQW5CLENBQWQ7O0FBQ0EsT0FBSSxJQUFJLENBQUMs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aUIsS0FBckUsR0FBNkUsQ0FBN0YsQ0FEZ0IsQ0FDK0U7OztBQUMvRixZQUFHLFNBQVMsQ0FBQyxZQUFWLEtBQTJCLFNBQTlCLEVBQXVDO0FBQ25DLG1CQUFTLENBQUMsV0FBVixDQUFzQixTQUF0QjtBQUNIOztBQUNEO0FBQ0g7QUE3RUw7O0FBaUZBLE1BQU0sU0FBUyxHQUFHLEtBQUssUUFBTCxDQUFjLFVBQWQsQ0FBeUIsQ0FBekIsQ0FBbEI7O0FBQ0EsTUFBSSxLQUFLLFFBQVQsRUFBbUI7QUFDZixRQUFJLENBQUMsU0FBUyxDQUFDLE9BQWYsRUFBd0I7QUFDcEIsZUFBUyxDQUFDLE9BQVYsR0FBb0IsSUFBcEI7QUFDSDtBQUNKLEdBSkQsTUFJTztBQUNILFFBQUksU0FBUyxDQUFDLE9BQWQsRUFBdUI7QUFDbkIsZUFBUyxDQUFDLE9BQVYsR0FBb0IsS0FBcEI7QUFDSDtBQUNKO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0g7QUFDQTtBQUNHO0FBRUE7QUFDQTtBQUNBOztBQUVIIiwiZmlsZSI6IjIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTVEFURSBmcm9tICcuLi9tb2R1bGVzL2NvbnN0cyc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnVXRpbHMnO1xuaW1wb3J0IFNFVFRJTkdTIGZyb20gJ1NldHRpbmdzJztcblxuZnVuY3Rpb24gZ2V0QW5nbGUodW5pdEFuZ2xlKSB7XG4gICAgbGV0IGFuZ2xlID0gdW5pdEFuZ2xlICogKDE4MCAvIE1hdGguUEkpO1xuICAgIGlmKGFuZ2xlID49IDM2MCkge1xuICAgICAgICBhbmdsZSAtPSAzNjA7XG4gICAgfSBpZihhbmdsZSA8IDApIHtcbiAgICAgICAgYW5nbGUgKz0gMzYwO1xuICAgIH1cblxuICAgIGFuZ2xlID0gMzYwIC0gYW5nbGUgLSA5MDtcbiAgICBpZihhbmdsZSA8IDApIHtcbiAgICAgICAgYW5nbGUgKz0gMzYwO1xuICAgIH1cbiAgICByZXR1cm4gYW5nbGU7XG59XG5cbi8vIGZ1bmN0aW9uIGNoZWNrRnJhbWUoc3RhdGVUb0NoZWNrZWQpIHtcbi8vICAgICBzd2l0Y2goc3RhdGVUb0NoZWNrZWQpIHtcbi8vICAgICAgICAgY2FzZSBTVEFURS5HTzoge1xuLy8gICAgICAgICAgICAgaWYobW92aWVDbGlwLmN1cnJlbnRGcmFtZSA+PSA3MiArIDEyICYmIDExICogMTYgKyA3MiArIDEyICsgMTUgPj0gbW92aWVDbGlwLmN1cnJlbnRGcmFtZSkge1xuLy8gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuLy8gICAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGNhc2UgU1RBVEUuU0hPT1Q6IHtcbi8vICAgICAgICAgICAgIGlmKG1vdmllQ2xpcC5jdXJyZW50RnJhbWUgPj0gNzIgKyAxMiAmJiAxMSAqIDE2ICsgNzIgKyAxMiArIDE1ID49IG1vdmllQ2xpcC5jdXJyZW50RnJhbWUpIHtcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjYXNlIFNUQVRFLlNUQVk6IHtcbi8vICAgICAgICAgICAgIGlmKG1vdmllQ2xpcC5jdXJyZW50RnJhbWUgPj0gNzIgKyAxMiAmJiAxMSAqIDE2ICsgNzIgKyAxMiArIDE1ID49IG1vdmllQ2xpcC5jdXJyZW50RnJhbWUpIHtcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgICAgICAgICAgIH1cbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vICAgICByZXR1cm4gZmFsc2U7XG4vLyB9XG5cbmZ1bmN0aW9uIGdldFJvdGF0aW9uRnJhbWUoKSB7XG4gICAgY29uc3QgYW5nbGUgPSB0aGlzLmdldEFuZ2xlKHRoaXMuYW5nbGUpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIGlmKGFuZ2xlIDw9IHRoaXMubW9kZWwuYW5nbGVzW2ldKSByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIDA7Ly9maXJzdCBmcmFtZVxufVxuXG5mdW5jdGlvbiBnZXRSb3RhdGlvbkZyYW1lU21hbGwoKSB7XG4gICAgY29uc3QgYW5nbGUgPSB0aGlzLmdldEFuZ2xlKHRoaXMuYW5nbGUpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgaWYoYW5nbGUgPD0gaSAqIDQ1ICsgMjIpIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gMDsvL2ZpcnN0IGZyYW1lXG59XG5cbmZ1bmN0aW9uIGdvVG9TaG9vdEZyYW1lKCkge1xuICAgIGNvbnN0IHsgZnJhbWVzUGVyaW9kcyB9ID0gdGhpcy5tb2RlbDsgXG4gICAgY29uc3QgZnJhbWVJZCA9IHRoaXMuZ2V0Um90YXRpb25GcmFtZSgpICogZnJhbWVzUGVyaW9kcy5TSE9PVC5sZW5ndGggKyBmcmFtZXNQZXJpb2RzLlNIT09ULmZpcnN0Oy8vMTIgLSBpbmRleCBvZiBmaXJzdCBmcmFtZSwgNSAtIGxlbmd0aCBvZiBvbmUgYW5pbWF0aW9uIGxvb3BcbiAgICBjb25zdCBtb3ZpZUNsaXAgPSB0aGlzLmdyYXBoaWNzLmdldENoaWxkQXQoMSk7XG4gICAgbW92aWVDbGlwLmdvdG9BbmRQbGF5KGZyYW1lSWQpOyBcbn1cblxuLy8gZnVuY3Rpb24gZ29Ub01lbGVlRnJhbWUoKSB7XG4vLyAgICAgY29uc3QgeyBmcmFtZXNQZXJpb2RzIH0gPSB0aGlzLm1vZGVsO1xuLy8gICAgIGNvbnN0IGZyYW1lSWQgPSB0aGlzLmdldFJvdGF0aW9uRnJhbWVTbWFsbCgpICogZnJhbWVzUGVyaW9kcy5TSE9PVC5sZW5ndGggKyBmcmFtZXNQZXJpb2RzLlNIT09ULmZpcnN0Oy8vMTIgLSBpbmRleCBvZiBmaXJzdCBmcmFtZSwgNSAtIGxlbmd0aCBvZiBvbmUgYW5pbWF0aW9uIGxvb3Bcbi8vICAgICBjb25zdCBtb3ZpZUNsaXAgPSB0aGlzLmdyYXBoaWNzLmdldENoaWxkQXQoMSk7XG4vLyAgICAgbW92aWVDbGlwLmFuaW1hdGlvblNwZWVkID0gMC4zOyBcbi8vICAgICBtb3ZpZUNsaXAuZ290b0FuZFBsYXkoZnJhbWVJZCk7IFxuLy8gfVxuXG5mdW5jdGlvbiBhZnRlckdldHVwKCkge1xuICBpZiAodGhpcy5haW0pIHtcbiAgICBpZiAoJ2hwJyBpbiB0aGlzLmFpbSkge1xuICAgICAgdGhpcy5zZWFyY2hBaW1Ub0F0dGFjaygpXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChVdGlscy5kaXModGhpcywgdGhpcy5haW0pIDw9IHRoaXMuc3BlZWQgKiBTRVRUSU5HUy5DSEFOR0VfU1RBVEVfVEhST1RUTEUpIHsvL3dlIHNob3VsZCBpbmNyZWFzZSB0b2xlcmFuY2VcbiAgICAgICAgdGhpcy5haW0gPSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5hYmlsaXR5ID0gdW5kZWZpbmVkXG4gICAgICAgIHRoaXMuc2VhcmNoQWltVG9BdHRhY2soKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZVRvR28odGhpcy5haW0pXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuc2VhcmNoQWltVG9BdHRhY2soKVxuICB9XG59XG5cbmZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgLy8gaWYodGhpcy5hdHRhY2tBaW0pIGNvbnNvbGUubG9nKHRoaXMuZ2V0QW5nbGUoKSk7XG4gICAgY29uc3QgbW92aWVDbGlwID0gdGhpcy5ncmFwaGljcy5nZXRDaGlsZEF0KDEpO1xuICAgIGNvbnN0IHsgZnJhbWVzUGVyaW9kcyB9ID0gdGhpcy5tb2RlbDtcblxuICAgIHN3aXRjaCh0aGlzLnN0YXRlKSB7XG4gICAgICAgIGNhc2UgU1RBVEUuU1RBWToge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVJZCA9IHRoaXMuZ2V0Um90YXRpb25GcmFtZSgpO1xuICAgICAgICAgICAgaWYobW92aWVDbGlwLmN1cnJlbnRGcmFtZSAhPT0gZnJhbWVJZCkge1xuICAgICAgICAgICAgICAgIG1vdmllQ2xpcC5nb3RvQW5kU3RvcChmcmFtZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU1RBVEUuU0hPT1Q6IHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSWQgPSB0aGlzLmdldFJvdGF0aW9uRnJhbWUoKSAqIGZyYW1lc1BlcmlvZHMuU0hPT1QubGVuZ3RoICsgZnJhbWVzUGVyaW9kcy5TSE9PVC5maXJzdDsvLzEyIC0gaW5kZXggb2YgZmlyc3QgZnJhbWUsIDUgLSBsZW5ndGggb2Ygb25lIGFuaW1hdGlvbiBsb29wXG4gICAgICAgICAgICBpZihtb3ZpZUNsaXAuY3VycmVudEZyYW1lIDwgZnJhbWVJZCB8fCBtb3ZpZUNsaXAuY3VycmVudEZyYW1lID4gZnJhbWVJZCArIChmcmFtZXNQZXJpb2RzLlNIT09ULmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgbW92aWVDbGlwLmdvdG9BbmRTdG9wKGZyYW1lSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FzZSBTVEFURS5NRUxFRToge1xuICAgICAgICAvLyAgICAgY29uc3QgZnJhbWVJZCA9IHRoaXMuZ2V0Um90YXRpb25GcmFtZVNtYWxsKCkgKiBmcmFtZXNQZXJpb2RzLlNIT09ULmxlbmd0aCArIGZyYW1lc1BlcmlvZHMuU0hPT1QuZmlyc3Q7Ly8xMiAtIGluZGV4IG9mIGZpcnN0IGZyYW1lLCA1IC0gbGVuZ3RoIG9mIG9uZSBhbmltYXRpb24gbG9vcFxuICAgICAgICAvLyAgICAgaWYobW92aWVDbGlwLmN1cnJlbnRGcmFtZSA8IGZyYW1lSWQgfHwgbW92aWVDbGlwLmN1cnJlbnRGcmFtZSA+IGZyYW1lSWQgKyAoZnJhbWVzUGVyaW9kcy5TSE9PVC5sZW5ndGggLSAxKSkge1xuICAgICAgICAvLyAgICAgICAgIC8vIG1vdmllQ2xpcC5hbmltYXRpb25TcGVlZCA9IDAuMzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAvLyAgICAgICAgIG1vdmllQ2xpcC5nb3RvQW5kU3RvcChmcmFtZUlkKTtcbiAgICAgICAgLy8gICAgICAgICAvLyBMYXN0IGZyYW1lIGFuZCBzcGVlZCA+IDBcbiAgICAgICAgLy8gICAgIH0gZWxzZSBpZihtb3ZpZUNsaXAuY3VycmVudEZyYW1lID09PSBmcmFtZUlkICsgKGZyYW1lc1BlcmlvZHMuU0hPT1QubGVuZ3RoIC0gMSkgJiYgbW92aWVDbGlwLmFuaW1hdGlvblNwZWVkID4gMCkge1xuICAgICAgICAvLyAgICAgICAgIG1vdmllQ2xpcC5hbmltYXRpb25TcGVlZCA9IC0wLjM7ICAgICAgIFxuICAgICAgICAvLyAgICAgICAgIG1vdmllQ2xpcC5nb3RvQW5kUGxheShmcmFtZUlkICsgKGZyYW1lc1BlcmlvZHMuU0hPT1QubGVuZ3RoIC0gMSkpOyAgICAgICBcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIGJyZWFrO1xuICAgICAgICAvLyB9XG4gICAgICAgIGNhc2UgU1RBVEUuR086IHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSWQgPSB0aGlzLmdldFJvdGF0aW9uRnJhbWUoKSAqIGZyYW1lc1BlcmlvZHMuR08ubGVuZ3RoICsgZnJhbWVzUGVyaW9kcy5HTy5maXJzdDtcbiAgICAgICAgICAgIC8vIEltcG9zc2libGVcbiAgICAgICAgICAgIGlmKG1vdmllQ2xpcC5jdXJyZW50RnJhbWUgPCBmcmFtZXNQZXJpb2RzLkdPLmZpcnN0IHx8IG1vdmllQ2xpcC5jdXJyZW50RnJhbWUgPiBmcmFtZXNQZXJpb2RzLkdPLmxhc3QpIHsvL290aGVyIGFuaW1hdGlvbiB0aGFuIEdPXG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tID0gTWF0aC5mbG9vcihVdGlscy5yYW5kb21BYnNMVVQoMTQpKTtcbiAgICAgICAgICAgICAgICBtb3ZpZUNsaXAuZ290b0FuZFBsYXkoZnJhbWVJZCArIHJhbmRvbSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYobW92aWVDbGlwLmN1cnJlbnRGcmFtZSA8IGZyYW1lSWQgfHwgbW92aWVDbGlwLmN1cnJlbnRGcmFtZSA+IGZyYW1lSWQgKyAoZnJhbWVzUGVyaW9kcy5HTy5sZW5ndGggLSAxKSkgeyAgICBcbiAgICAgICAgICAgICAgICBtb3ZpZUNsaXAuZ290b0FuZFBsYXkoZnJhbWVJZCk7XG4gICAgICAgICAgICAgICAgLy9idXQgd2hlbiBnZXRSb3RhdGlvbkZyYW1lIHdhcyBjaGFuZ2VzLCB0aGVuIHlvdSBzdGFydCBwbGF5aW5nIGZyb20gZmlyc3QgZnJhbWUgOjxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU1RBVEUuRkxZOiB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZUlkID0gdGhpcy5nZXRSb3RhdGlvbkZyYW1lU21hbGwoKSAqIGZyYW1lc1BlcmlvZHMuRkxZLmxlbmd0aCArIGZyYW1lc1BlcmlvZHMuRkxZLmZpcnN0O1xuICAgICAgICAgICAgaWYobW92aWVDbGlwLmN1cnJlbnRGcmFtZSA8IGZyYW1lSWQgfHwgbW92aWVDbGlwLmN1cnJlbnRGcmFtZSA+IGZyYW1lSWQgKyAoZnJhbWVzUGVyaW9kcy5GTFkubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICBtb3ZpZUNsaXAuYW5pbWF0aW9uU3BlZWQgPSAwLjM7XG4gICAgICAgICAgICAgICAgbW92aWVDbGlwLmdvdG9BbmRQbGF5KGZyYW1lSWQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKG1vdmllQ2xpcC5jdXJyZW50RnJhbWUgPj0gZnJhbWVJZCArIChmcmFtZXNQZXJpb2RzLkZMWS5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIG1vdmllQ2xpcC5nb3RvQW5kU3RvcChmcmFtZUlkICsgKGZyYW1lc1BlcmlvZHMuRkxZLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU1RBVEUuR0VUVVA6IHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSWQgPSB0aGlzLmdldFJvdGF0aW9uRnJhbWVTbWFsbCgpICogZnJhbWVzUGVyaW9kcy5HRVRVUC5sZW5ndGggKyBmcmFtZXNQZXJpb2RzLkdFVFVQLmZpcnN0O1xuICAgICAgICAgICAgaWYobW92aWVDbGlwLmN1cnJlbnRGcmFtZSA8IGZyYW1lSWQgfHwgbW92aWVDbGlwLmN1cnJlbnRGcmFtZSA+IGZyYW1lSWQgKyAoZnJhbWVzUGVyaW9kcy5HRVRVUC5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIG1vdmllQ2xpcC5nb3RvQW5kUGxheShmcmFtZUlkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihtb3ZpZUNsaXAuY3VycmVudEZyYW1lID49IGZyYW1lSWQgKyAoZnJhbWVzUGVyaW9kcy5HRVRVUC5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgIG1vdmllQ2xpcC5hbmltYXRpb25TcGVlZCA9IDAuNDtcbiAgICAgICAgICAgICAgICB0aGlzLmFmdGVyR2V0dXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU1RBVEUuRElFOiB7XG4gICAgICAgICAgICBjb25zdCBmcmFtZUlkID0gdGhpcy5nZXRSb3RhdGlvbkZyYW1lU21hbGwoKSAqIGZyYW1lc1BlcmlvZHMuRkxZLmxlbmd0aCArIGZyYW1lc1BlcmlvZHMuRkxZLmZpcnN0O1xuICAgICAgICAgICAgaWYobW92aWVDbGlwLmN1cnJlbnRGcmFtZSA8IGZyYW1lSWQgfHwgbW92aWVDbGlwLmN1cnJlbnRGcmFtZSA+IGZyYW1lSWQgKyAoZnJhbWVzUGVyaW9kcy5GTFkubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZpZUNsaXAuYW5pbWF0aW9uU3BlZWQgPSAtMC4zOyAgIFxuICAgICAgICAgICAgICAgIG1vdmllQ2xpcC5nb3RvQW5kUGxheShmcmFtZUlkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihtb3ZpZUNsaXAuY3VycmVudEZyYW1lID49IGZyYW1lSWQgKyAoZnJhbWVzUGVyaW9kcy5GTFkubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVNlbGYoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgU1RBVEUuQUJJTElUWToge1xuICAgICAgICAgICAgY29uc3QgZnJhbWVJZCA9IHRoaXMuZ2V0Um90YXRpb25GcmFtZSgpICogZnJhbWVzUGVyaW9kcy5HTy5sZW5ndGggKyBmcmFtZXNQZXJpb2RzLkdPLmZpcnN0ICsgNzsvLyBiZWNhdXNlIDd0aCBmcmFtZSBsb29rcyB0aGUgYmVzdCBmb3IgaXRcbiAgICAgICAgICAgIGlmKG1vdmllQ2xpcC5jdXJyZW50RnJhbWUgIT09IGZyYW1lSWQpIHtcbiAgICAgICAgICAgICAgICBtb3ZpZUNsaXAuZ290b0FuZFN0b3AoZnJhbWVJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5ncmFwaGljcy5nZXRDaGlsZEF0KDApO1xuICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7XG4gICAgICAgIGlmICghc2VsZWN0aW9uLnZpc2libGUpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbi52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb24udmlzaWJsZSkge1xuICAgICAgICAgICAgc2VsZWN0aW9uLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qPT09VEVTVCwgUklGTEUgUE9JTlRTPT09Ki9cbiAgICAvLyB0aGlzLmZyYW1lKys7XG4gICAgLy8gaWYodGhpcy5mcmFtZSAlIDYwID09PSAwKSB7XG4gICAgLy8gICAgIGxldCBpZCA9IHRoaXMuZnJhbWVJRCAqIDYgKyAxMjtcbiAgICAvLyAgICAgaWQgPSBpZCAlICgxMSAqIDcgKyAxMik7XG4gICAgLy8gICAgIGNvbnN0IG1vdmllQ2xpcCA9IHRoaXMuZ3JhcGhpY3MuZ2V0Q2hpbGRBdCgxKTtcbiAgICAvLyAgICAgbW92aWVDbGlwLmdvdG9BbmRTdG9wKGlkKTtcbiAgICAvLyAgICAgdGhpcy5mcmFtZUlEKys7XG4gICAgLy8gfVxuXG4gICAgLy8gY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgIC8vIGdyYXBoaWNzLmJlZ2luRmlsbCgweEZGMDAwMCk7XG4gICAgLy8gZm9yKGxldCBpID0gMDsgaSA8IDEyOyBpKyspIHtcblx0Ly8gXHRcdGNvbnN0IHBvaW50ID0gdGhpcy5tb2RlbC5yaWZsZVBvaW50c1tpXTtcblx0Ly8gXHRcdGNvbnN0IHh4ID0gKHBvaW50LnggKyAyKSAqIDAuOSArIHRoaXMueCxcbiAgICAvLyAgICAgICAgICAgICB5eSA9IChwb2ludC55IC0gMTYpICogMC45ICsgdGhpcy55O1xuICAgICAgICAgICAgICAgIFxuICAgIC8vICAgICBncmFwaGljcy5kcmF3UmVjdCh4eCwgeXksIDIsIDIpO1xuICAgIC8vIH1cbiAgICAvLyB3aW5kb3cuYXBwLnN0YWdlLmFkZENoaWxkKGdyYXBoaWNzKTtcbiAgICBcbn1cblxuZXhwb3J0IHtcbiAgZHJhdyxcbiAgZ29Ub1Nob290RnJhbWUsXG4gIGdldFJvdGF0aW9uRnJhbWUsXG4gIGdldFJvdGF0aW9uRnJhbWVTbWFsbCxcbiAgZ2V0QW5nbGUsXG4gIGFmdGVyR2V0dXAsXG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///222\n")},223:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  'WARRIOR_REGULAR': {\n    hp: 110,\n    speed: 2.5,\n    radius: 10\n  },\n  'SOLIDER_REGULAR': {\n    hp: 100,\n    speed: 2.5,\n    radius: 10\n  },\n  'SOLIDER_LASER': {\n    hp: 100,\n    speed: 2.5,\n    radius: 10\n  },\n  'WARRIOR_ASSAULT': {\n    hp: 120,\n    speed: 2.5,\n    radius: 10\n  },\n  'TANK': {\n    hp: 500,\n    speed: 1.1,\n    radius: 20\n  }\n};\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvVW5pdFR5cGVzLnRzP2YyODMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O2VBQWU7QUFDWCxxQkFBbUI7QUFDZixNQUFFLEVBQUUsR0FEVztBQUVmLFNBQUssRUFBRSxHQUZRO0FBR2YsVUFBTSxFQUFFO0FBSE8sR0FEUjtBQU1YLHFCQUFtQjtBQUNmLE1BQUUsRUFBRSxHQURXO0FBRWYsU0FBSyxFQUFFLEdBRlE7QUFHZixVQUFNLEVBQUU7QUFITyxHQU5SO0FBV1gsbUJBQWlCO0FBQ2IsTUFBRSxFQUFFLEdBRFM7QUFFYixTQUFLLEVBQUUsR0FGTTtBQUdiLFVBQU0sRUFBRTtBQUhLLEdBWE47QUFnQlgscUJBQW1CO0FBQ2YsTUFBRSxFQUFFLEdBRFc7QUFFZixTQUFLLEVBQUUsR0FGUTtBQUdmLFVBQU0sRUFBRTtBQUhPLEdBaEJSO0FBcUJYLFVBQVE7QUFDTixNQUFFLEVBQUUsR0FERTtBQUVOLFNBQUssRUFBRSxHQUZEO0FBR04sVUFBTSxFQUFFO0FBSEY7QUFyQkcsQyIsImZpbGUiOiIyMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gICAgJ1dBUlJJT1JfUkVHVUxBUic6IHtcbiAgICAgICAgaHA6IDExMCxcbiAgICAgICAgc3BlZWQ6IDIuNSxcbiAgICAgICAgcmFkaXVzOiAxMCxcbiAgICB9LFxuICAgICdTT0xJREVSX1JFR1VMQVInOiB7XG4gICAgICAgIGhwOiAxMDAsXG4gICAgICAgIHNwZWVkOiAyLjUsXG4gICAgICAgIHJhZGl1czogMTAsXG4gICAgfSxcbiAgICAnU09MSURFUl9MQVNFUic6IHtcbiAgICAgICAgaHA6IDEwMCxcbiAgICAgICAgc3BlZWQ6IDIuNSxcbiAgICAgICAgcmFkaXVzOiAxMCxcbiAgICB9LFxuICAgICdXQVJSSU9SX0FTU0FVTFQnOiB7XG4gICAgICAgIGhwOiAxMjAsXG4gICAgICAgIHNwZWVkOiAyLjUsXG4gICAgICAgIHJhZGl1czogMTAsXG4gICAgfSxcbiAgICAnVEFOSyc6IHtcbiAgICAgIGhwOiA1MDAsXG4gICAgICBzcGVlZDogMS4xLFxuICAgICAgcmFkaXVzOiAyMCxcbiAgfSxcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///223\n")},224:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Unit2 = _interopRequireDefault(__webpack_require__(201));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Warrior =\n/*#__PURE__*/\nfunction (_Unit) {\n  _inherits(Warrior, _Unit);\n\n  function Warrior(graphics, model, pos, faction, type, squad) {\n    _classCallCheck(this, Warrior);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Warrior).call(this, graphics, model, pos, faction, type, squad));\n  }\n\n  _createClass(Warrior, [{\n    key: "getTheMostImportantAim",\n    value: function getTheMostImportantAim(aims) {\n      var index = _Utils.default.getIndexOfTheNearestItem(aims, this);\n\n      return aims[index];\n    }\n  }]);\n\n  return Warrior;\n}(_Unit2.default);\n\nvar _default = Warrior;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvV2Fycmlvci50cz9jNjRmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUdNLE87Ozs7O0FBQ0YsbUJBQVksUUFBWixFQUEwQixLQUExQixFQUFxQyxHQUFyQyxFQUFpRCxPQUFqRCxFQUFpRSxJQUFqRSxFQUE4RSxLQUE5RSxFQUF5RjtBQUFBOztBQUFBLGdGQUMvRSxRQUQrRSxFQUNyRSxLQURxRSxFQUM5RCxHQUQ4RCxFQUN6RCxPQUR5RCxFQUNoRCxJQURnRCxFQUMxQyxLQUQwQztBQUUzRjs7OzsyQ0FFc0IsSSxFQUFZO0FBQ2xDLFVBQU0sS0FBSyxHQUFHLGVBQU0sd0JBQU4sQ0FBK0IsSUFBL0IsRUFBcUMsSUFBckMsQ0FBZDs7QUFDQSxhQUFPLElBQUksQ0FBQyxLQUFELENBQVg7QUFDQTs7OztFQVJvQixjOztlQVdQLE8iLCJmaWxlIjoiMjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXQgZnJvbSAnLi9Vbml0JztcbmltcG9ydCBXZWFwb25zRmFjdG9yeSBmcm9tICd+L3dlYXBvbnMvV2VhcG9uc0ZhY3RvcnknO1xuaW1wb3J0IFV0aWxzIGZyb20gJy4uL3V0aWxzL1V0aWxzJztcbmltcG9ydCBTcXVhZCBmcm9tICcuL1NxdWFkJztcblxuY2xhc3MgV2FycmlvciBleHRlbmRzIFVuaXQge1xuICAgIGNvbnN0cnVjdG9yKGdyYXBoaWNzOmFueSwgbW9kZWw6YW55LCBwb3M6IFBvaW50LCBmYWN0aW9uOm51bWJlciwgdHlwZTpzdHJpbmcsIHNxdWFkOlNxdWFkKSB7Ly9wYXNzIG9ubHkgd2VhcG9ucyBQQVJBTVMsIG5vdCBjb3B5IHJlZmVyZW5jZSB0byBwcmltYXJ5IHdlYXBvbiBvYmplY3RcbiAgICAgICAgc3VwZXIoZ3JhcGhpY3MsIG1vZGVsLCBwb3MsIGZhY3Rpb24sIHR5cGUsIHNxdWFkKTtcblx0fVxuXG5cdGdldFRoZU1vc3RJbXBvcnRhbnRBaW0oYWltczogVW5pdFtdKSB7XG5cdFx0Y29uc3QgaW5kZXggPSBVdGlscy5nZXRJbmRleE9mVGhlTmVhcmVzdEl0ZW0oYWltcywgdGhpcyk7XG5cdFx0cmV0dXJuIGFpbXNbaW5kZXhdO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdhcnJpb3I7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///224\n')},225:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Unit2 = _interopRequireDefault(__webpack_require__(201));\n\nvar _WeaponTypes = _interopRequireDefault(__webpack_require__(197));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _consts = _interopRequireDefault(__webpack_require__(198));\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar WarriorAssault =\n/*#__PURE__*/\nfunction (_Unit) {\n  _inherits(WarriorAssault, _Unit);\n\n  function WarriorAssault(graphics, model, pos, faction, type, squad) {\n    var _this;\n\n    _classCallCheck(this, WarriorAssault);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WarriorAssault).call(this, graphics, model, pos, faction, type, squad));\n    _this.z = 0;\n    return _this;\n  }\n\n  _createClass(WarriorAssault, [{\n    key: "getTheMostImportantAim",\n    value: function getTheMostImportantAim(aims) {\n      var index = _Utils.default.getIndexOfTheNearestItem(aims, this);\n\n      return aims[index];\n    }\n  }, {\n    key: "finishJump",\n    value: function finishJump() {\n      var _this2 = this;\n\n      this.z = 0;\n      this.graphics.scale.set(1);\n      this.aim = undefined;\n      this.defaultBehaviour();\n      var bullet = {\n        x: this.x,\n        y: this.y,\n        damage: _WeaponTypes.default[\'ASSAULT_JUMP\'].damage,\n        explosion: _WeaponTypes.default[\'ASSAULT_JUMP\'].explosion\n      };\n      window.allSquads.map(function (fact, idx) {\n        if (idx !== _this2.faction) {\n          fact.map(function (squad) {\n            if (_Utils.default.dis(squad.center, _this2) < _WeaponTypes.default[\'ASSAULT_JUMP\'].range + _gameSettings.default.MAX_DISTANCE_BETWEEN_SQUAD_MEMBERS) {\n              squad.members.map(function (unit) {\n                if (_Utils.default.dis(_this2, unit) < _WeaponTypes.default[\'ASSAULT_JUMP\'].range) {\n                  unit.takeDamage(bullet);\n                }\n              });\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: "animate",\n    value: function animate() {\n      _get(_getPrototypeOf(WarriorAssault.prototype), "testing", this).call(this);\n\n      if (this.state === _consts.default.ABILITY) {\n        if (window.timer % 3 === 0) {\n          this.graphics.scale.set(1 - this.z / (200 * 2)); // in jupming.ts\n\n          if (window.timer % 2 === 0) {\n            _EffectsFactory.default.addSmoke(this.graphics.x, this.graphics.y + 30, 1);\n          }\n        }\n\n        this.z = this.y - this.jumpFunction(this.x); // + 1 because 0 can get z > 0\n\n        if (this.z > 1) {\n          this.finishJump();\n        }\n      }\n\n      this.x += this.modX;\n      this.y += this.modY;\n      this.graphics.x = this.x;\n      this.graphics.y = this.y + this.model.offsetY + this.z;\n      this.draw();\n    }\n  }]);\n\n  return WarriorAssault;\n}(_Unit2.default);\n\nvar _default = WarriorAssault;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvV2FycmlvckFzc2F1bHQudHM/NTYyNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBRU0sYzs7Ozs7QUFJRiwwQkFBWSxRQUFaLEVBQTBCLEtBQTFCLEVBQXFDLEdBQXJDLEVBQWlELE9BQWpELEVBQWlFLElBQWpFLEVBQThFLEtBQTlFLEVBQXlGO0FBQUE7O0FBQUE7O0FBQzNGLHdGQUFNLFFBQU4sRUFBZ0IsS0FBaEIsRUFBdUIsR0FBdkIsRUFBNEIsT0FBNUIsRUFBcUMsSUFBckMsRUFBMkMsS0FBM0M7QUFDQSxVQUFLLENBQUwsR0FBUyxDQUFUO0FBRjJGO0FBRzNGOzs7OzJDQUVzQixJLEVBQVk7QUFDbEMsVUFBTSxLQUFLLEdBQUcsZUFBTSx3QkFBTixDQUErQixJQUEvQixFQUFxQyxJQUFyQyxDQUFkOztBQUNBLGFBQU8sSUFBSSxDQUFDLEtBQUQsQ0FBWDtBQUNBOzs7aUNBRVM7QUFBQTs7QUFDVCxXQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0UsV0FBSyxRQUFMLENBQWMsS0FBZCxDQUFvQixHQUFwQixDQUF3QixDQUF4QjtBQUNBLFdBQUssR0FBTCxHQUFXLFNBQVg7QUFDRixXQUFLLGdCQUFMO0FBRUEsVUFBTSxNQUFNLEdBQUc7QUFDZCxTQUFDLEVBQUUsS0FBSyxDQURNO0FBRWQsU0FBQyxFQUFFLEtBQUssQ0FGTTtBQUdkLGNBQU0sRUFBRSxxQkFBWSxjQUFaLEVBQTRCLE1BSHRCO0FBSWQsaUJBQVMsRUFBRSxxQkFBWSxjQUFaLEVBQTRCO0FBSnpCLE9BQWY7QUFPQSxZQUFNLENBQUMsU0FBUCxDQUFpQixHQUFqQixDQUFzQixVQUFDLElBQUQsRUFBTyxHQUFQLEVBQWM7QUFDbkMsWUFBRyxHQUFHLEtBQUssTUFBSSxDQUFDLE9BQWhCLEVBQXlCO0FBQ3hCLGNBQUksQ0FBQyxHQUFMLENBQVUsZUFBSyxFQUFHO0FBQ2pCLGdCQUFHLGVBQU0sR0FBTixDQUFVLEtBQUssQ0FBQyxNQUFoQixFQUF3QixNQUF4QixJQUFnQyxxQkFBWSxjQUFaLEVBQTRCLEtBQTVCLEdBQW9DLHNCQUFTLGtDQUFoRixFQUFvSDtBQUNuSCxtQkFBSyxDQUFDLE9BQU4sQ0FBYyxHQUFkLENBQWtCLGNBQUksRUFBRztBQUN4QixvQkFBRyxlQUFNLEdBQU4sQ0FBVSxNQUFWLEVBQWdCLElBQWhCLElBQXdCLHFCQUFZLGNBQVosRUFBNEIsS0FBdkQsRUFBOEQ7QUFDN0Qsc0JBQUksQ0FBQyxVQUFMLENBQWdCLE1BQWhCO0FBQ0E7QUFDRCxlQUpEO0FBS0E7QUFDRCxXQVJEO0FBU0E7QUFDRCxPQVpEO0FBYUE7Ozs4QkFFTTtBQUNKOztBQUNGLFVBQUksS0FBSyxLQUFMLEtBQWUsZ0JBQU0sT0FBekIsRUFBa0M7QUFDakMsWUFBSSxNQUFNLENBQUMsS0FBUCxHQUFlLENBQWYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDM0IsZUFBSyxRQUFMLENBQWMsS0FBZCxDQUFvQixHQUFwQixDQUF3QixJQUFJLEtBQUssQ0FBTCxJQUFVLE1BQU0sQ0FBaEIsQ0FBNUIsRUFEMkIsQ0FDc0I7O0FBQ2pELGNBQUksTUFBTSxDQUFDLEtBQVAsR0FBZSxDQUFmLEtBQXFCLENBQXpCLEVBQTRCO0FBQzNCLG9DQUFlLFFBQWYsQ0FBd0IsS0FBSyxRQUFMLENBQWMsQ0FBdEMsRUFBeUMsS0FBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixFQUEzRCxFQUErRCxDQUEvRDtBQUNBO0FBQ0Q7O0FBQ0QsYUFBSyxDQUFMLEdBQVMsS0FBSyxDQUFMLEdBQVMsS0FBSyxZQUFMLENBQWtCLEtBQUssQ0FBdkIsQ0FBbEIsQ0FQaUMsQ0FPWTs7QUFDN0MsWUFBSSxLQUFLLENBQUwsR0FBUyxDQUFiLEVBQWdCO0FBQ2YsZUFBSyxVQUFMO0FBQ0E7QUFDRDs7QUFFRCxXQUFLLENBQUwsSUFBVSxLQUFLLElBQWY7QUFDQSxXQUFLLENBQUwsSUFBVSxLQUFLLElBQWY7QUFDQSxXQUFLLFFBQUwsQ0FBYyxDQUFkLEdBQWtCLEtBQUssQ0FBdkI7QUFDQSxXQUFLLFFBQUwsQ0FBYyxDQUFkLEdBQWtCLEtBQUssQ0FBTCxHQUFTLEtBQUssS0FBTCxDQUFXLE9BQXBCLEdBQThCLEtBQUssQ0FBckQ7QUFDRSxXQUFLLElBQUw7QUFDRjs7OztFQTlEMkIsYzs7ZUFpRWQsYyIsImZpbGUiOiIyMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVW5pdCBmcm9tICcuL1VuaXQnO1xuaW1wb3J0IFdlYXBvbnNGYWN0b3J5IGZyb20gJ34vd2VhcG9ucy9XZWFwb25zRmFjdG9yeSc7XG5pbXBvcnQgV2VhcG9uVHlwZXMgZnJvbSAnfi93ZWFwb25zL1dlYXBvblR5cGVzJztcbmltcG9ydCBVdGlscyBmcm9tICcuLi91dGlscy9VdGlscyc7XG5pbXBvcnQgU3F1YWQgZnJvbSAnLi9TcXVhZCc7XG5pbXBvcnQgU1RBVEUgZnJvbSAnfi9tb2R1bGVzL2NvbnN0cyc7XG5pbXBvcnQgRWZmZWN0c0ZhY3RvcnkgZnJvbSAnfi9lZmZlY3RzL0VmZmVjdHNGYWN0b3J5JztcbmltcG9ydCBTRVRUSU5HUyBmcm9tICd+L21vZHVsZXMvZ2FtZVNldHRpbmdzJztcblxuY2xhc3MgV2FycmlvckFzc2F1bHQgZXh0ZW5kcyBVbml0IHtcblx0cHJpdmF0ZSB6OiBudW1iZXJcblx0cHVibGljIGp1bXBGdW5jdGlvbjogKHg6IG51bWJlcikgPT4gbnVtYmVyXG5cdFxuICAgIGNvbnN0cnVjdG9yKGdyYXBoaWNzOmFueSwgbW9kZWw6YW55LCBwb3M6IFBvaW50LCBmYWN0aW9uOm51bWJlciwgdHlwZTpzdHJpbmcsIHNxdWFkOlNxdWFkKSB7Ly9wYXNzIG9ubHkgd2VhcG9ucyBQQVJBTVMsIG5vdCBjb3B5IHJlZmVyZW5jZSB0byBwcmltYXJ5IHdlYXBvbiBvYmplY3Rcblx0XHRzdXBlcihncmFwaGljcywgbW9kZWwsIHBvcywgZmFjdGlvbiwgdHlwZSwgc3F1YWQpO1xuXHRcdHRoaXMueiA9IDA7XG5cdH1cblxuXHRnZXRUaGVNb3N0SW1wb3J0YW50QWltKGFpbXM6IFVuaXRbXSkge1xuXHRcdGNvbnN0IGluZGV4ID0gVXRpbHMuZ2V0SW5kZXhPZlRoZU5lYXJlc3RJdGVtKGFpbXMsIHRoaXMpO1xuXHRcdHJldHVybiBhaW1zW2luZGV4XTtcblx0fVxuXG5cdGZpbmlzaEp1bXAoKSB7XG5cdFx0dGhpcy56ID0gMDtcbiAgICB0aGlzLmdyYXBoaWNzLnNjYWxlLnNldCgxKTtcbiAgICB0aGlzLmFpbSA9IHVuZGVmaW5lZDtcblx0XHR0aGlzLmRlZmF1bHRCZWhhdmlvdXIoKTtcblx0XHRcblx0XHRjb25zdCBidWxsZXQgPSB7XG5cdFx0XHR4OiB0aGlzLngsXG5cdFx0XHR5OiB0aGlzLnksXG5cdFx0XHRkYW1hZ2U6IFdlYXBvblR5cGVzWydBU1NBVUxUX0pVTVAnXS5kYW1hZ2UsXG5cdFx0XHRleHBsb3Npb246IFdlYXBvblR5cGVzWydBU1NBVUxUX0pVTVAnXS5leHBsb3Npb24sXG5cdFx0fTtcblxuXHRcdHdpbmRvdy5hbGxTcXVhZHMubWFwKCAoZmFjdCwgaWR4KSA9PiB7XG5cdFx0XHRpZihpZHggIT09IHRoaXMuZmFjdGlvbikge1xuXHRcdFx0XHRmYWN0Lm1hcCggc3F1YWQgPT4ge1xuXHRcdFx0XHRcdGlmKFV0aWxzLmRpcyhzcXVhZC5jZW50ZXIsIHRoaXMpIDwgV2VhcG9uVHlwZXNbJ0FTU0FVTFRfSlVNUCddLnJhbmdlICsgU0VUVElOR1MuTUFYX0RJU1RBTkNFX0JFVFdFRU5fU1FVQURfTUVNQkVSUykge1xuXHRcdFx0XHRcdFx0c3F1YWQubWVtYmVycy5tYXAodW5pdCA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmKFV0aWxzLmRpcyh0aGlzLCB1bml0KSA8IFdlYXBvblR5cGVzWydBU1NBVUxUX0pVTVAnXS5yYW5nZSkge1xuXHRcdFx0XHRcdFx0XHRcdHVuaXQudGFrZURhbWFnZShidWxsZXQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGFuaW1hdGUoKSB7XG4gICAgc3VwZXIudGVzdGluZygpXG5cdFx0aWYgKHRoaXMuc3RhdGUgPT09IFNUQVRFLkFCSUxJVFkpIHtcblx0XHRcdGlmICh3aW5kb3cudGltZXIgJSAzID09PSAwKSB7XG5cdFx0XHRcdHRoaXMuZ3JhcGhpY3Muc2NhbGUuc2V0KDEgLSB0aGlzLnogLyAoMjAwICogMikpOyAvLyBpbiBqdXBtaW5nLnRzXG5cdFx0XHRcdGlmICh3aW5kb3cudGltZXIgJSAyID09PSAwKSB7XG5cdFx0XHRcdFx0RWZmZWN0c0ZhY3RvcnkuYWRkU21va2UodGhpcy5ncmFwaGljcy54LCB0aGlzLmdyYXBoaWNzLnkgKyAzMCwgMSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRoaXMueiA9IHRoaXMueSAtIHRoaXMuanVtcEZ1bmN0aW9uKHRoaXMueCk7IC8vICsgMSBiZWNhdXNlIDAgY2FuIGdldCB6ID4gMFxuXHRcdFx0aWYgKHRoaXMueiA+IDEpIHtcblx0XHRcdFx0dGhpcy5maW5pc2hKdW1wKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy54ICs9IHRoaXMubW9kWDtcblx0XHR0aGlzLnkgKz0gdGhpcy5tb2RZO1xuXHRcdHRoaXMuZ3JhcGhpY3MueCA9IHRoaXMueDtcblx0XHR0aGlzLmdyYXBoaWNzLnkgPSB0aGlzLnkgKyB0aGlzLm1vZGVsLm9mZnNldFkgKyB0aGlzLno7XG4gICAgdGhpcy5kcmF3KCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2FycmlvckFzc2F1bHQ7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///225\n')},226:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  var scale = 0.7;\n  var humanIdleFrames = [];\n  var framesPeriods = {\n    STAY: {\n      first: 0,\n      sides: 12,\n      length: 1,\n      last: 11\n    },\n    SHOOT: {\n      first: 12,\n      sides: 12,\n      length: 6,\n      last: 12 * 6 + 12 - 1\n    },\n    GO: {\n      first: 72 + 12,\n      sides: 12,\n      length: 16,\n      last: 12 * 16 + 72 + 12 - 1\n    },\n    FLY: {\n      first: 192 + 72 + 12,\n      sides: 8,\n      length: 31,\n      last: 8 * 31 + 192 + 72 + 12 - 1\n    },\n    GETUP: {\n      first: 248 + 192 + 72 + 12,\n      sides: 8,\n      length: 24,\n      last: 8 * 24 + 248 + 192 + 72 + 12 - 1\n    }\n  };\n\n  for (var i = 0; i < framesPeriods.STAY.sides * framesPeriods.STAY.length; i++) {\n    var count = i < 10 ? "0".concat(i) : i;\n    var texture = "idle_00".concat(count, "_solider_run00").concat(count, ".png.png");\n    humanIdleFrames.push(PIXI.Texture.fromFrame(texture));\n  }\n\n  for (var _i = 0; _i < framesPeriods.SHOOT.sides * framesPeriods.SHOOT.length; _i++) {\n    var _count = _i < 10 ? "0".concat(_i) : _i;\n\n    var _texture = "_00".concat(_count, "_s_f00").concat(_count, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture));\n  }\n\n  for (var _i2 = 0; _i2 < framesPeriods.GO.sides * framesPeriods.GO.length; _i2++) {\n    var _count2 = void 0;\n\n    if (_i2 < 10) {\n      _count2 = "00".concat(_i2);\n    } else if (_i2 < 100) {\n      _count2 = "0".concat(_i2);\n    } else {\n      _count2 = _i2;\n    }\n\n    var _texture2 = "_0".concat(_count2, "_s_g0").concat(_count2, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture2));\n  }\n\n  for (var _i3 = 0; _i3 < framesPeriods.FLY.sides * framesPeriods.FLY.length; _i3++) {\n    var _count3 = void 0;\n\n    if (_i3 < 10) {\n      _count3 = "00".concat(_i3);\n    } else if (_i3 < 100) {\n      _count3 = "0".concat(_i3);\n    } else {\n      _count3 = _i3;\n    }\n\n    var _texture3 = "_0".concat(_count3, "_s_h0").concat(_count3, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture3));\n  }\n\n  for (var _i4 = 0; _i4 < framesPeriods.GETUP.sides * framesPeriods.GETUP.length; _i4++) {\n    var _count4 = void 0;\n\n    if (_i4 < 10) {\n      _count4 = "00".concat(_i4);\n    } else if (_i4 < 100) {\n      _count4 = "0".concat(_i4);\n    } else {\n      _count4 = _i4;\n    }\n\n    var _texture4 = "_0".concat(_count4, "_s_gu0").concat(_count4, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture4));\n  }\n\n  var angles = [15, 45, 75, 115, 135, 165, 195, 225, 255, 285, 315, 345];\n  var rifleAngles = [0, 35, 58, 86, 115, 140, 175, 210, 235, 270, 295, 320];\n\n  var calculateRiflePosition = function calculateRiflePosition() {\n    return rifleAngles.map(function (i) {\n      var radius = 48.5,\n          angle = (i + 90) * Math.PI / 180;\n      var x = -Math.sin(angle) * radius,\n          y = -Math.cos(angle) * radius;\n      y *= 0.783;\n      return {\n        x: x,\n        y: y\n      };\n    });\n  };\n\n  var riflePoints = calculateRiflePosition();\n  return function () {\n    var movieClip = new PIXI.extras.AnimatedSprite(humanIdleFrames);\n    movieClip.animationSpeed = 0.4;\n    movieClip.scale.set(scale); // movieClip.anchor.set(0.5, 0);\n\n    return {\n      movieClip: movieClip,\n      riflePoints: riflePoints,\n      angles: angles,\n      scale: scale,\n      vertialOffset: 23,\n      framesPeriods: framesPeriods\n    };\n  };\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlcy9zb2xpZGVyU3ByaXRlcy50cz83NjI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxvQkFBSztBQUNoQixNQUFNLEtBQUssR0FBRyxHQUFkO0FBQ0EsTUFBTSxlQUFlLEdBQUcsRUFBeEI7QUFFQSxNQUFNLGFBQWEsR0FBRztBQUNsQixRQUFJLEVBQUU7QUFDRixXQUFLLEVBQUUsQ0FETDtBQUVGLFdBQUssRUFBRSxFQUZMO0FBR0YsWUFBTSxFQUFFLENBSE47QUFJRixVQUFJLEVBQUU7QUFKSixLQURZO0FBT2xCLFNBQUssRUFBRTtBQUNILFdBQUssRUFBRSxFQURKO0FBRUgsV0FBSyxFQUFFLEVBRko7QUFHSCxZQUFNLEVBQUUsQ0FITDtBQUlILFVBQUksRUFBRSxLQUFLLENBQUwsR0FBUyxFQUFULEdBQWM7QUFKakIsS0FQVztBQWFsQixNQUFFLEVBQUU7QUFDQSxXQUFLLEVBQUUsS0FBSyxFQURaO0FBRUEsV0FBSyxFQUFFLEVBRlA7QUFHQSxZQUFNLEVBQUUsRUFIUjtBQUlBLFVBQUksRUFBRSxLQUFLLEVBQUwsR0FBVSxFQUFWLEdBQWUsRUFBZixHQUFvQjtBQUoxQixLQWJjO0FBbUJsQixPQUFHLEVBQUU7QUFDRCxXQUFLLEVBQUUsTUFBTSxFQUFOLEdBQVcsRUFEakI7QUFFRCxXQUFLLEVBQUUsQ0FGTjtBQUdELFlBQU0sRUFBRSxFQUhQO0FBSUQsVUFBSSxFQUFFLElBQUksRUFBSixHQUFTLEdBQVQsR0FBZSxFQUFmLEdBQW9CLEVBQXBCLEdBQXlCO0FBSjlCLEtBbkJhO0FBeUJsQixTQUFLLEVBQUU7QUFDSCxXQUFLLEVBQUUsTUFBTSxHQUFOLEdBQVksRUFBWixHQUFpQixFQURyQjtBQUVILFdBQUssRUFBRSxDQUZKO0FBR0gsWUFBTSxFQUFFLEVBSEw7QUFJSCxVQUFJLEVBQUUsSUFBSSxFQUFKLEdBQVMsR0FBVCxHQUFlLEdBQWYsR0FBcUIsRUFBckIsR0FBMEIsRUFBMUIsR0FBK0I7QUFKbEM7QUF6QlcsR0FBdEI7O0FBa0NBLE9BQUksSUFBSSxDQUFDLEdBQUcsQ0FBWixFQUFlLENBQUMsR0FBRyxhQUFhLENBQUMsSUFBZCxDQUFtQixLQUFuQixHQUEyQixhQUFhLENBQUMsSUFBZCxDQUFtQixNQUFqRSxFQUF5RSxDQUFDLEVBQTFFLEVBQThFO0FBQzFFLFFBQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxFQUFKLGNBQWEsQ0FBYixJQUFtQixDQUFqQztBQUNBLFFBQU0sT0FBTyxvQkFBYSxLQUFiLDJCQUFtQyxLQUFuQyxhQUFiO0FBQ0EsbUJBQWUsQ0FBQyxJQUFoQixDQUFxQixJQUFJLENBQUMsT0FBTCxDQUFhLFNBQWIsQ0FBdUIsT0FBdkIsQ0FBckI7QUFDSDs7QUFFRCxPQUFJLElBQUksRUFBQyxHQUFHLENBQVosRUFBZSxFQUFDLEdBQUcsYUFBYSxDQUFDLEtBQWQsQ0FBb0IsS0FBcEIsR0FBNEIsYUFBYSxDQUFDLEtBQWQsQ0FBb0IsTUFBbkUsRUFBMkUsRUFBQyxFQUE1RSxFQUFnRjtBQUM1RSxRQUFNLE1BQUssR0FBRyxFQUFDLEdBQUcsRUFBSixjQUFhLEVBQWIsSUFBbUIsRUFBakM7O0FBQ0EsUUFBTSxRQUFPLGdCQUFTLE1BQVQsbUJBQXVCLE1BQXZCLGFBQWI7O0FBQ0EsbUJBQWUsQ0FBQyxJQUFoQixDQUFxQixJQUFJLENBQUMsT0FBTCxDQUFhLFNBQWIsQ0FBdUIsUUFBdkIsQ0FBckI7QUFDSDs7QUFFRCxPQUFJLElBQUksR0FBQyxHQUFHLENBQVosRUFBZSxHQUFDLEdBQUcsYUFBYSxDQUFDLEVBQWQsQ0FBaUIsS0FBakIsR0FBeUIsYUFBYSxDQUFDLEVBQWQsQ0FBaUIsTUFBN0QsRUFBcUUsR0FBQyxFQUF0RSxFQUEwRTtBQUN0RSxRQUFJLE9BQUssU0FBVDs7QUFDQSxRQUFHLEdBQUMsR0FBRyxFQUFQLEVBQVc7QUFDUCxhQUFLLGVBQVEsR0FBUixDQUFMO0FBQ0gsS0FGRCxNQUVPLElBQUcsR0FBQyxHQUFHLEdBQVAsRUFBWTtBQUNmLGFBQUssY0FBTyxHQUFQLENBQUw7QUFDSCxLQUZNLE1BRUE7QUFDSCxhQUFLLEdBQUcsR0FBUjtBQUNIOztBQUNELFFBQU0sU0FBTyxlQUFRLE9BQVIsa0JBQXFCLE9BQXJCLGFBQWI7O0FBQ0EsbUJBQWUsQ0FBQyxJQUFoQixDQUFxQixJQUFJLENBQUMsT0FBTCxDQUFhLFNBQWIsQ0FBdUIsU0FBdkIsQ0FBckI7QUFDSDs7QUFFRCxPQUFJLElBQUksR0FBQyxHQUFHLENBQVosRUFBZSxHQUFDLEdBQUcsYUFBYSxDQUFDLEdBQWQsQ0FBa0IsS0FBbEIsR0FBMEIsYUFBYSxDQUFDLEdBQWQsQ0FBa0IsTUFBL0QsRUFBdUUsR0FBQyxFQUF4RSxFQUE0RTtBQUN4RSxRQUFJLE9BQUssU0FBVDs7QUFDQSxRQUFHLEdBQUMsR0FBRyxFQUFQLEVBQVc7QUFDUCxhQUFLLGVBQVEsR0FBUixDQUFMO0FBQ0gsS0FGRCxNQUVPLElBQUcsR0FBQyxHQUFHLEdBQVAsRUFBWTtBQUNmLGFBQUssY0FBTyxHQUFQLENBQUw7QUFDSCxLQUZNLE1BRUE7QUFDSCxhQUFLLEdBQUcsR0FBUjtBQUNIOztBQUNELFFBQU0sU0FBTyxlQUFRLE9BQVIsa0JBQXFCLE9BQXJCLGFBQWI7O0FBQ0EsbUJBQWUsQ0FBQyxJQUFoQixDQUFxQixJQUFJLENBQUMsT0FBTCxDQUFhLFNBQWIsQ0FBdUIsU0FBdkIsQ0FBckI7QUFDSDs7QUFFRCxPQUFJLElBQUksR0FBQyxHQUFHLENBQVosRUFBZSxHQUFDLEdBQUcsYUFBYSxDQUFDLEtBQWQsQ0FBb0IsS0FBcEIsR0FBNEIsYUFBYSxDQUFDLEtBQWQsQ0FBb0IsTUFBbkUsRUFBMkUsR0FBQyxFQUE1RSxFQUFnRjtBQUM1RSxRQUFJLE9BQUssU0FBVDs7QUFDQSxRQUFHLEdBQUMsR0FBRyxFQUFQLEVBQVc7QUFDUCxhQUFLLGVBQVEsR0FBUixDQUFMO0FBQ0gsS0FGRCxNQUVPLElBQUcsR0FBQyxHQUFHLEdBQVAsRUFBWTtBQUNmLGFBQUssY0FBTyxHQUFQLENBQUw7QUFDSCxLQUZNLE1BRUE7QUFDSCxhQUFLLEdBQUcsR0FBUjtBQUNIOztBQUNELFFBQU0sU0FBTyxlQUFRLE9BQVIsbUJBQXNCLE9BQXRCLGFBQWI7O0FBQ0EsbUJBQWUsQ0FBQyxJQUFoQixDQUFxQixJQUFJLENBQUMsT0FBTCxDQUFhLFNBQWIsQ0FBdUIsU0FBdkIsQ0FBckI7QUFDSDs7QUFFRCxNQUFNLE1BQU0sR0FBRyxDQUFDLEVBQUQsRUFBSyxFQUFMLEVBQVMsRUFBVCxFQUFhLEdBQWIsRUFBa0IsR0FBbEIsRUFBdUIsR0FBdkIsRUFBNEIsR0FBNUIsRUFBaUMsR0FBakMsRUFBc0MsR0FBdEMsRUFBMkMsR0FBM0MsRUFBZ0QsR0FBaEQsRUFBcUQsR0FBckQsQ0FBZjtBQUNBLE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBRCxFQUFJLEVBQUosRUFBUSxFQUFSLEVBQVksRUFBWixFQUFnQixHQUFoQixFQUFxQixHQUFyQixFQUEwQixHQUExQixFQUErQixHQUEvQixFQUFvQyxHQUFwQyxFQUF5QyxHQUF6QyxFQUE4QyxHQUE5QyxFQUFtRCxHQUFuRCxDQUFwQjs7QUFFQSxNQUFNLHNCQUFzQixHQUFHLFNBQXpCLHNCQUF5QixHQUFLO0FBQ2hDLFdBQU8sV0FBVyxDQUFDLEdBQVosQ0FBZ0IsVUFBQyxDQUFELEVBQU07QUFDekIsVUFBTSxNQUFNLEdBQUcsSUFBZjtBQUFBLFVBQ0ksS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUwsSUFBVyxJQUFJLENBQUMsRUFBaEIsR0FBcUIsR0FEakM7QUFHQSxVQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFMLENBQVMsS0FBVCxDQUFELEdBQW1CLE1BQTNCO0FBQUEsVUFDSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsQ0FBRCxHQUFtQixNQUQzQjtBQUVBLE9BQUMsSUFBSSxLQUFMO0FBRUEsYUFBTztBQUFDLFNBQUMsRUFBRCxDQUFEO0FBQUksU0FBQyxFQUFEO0FBQUosT0FBUDtBQUNILEtBVE0sQ0FBUDtBQVVILEdBWEQ7O0FBYUEsTUFBTSxXQUFXLEdBQUcsc0JBQXNCLEVBQTFDO0FBRUEsU0FBTyxZQUFLO0FBQ1IsUUFBTSxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTCxDQUFZLGNBQWhCLENBQStCLGVBQS9CLENBQWxCO0FBQ0EsYUFBUyxDQUFDLGNBQVYsR0FBMkIsR0FBM0I7QUFDQSxhQUFTLENBQUMsS0FBVixDQUFnQixHQUFoQixDQUFvQixLQUFwQixFQUhRLENBSVI7O0FBRUEsV0FBTztBQUNILGVBQVMsRUFBVCxTQURHO0FBRUgsaUJBQVcsRUFBWCxXQUZHO0FBR0gsWUFBTSxFQUFOLE1BSEc7QUFJSCxXQUFLLEVBQUwsS0FKRztBQUtILG1CQUFhLEVBQUUsRUFMWjtBQU1ILG1CQUFhLEVBQWI7QUFORyxLQUFQO0FBUUgsR0FkRDtBQWVILEMiLCJmaWxlIjoiMjI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAgIGNvbnN0IHNjYWxlID0gMC43O1xuICAgIGNvbnN0IGh1bWFuSWRsZUZyYW1lcyA9IFtdO1xuXG4gICAgY29uc3QgZnJhbWVzUGVyaW9kcyA9IHtcbiAgICAgICAgU1RBWToge1xuICAgICAgICAgICAgZmlyc3Q6IDAsXG4gICAgICAgICAgICBzaWRlczogMTIsXG4gICAgICAgICAgICBsZW5ndGg6IDEsXG4gICAgICAgICAgICBsYXN0OiAxMSxcbiAgICAgICAgfSxcbiAgICAgICAgU0hPT1Q6IHtcbiAgICAgICAgICAgIGZpcnN0OiAxMixcbiAgICAgICAgICAgIHNpZGVzOiAxMixcbiAgICAgICAgICAgIGxlbmd0aDogNixcbiAgICAgICAgICAgIGxhc3Q6IDEyICogNiArIDEyIC0gMSxcbiAgICAgICAgfSxcbiAgICAgICAgR086IHtcbiAgICAgICAgICAgIGZpcnN0OiA3MiArIDEyLFxuICAgICAgICAgICAgc2lkZXM6IDEyLFxuICAgICAgICAgICAgbGVuZ3RoOiAxNixcbiAgICAgICAgICAgIGxhc3Q6IDEyICogMTYgKyA3MiArIDEyIC0gMSxcbiAgICAgICAgfSxcbiAgICAgICAgRkxZOiB7XG4gICAgICAgICAgICBmaXJzdDogMTkyICsgNzIgKyAxMixcbiAgICAgICAgICAgIHNpZGVzOiA4LFxuICAgICAgICAgICAgbGVuZ3RoOiAzMSxcbiAgICAgICAgICAgIGxhc3Q6IDggKiAzMSArIDE5MiArIDcyICsgMTIgLSAxLFxuICAgICAgICB9LFxuICAgICAgICBHRVRVUDoge1xuICAgICAgICAgICAgZmlyc3Q6IDI0OCArIDE5MiArIDcyICsgMTIsXG4gICAgICAgICAgICBzaWRlczogOCxcbiAgICAgICAgICAgIGxlbmd0aDogMjQsXG4gICAgICAgICAgICBsYXN0OiA4ICogMjQgKyAyNDggKyAxOTIgKyA3MiArIDEyIC0gMSxcbiAgICAgICAgfSxcbiAgICB9XG5cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmcmFtZXNQZXJpb2RzLlNUQVkuc2lkZXMgKiBmcmFtZXNQZXJpb2RzLlNUQVkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY291bnQgPSBpIDwgMTAgPyBgMCR7aX1gIDogaTtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBpZGxlXzAwJHtjb3VudH1fc29saWRlcl9ydW4wMCR7Y291bnR9LnBuZy5wbmdgO1xuICAgICAgICBodW1hbklkbGVGcmFtZXMucHVzaChQSVhJLlRleHR1cmUuZnJvbUZyYW1lKHRleHR1cmUpKTtcbiAgICB9XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZnJhbWVzUGVyaW9kcy5TSE9PVC5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuU0hPT1QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY291bnQgPSBpIDwgMTAgPyBgMCR7aX1gIDogaTtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBfMDAke2NvdW50fV9zX2YwMCR7Y291bnR9LnBuZy5wbmdgO1xuICAgICAgICBodW1hbklkbGVGcmFtZXMucHVzaChQSVhJLlRleHR1cmUuZnJvbUZyYW1lKHRleHR1cmUpKTtcbiAgICB9XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZnJhbWVzUGVyaW9kcy5HTy5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuR08ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNvdW50O1xuICAgICAgICBpZihpIDwgMTApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYDAwJHtpfWA7XG4gICAgICAgIH0gZWxzZSBpZihpIDwgMTAwKSB7XG4gICAgICAgICAgICBjb3VudCA9IGAwJHtpfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb3VudCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBfMCR7Y291bnR9X3NfZzAke2NvdW50fS5wbmcucG5nYDtcbiAgICAgICAgaHVtYW5JZGxlRnJhbWVzLnB1c2goUElYSS5UZXh0dXJlLmZyb21GcmFtZSh0ZXh0dXJlKSk7XG4gICAgfVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGZyYW1lc1BlcmlvZHMuRkxZLnNpZGVzICogZnJhbWVzUGVyaW9kcy5GTFkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNvdW50O1xuICAgICAgICBpZihpIDwgMTApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYDAwJHtpfWA7XG4gICAgICAgIH0gZWxzZSBpZihpIDwgMTAwKSB7XG4gICAgICAgICAgICBjb3VudCA9IGAwJHtpfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb3VudCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBfMCR7Y291bnR9X3NfaDAke2NvdW50fS5wbmcucG5nYDtcbiAgICAgICAgaHVtYW5JZGxlRnJhbWVzLnB1c2goUElYSS5UZXh0dXJlLmZyb21GcmFtZSh0ZXh0dXJlKSk7XG4gICAgfVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGZyYW1lc1BlcmlvZHMuR0VUVVAuc2lkZXMgKiBmcmFtZXNQZXJpb2RzLkdFVFVQLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjb3VudDtcbiAgICAgICAgaWYoaSA8IDEwKSB7XG4gICAgICAgICAgICBjb3VudCA9IGAwMCR7aX1gO1xuICAgICAgICB9IGVsc2UgaWYoaSA8IDEwMCkge1xuICAgICAgICAgICAgY291bnQgPSBgMCR7aX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY291bnQgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBgXzAke2NvdW50fV9zX2d1MCR7Y291bnR9LnBuZy5wbmdgO1xuICAgICAgICBodW1hbklkbGVGcmFtZXMucHVzaChQSVhJLlRleHR1cmUuZnJvbUZyYW1lKHRleHR1cmUpKTtcbiAgICB9XG5cbiAgICBjb25zdCBhbmdsZXMgPSBbMTUsIDQ1LCA3NSwgMTE1LCAxMzUsIDE2NSwgMTk1LCAyMjUsIDI1NSwgMjg1LCAzMTUsIDM0NV07XG4gICAgY29uc3QgcmlmbGVBbmdsZXMgPSBbMCwgMzUsIDU4LCA4NiwgMTE1LCAxNDAsIDE3NSwgMjEwLCAyMzUsIDI3MCwgMjk1LCAzMjBdO1xuXG4gICAgY29uc3QgY2FsY3VsYXRlUmlmbGVQb3NpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHJpZmxlQW5nbGVzLm1hcCgoaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gNDguNSxcbiAgICAgICAgICAgICAgICBhbmdsZSA9IChpICsgOTApICogTWF0aC5QSSAvIDE4MDtcblxuICAgICAgICAgICAgbGV0IHggPSAtTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgICAgIHkgPSAtTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xuICAgICAgICAgICAgeSAqPSAwLjc4MztcblxuICAgICAgICAgICAgcmV0dXJuIHt4LCB5fTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmlmbGVQb2ludHMgPSBjYWxjdWxhdGVSaWZsZVBvc2l0aW9uKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBtb3ZpZUNsaXAgPSBuZXcgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUoaHVtYW5JZGxlRnJhbWVzKTtcbiAgICAgICAgbW92aWVDbGlwLmFuaW1hdGlvblNwZWVkID0gMC40O1xuICAgICAgICBtb3ZpZUNsaXAuc2NhbGUuc2V0KHNjYWxlKTtcbiAgICAgICAgLy8gbW92aWVDbGlwLmFuY2hvci5zZXQoMC41LCAwKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW92aWVDbGlwLFxuICAgICAgICAgICAgcmlmbGVQb2ludHMsXG4gICAgICAgICAgICBhbmdsZXMsXG4gICAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICAgIHZlcnRpYWxPZmZzZXQ6IDIzLFxuICAgICAgICAgICAgZnJhbWVzUGVyaW9kc1xuICAgICAgICB9O1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///226\n')},227:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  var scale = 0.9;\n  var humanIdleFrames = [];\n  var framesPeriods = {\n    STAY: {\n      first: 0,\n      sides: 12,\n      length: 1,\n      last: 11\n    },\n    SHOOT: {\n      first: 12,\n      sides: 12,\n      length: 6,\n      last: 12 * 6 + 12 - 1\n    },\n    GO: {\n      first: 72 + 12,\n      sides: 12,\n      length: 16,\n      last: 12 * 16 + 72 + 12 - 1\n    },\n    FLY: {\n      first: 192 + 72 + 12,\n      sides: 8,\n      length: 31,\n      last: 8 * 31 + 192 + 72 + 12 - 1\n    },\n    GETUP: {\n      first: 248 + 192 + 72 + 12,\n      sides: 8,\n      length: 24,\n      last: 8 * 24 + 248 + 192 + 72 + 12 - 1\n    }\n  };\n\n  for (var i = 0; i < framesPeriods.STAY.sides * framesPeriods.STAY.length; i++) {\n    var count = i < 10 ? "0".concat(i) : i;\n    var texture = "_00".concat(count, "_w_r00").concat(count, ".png.png");\n    humanIdleFrames.push(PIXI.Texture.fromFrame(texture));\n  }\n\n  for (var _i = 0; _i < framesPeriods.SHOOT.sides * framesPeriods.SHOOT.length; _i++) {\n    var _count = _i < 10 ? "0".concat(_i) : _i;\n\n    var _texture = "_00".concat(_count, "_w_f00").concat(_count, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture));\n  }\n\n  for (var _i2 = 0; _i2 < framesPeriods.GO.sides * framesPeriods.GO.length; _i2++) {\n    var _count2 = void 0;\n\n    if (_i2 < 10) {\n      _count2 = "00".concat(_i2);\n    } else if (_i2 < 100) {\n      _count2 = "0".concat(_i2);\n    } else {\n      _count2 = _i2;\n    }\n\n    var _texture2 = "_0".concat(_count2, "_w_g0").concat(_count2, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture2));\n  }\n\n  for (var _i3 = 0; _i3 < framesPeriods.FLY.sides * framesPeriods.FLY.length; _i3++) {\n    var _count3 = void 0;\n\n    if (_i3 < 10) {\n      _count3 = "00".concat(_i3);\n    } else if (_i3 < 100) {\n      _count3 = "0".concat(_i3);\n    } else {\n      _count3 = _i3;\n    }\n\n    var _texture3 = "_0".concat(_count3, "_w_h0").concat(_count3, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture3));\n  }\n\n  for (var _i4 = 0; _i4 < framesPeriods.GETUP.sides * framesPeriods.GETUP.length; _i4++) {\n    var _count4 = void 0;\n\n    if (_i4 < 10) {\n      _count4 = "00".concat(_i4);\n    } else if (_i4 < 100) {\n      _count4 = "0".concat(_i4);\n    } else {\n      _count4 = _i4;\n    }\n\n    var _texture4 = "_0".concat(_count4, "_w_gu0").concat(_count4, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture4));\n  }\n\n  var angles = [14, 45, 75, 115, 138, 172, 195, 225, 256, 285, 315, 345];\n  var rifleAngles = [0, 35, 55, 85, 110, 135, 170, 210, 235, 270, 300, 325];\n\n  var calculateRiflePosition = function calculateRiflePosition() {\n    return rifleAngles.map(function (i) {\n      var radius = 48.5,\n          angle = (i + 90) * Math.PI / 180;\n      var x = -Math.sin(angle) * radius,\n          y = -Math.cos(angle) * radius;\n      y *= 0.783;\n      return {\n        x: x,\n        y: y\n      };\n    });\n  };\n\n  var riflePoints = calculateRiflePosition();\n  return function () {\n    var movieClip = new PIXI.extras.AnimatedSprite(humanIdleFrames);\n    movieClip.animationSpeed = 0.4;\n    movieClip.scale.set(scale); // movieClip.anchor.set(0.5, 0.1);\n\n    return {\n      movieClip: movieClip,\n      riflePoints: riflePoints,\n      angles: angles,\n      scale: scale,\n      vertialOffset: 23,\n      framesPeriods: framesPeriods\n    };\n  };\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlcy93YXJyaW9yU3ByaXRlcy50cz81ODVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxvQkFBSztBQUNoQixNQUFNLEtBQUssR0FBRyxHQUFkO0FBQ0EsTUFBTSxlQUFlLEdBQUcsRUFBeEI7QUFFQSxNQUFNLGFBQWEsR0FBRztBQUNsQixRQUFJLEVBQUU7QUFDRixXQUFLLEVBQUUsQ0FETDtBQUVGLFdBQUssRUFBRSxFQUZMO0FBR0YsWUFBTSxFQUFFLENBSE47QUFJRixVQUFJLEVBQUU7QUFKSixLQURZO0FBT2xCLFNBQUssRUFBRTtBQUNILFdBQUssRUFBRSxFQURKO0FBRUgsV0FBSyxFQUFFLEVBRko7QUFHSCxZQUFNLEVBQUUsQ0FITDtBQUlILFVBQUksRUFBRSxLQUFLLENBQUwsR0FBUyxFQUFULEdBQWM7QUFKakIsS0FQVztBQWFsQixNQUFFLEVBQUU7QUFDQSxXQUFLLEVBQUUsS0FBSyxFQURaO0FBRUEsV0FBSyxFQUFFLEVBRlA7QUFHQSxZQUFNLEVBQUUsRUFIUjtBQUlBLFVBQUksRUFBRSxLQUFLLEVBQUwsR0FBVSxFQUFWLEdBQWUsRUFBZixHQUFvQjtBQUoxQixLQWJjO0FBbUJsQixPQUFHLEVBQUU7QUFDRCxXQUFLLEVBQUUsTUFBTSxFQUFOLEdBQVcsRUFEakI7QUFFRCxXQUFLLEVBQUUsQ0FGTjtBQUdELFlBQU0sRUFBRSxFQUhQO0FBSUQsVUFBSSxFQUFFLElBQUksRUFBSixHQUFTLEdBQVQsR0FBZSxFQUFmLEdBQW9CLEVBQXBCLEdBQXlCO0FBSjlCLEtBbkJhO0FBeUJsQixTQUFLLEVBQUU7QUFDSCxXQUFLLEVBQUUsTUFBTSxHQUFOLEdBQVksRUFBWixHQUFpQixFQURyQjtBQUVILFdBQUssRUFBRSxDQUZKO0FBR0gsWUFBTSxFQUFFLEVBSEw7QUFJSCxVQUFJLEVBQUUsSUFBSSxFQUFKLEdBQVMsR0FBVCxHQUFlLEdBQWYsR0FBcUIsRUFBckIsR0FBMEIsRUFBMUIs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QUcsc0JBQXNCLEVBQTFDO0FBRUEsU0FBTyxZQUFLO0FBQ1IsUUFBTSxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTCxDQUFZLGNBQWhCLENBQStCLGVBQS9CLENBQWxCO0FBQ0EsYUFBUyxDQUFDLGNBQVYsR0FBMkIsR0FBM0I7QUFDQSxhQUFTLENBQUMsS0FBVixDQUFnQixHQUFoQixDQUFvQixLQUFwQixFQUhRLENBSVI7O0FBQ0EsV0FBTztBQUNILGVBQVMsRUFBVCxTQURHO0FBRUgsaUJBQVcsRUFBWCxXQUZHO0FBR0gsWUFBTSxFQUFOLE1BSEc7QUFJSCxXQUFLLEVBQUwsS0FKRztBQUtILG1CQUFhLEVBQUUsRUFMWjtBQU1ILG1CQUFhLEVBQWI7QUFORyxLQUFQO0FBUUgsR0FiRDtBQWNILEMiLCJmaWxlIjoiMjI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAgIGNvbnN0IHNjYWxlID0gMC45O1xuICAgIGNvbnN0IGh1bWFuSWRsZUZyYW1lcyA9IFtdO1xuXG4gICAgY29uc3QgZnJhbWVzUGVyaW9kcyA9IHtcbiAgICAgICAgU1RBWToge1xuICAgICAgICAgICAgZmlyc3Q6IDAsXG4gICAgICAgICAgICBzaWRlczogMTIsXG4gICAgICAgICAgICBsZW5ndGg6IDEsXG4gICAgICAgICAgICBsYXN0OiAxMSxcbiAgICAgICAgfSxcbiAgICAgICAgU0hPT1Q6IHtcbiAgICAgICAgICAgIGZpcnN0OiAxMixcbiAgICAgICAgICAgIHNpZGVzOiAxMixcbiAgICAgICAgICAgIGxlbmd0aDogNixcbiAgICAgICAgICAgIGxhc3Q6IDEyICogNiArIDEyIC0gMSxcbiAgICAgICAgfSxcbiAgICAgICAgR086IHtcbiAgICAgICAgICAgIGZpcnN0OiA3MiArIDEyLFxuICAgICAgICAgICAgc2lkZXM6IDEyLFxuICAgICAgICAgICAgbGVuZ3RoOiAxNixcbiAgICAgICAgICAgIGxhc3Q6IDEyICogMTYgKyA3MiArIDEyIC0gMSxcbiAgICAgICAgfSxcbiAgICAgICAgRkxZOiB7XG4gICAgICAgICAgICBmaXJzdDogMTkyICsgNzIgKyAxMixcbiAgICAgICAgICAgIHNpZGVzOiA4LFxuICAgICAgICAgICAgbGVuZ3RoOiAzMSxcbiAgICAgICAgICAgIGxhc3Q6IDggKiAzMSArIDE5MiArIDcyICsgMTIgLSAxLFxuICAgICAgICB9LFxuICAgICAgICBHRVRVUDoge1xuICAgICAgICAgICAgZmlyc3Q6IDI0OCArIDE5MiArIDcyICsgMTIsXG4gICAgICAgICAgICBzaWRlczogOCxcbiAgICAgICAgICAgIGxlbmd0aDogMjQsXG4gICAgICAgICAgICBsYXN0OiA4ICogMjQgKyAyNDggKyAxOTIgKyA3MiArIDEyIC0gMSxcbiAgICAgICAgfSxcbiAgICB9XG5cblxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGZyYW1lc1BlcmlvZHMuU1RBWS5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuU1RBWS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb3VudCA9IGkgPCAxMCA/IGAwJHtpfWAgOiBpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gYF8wMCR7Y291bnR9X3dfcjAwJHtjb3VudH0ucG5nLnBuZ2A7XG4gICAgICAgIGh1bWFuSWRsZUZyYW1lcy5wdXNoKFBJWEkuVGV4dHVyZS5mcm9tRnJhbWUodGV4dHVyZSkpO1xuICAgIH1cbiAgICBcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZnJhbWVzUGVyaW9kcy5TSE9PVC5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuU0hPT1QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY291bnQgPSBpIDwgMTAgPyBgMCR7aX1gIDogaTtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBfMDAke2NvdW50fV93X2YwMCR7Y291bnR9LnBuZy5wbmdgO1xuICAgICAgICBodW1hbklkbGVGcmFtZXMucHVzaChQSVhJLlRleHR1cmUuZnJvbUZyYW1lKHRleHR1cmUpKTtcbiAgICB9XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZnJhbWVzUGVyaW9kcy5HTy5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuR08ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNvdW50O1xuICAgICAgICBpZihpIDwgMTApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYDAwJHtpfWA7XG4gICAgICAgIH0gZWxzZSBpZihpIDwgMTAwKSB7XG4gICAgICAgICAgICBjb3VudCA9IGAwJHtpfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb3VudCA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGBfMCR7Y291bnR9X3dfZzAke2NvdW50fS5wbmcucG5nYDtcbiAgICAgICAgaHVtYW5JZGxlRnJhbWVzLnB1c2goUElYSS5UZXh0dXJlLmZyb21GcmFtZSh0ZXh0dXJlKSk7XG4gICAgfVxuXG5cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmcmFtZXNQZXJpb2RzLkZMWS5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuRkxZLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjb3VudDtcbiAgICAgICAgaWYoaSA8IDEwKSB7XG4gICAgICAgICAgICBjb3VudCA9IGAwMCR7aX1gO1xuICAgICAgICB9IGVsc2UgaWYoaSA8IDEwMCkge1xuICAgICAgICAgICAgY291bnQgPSBgMCR7aX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY291bnQgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBgXzAke2NvdW50fV93X2gwJHtjb3VudH0ucG5nLnBuZ2A7XG4gICAgICAgIGh1bWFuSWRsZUZyYW1lcy5wdXNoKFBJWEkuVGV4dHVyZS5mcm9tRnJhbWUodGV4dHVyZSkpO1xuICAgIH1cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmcmFtZXNQZXJpb2RzLkdFVFVQLnNpZGVzICogZnJhbWVzUGVyaW9kcy5HRVRVUC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY291bnQ7XG4gICAgICAgIGlmKGkgPCAxMCkge1xuICAgICAgICAgICAgY291bnQgPSBgMDAke2l9YDtcbiAgICAgICAgfSBlbHNlIGlmKGkgPCAxMDApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYDAke2l9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gYF8wJHtjb3VudH1fd19ndTAke2NvdW50fS5wbmcucG5nYDtcbiAgICAgICAgaHVtYW5JZGxlRnJhbWVzLnB1c2goUElYSS5UZXh0dXJlLmZyb21GcmFtZSh0ZXh0dXJlKSk7XG4gICAgfVxuXG5cbiAgICBjb25zdCBhbmdsZXMgPSBbMTQsIDQ1LCA3NSwgMTE1LCAxMzgsIDE3MiwgMTk1LCAyMjUsIDI1NiwgMjg1LCAzMTUsIDM0NV07XG4gICAgY29uc3QgcmlmbGVBbmdsZXMgPSBbMCwgMzUsIDU1LCA4NSwgMTEwLCAxMzUsIDE3MCwgMjEwLCAyMzUsIDI3MCwgMzAwLCAzMjVdO1xuXG4gICAgY29uc3QgY2FsY3VsYXRlUmlmbGVQb3NpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHJpZmxlQW5nbGVzLm1hcCgoaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gNDguNSxcbiAgICAgICAgICAgICAgICBhbmdsZSA9IChpICsgOTApICogTWF0aC5QSSAvIDE4MDtcblxuICAgICAgICAgICAgbGV0IHggPSAtTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgICAgIHkgPSAtTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xuICAgICAgICAgICAgeSAqPSAwLjc4MztcblxuICAgICAgICAgICAgcmV0dXJuIHt4LCB5fTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmlmbGVQb2ludHMgPSBjYWxjdWxhdGVSaWZsZVBvc2l0aW9uKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBtb3ZpZUNsaXAgPSBuZXcgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUoaHVtYW5JZGxlRnJhbWVzKTtcbiAgICAgICAgbW92aWVDbGlwLmFuaW1hdGlvblNwZWVkID0gMC40O1xuICAgICAgICBtb3ZpZUNsaXAuc2NhbGUuc2V0KHNjYWxlKTtcbiAgICAgICAgLy8gbW92aWVDbGlwLmFuY2hvci5zZXQoMC41LCAwLjEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbW92aWVDbGlwLFxuICAgICAgICAgICAgcmlmbGVQb2ludHMsXG4gICAgICAgICAgICBhbmdsZXMsXG4gICAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICAgIHZlcnRpYWxPZmZzZXQ6IDIzLFxuICAgICAgICAgICAgZnJhbWVzUGVyaW9kcyAgICAgICAgICAgIFxuICAgICAgICB9O1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///227\n')},228:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  var scale = 0.9;\n  var humanIdleFrames = [];\n  var framesPeriods = {\n    STAY: {\n      first: 0,\n      sides: 12,\n      length: 1,\n      last: 11\n    },\n    SHOOT: {\n      first: 12,\n      sides: 12,\n      length: 6,\n      last: 12 * 6 + 12 - 1\n    },\n    GO: {\n      first: 72 + 12,\n      sides: 12,\n      length: 16,\n      last: 12 * 16 + 72 + 12 - 1\n    },\n    FLY: {\n      first: 192 + 72 + 12,\n      sides: 8,\n      length: 31,\n      last: 8 * 31 + 192 + 72 + 12 - 1\n    },\n    GETUP: {\n      first: 248 + 192 + 72 + 12,\n      sides: 8,\n      length: 24,\n      last: 8 * 24 + 248 + 192 + 72 + 12 - 1\n    }\n  };\n\n  for (var i = 0; i < framesPeriods.STAY.sides * framesPeriods.STAY.length; i++) {\n    var count = i < 10 ? "0".concat(i) : i;\n    var texture = "_00".concat(count, "_a_i00").concat(count, ".png.png");\n    humanIdleFrames.push(PIXI.Texture.fromFrame(texture));\n  }\n\n  for (var _i = 0; _i < framesPeriods.SHOOT.sides * framesPeriods.SHOOT.length; _i++) {\n    var _count = _i < 10 ? "0".concat(_i) : _i;\n\n    var _texture = "_00".concat(_count, "_a_f00").concat(_count, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture));\n  }\n\n  for (var _i2 = 0; _i2 < framesPeriods.GO.sides * framesPeriods.GO.length; _i2++) {\n    var _count2 = void 0;\n\n    if (_i2 < 10) {\n      _count2 = "00".concat(_i2);\n    } else if (_i2 < 100) {\n      _count2 = "0".concat(_i2);\n    } else {\n      _count2 = _i2;\n    }\n\n    var _texture2 = "_0".concat(_count2, "_a_r0").concat(_count2, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture2));\n  }\n\n  for (var _i3 = 0; _i3 < framesPeriods.FLY.sides * framesPeriods.FLY.length; _i3++) {\n    var _count3 = void 0;\n\n    if (_i3 < 10) {\n      _count3 = "00".concat(_i3);\n    } else if (_i3 < 100) {\n      _count3 = "0".concat(_i3);\n    } else {\n      _count3 = _i3;\n    }\n\n    var _texture3 = "_0".concat(_count3, "_w_h0").concat(_count3, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture3));\n  }\n\n  for (var _i4 = 0; _i4 < framesPeriods.GETUP.sides * framesPeriods.GETUP.length; _i4++) {\n    var _count4 = void 0;\n\n    if (_i4 < 10) {\n      _count4 = "00".concat(_i4);\n    } else if (_i4 < 100) {\n      _count4 = "0".concat(_i4);\n    } else {\n      _count4 = _i4;\n    }\n\n    var _texture4 = "_0".concat(_count4, "_w_gu0").concat(_count4, ".png.png");\n\n    humanIdleFrames.push(PIXI.Texture.fromFrame(_texture4));\n  }\n\n  var angles = [14, 45, 75, 115, 138, 172, 195, 225, 256, 285, 315, 345];\n  var rifleAngles = [0, 35, 55, 85, 110, 135, 170, 210, 235, 270, 300, 325];\n\n  var calculateRiflePosition = function calculateRiflePosition() {\n    return rifleAngles.map(function (i) {\n      var radius = 48.5,\n          angle = (i + 90) * Math.PI / 180;\n      var x = -Math.sin(angle) * radius,\n          y = -Math.cos(angle) * radius;\n      y *= 0.783;\n      return {\n        x: x,\n        y: y\n      };\n    });\n  };\n\n  var riflePoints = calculateRiflePosition();\n  return function () {\n    var movieClip = new PIXI.extras.AnimatedSprite(humanIdleFrames);\n    movieClip.animationSpeed = 0.4;\n    movieClip.scale.set(scale);\n    movieClip.anchor.set(0.5, 0);\n    return {\n      movieClip: movieClip,\n      riflePoints: riflePoints,\n      angles: angles,\n      scale: scale,\n      vertialOffset: 23,\n      framesPeriods: framesPeriods\n    };\n  };\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlcy93YXJyaW9yQXNzYXVsdFNwcml0ZXMudHM/MDRkYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O2VBQWUsb0JBQUs7QUFDaEIsTUFBTSxLQUFLLEdBQUcsR0FBZDtBQUNBLE1BQU0sZUFBZSxHQUFHLEVBQXhCO0FBRUEsTUFBTSxhQUFhLEdBQUc7QUFDbEIsUUFBSSxFQUFFO0FBQ0YsV0FBSyxFQUFFLENBREw7QUFFRixXQUFLLEVBQUUsRUFGTDtBQUdGLFlBQU0sRUFBRSxDQUhOO0FBSUYsVUFBSSxFQUFFO0FBSkosS0FEWTtBQU9sQixTQUFLLEVBQUU7QUFDSCxXQUFLLEVBQUUsRUFESjtBQUVILFdBQUssRUFBRSxFQUZKO0FBR0gsWUFBTSxFQUFFLENBSEw7QUFJSCxVQUFJLEVBQUUsS0FBSyxDQUFMLEdBQVMsRUFBVCxHQUFjO0FBSmpCLEtBUFc7QUFhbEIsTUFBRSxFQUFFO0FBQ0EsV0FBSyxFQUFFLEtBQUssRUFEWjtBQUVBLFdBQUssRUFBRSxFQUZQO0FBR0EsWUFBTSxFQUFFLEVBSFI7QUFJQSxVQUFJLEVBQUUsS0FBSyxFQUFMLEdBQVUsRUFBVixHQUFlLEVBQWYsR0FBb0I7QUFKMUIsS0FiYztBQW1CbEIsT0FBRyxFQUFFO0FBQ0QsV0FBSyxFQUFFLE1BQU0sRUFBTixHQUFXLEVBRGpCO0FBRUQsV0FBSyxFQUFFLENBRk47QUFHRCxZQUFNLEVBQUUsRUFIUDtBQUlELFVBQUksRUFBRSxJQUFJLEVBQUosR0FBUyxHQUFULEdBQWUsRUFBZixHQUFvQixFQUFwQixHQUF5QjtBQUo5QixLQW5CYTtBQXlCbEIsU0FBSyxFQUFFO0FBQ0gsV0FBSyxFQUFFLE1BQU0sR0FBTixHQUFZLEVBQVosR0FBaUIsRUFEckI7QUFFSCxXQUFLLEVBQUUsQ0FGSjtBQUdILFlBQU0sRUFBRSxFQUhMO0FBSUgsVUFBSSxFQUFFLElBQUksRUFBSixHQUFTLEdBQVQsR0FBZSxHQUFmLEdBQXFCLEVBQXJCLEdBQTBCLEVBQTFCLEdBQStCO0FBSmxDO0FBekJXLEdBQXRCOztBQWlDQSxPQUFJLElBQUksQ0FBQyxHQUFHLENBQVosRUFBZSxDQUFDLEdBQUcsYUFBYSxDQUFDLElBQWQsQ0FBbUIsS0FBbkIsR0FBMkIsYUFBYSxDQUFDLElBQWQsQ0FBbUIsTUFBakUsRUFBeUUsQ0FBQyxFQUExRSxFQUE4RTtBQUMxRSxRQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsRUFBSixjQUFhLENBQWIsSUFBbUIsQ0FBakM7QUFDQSxRQUFNLE9BQU8sZ0JBQVMsS0FBVCxtQkFBdUIsS0FBdkIsYUFBYjtBQUNBLG1CQUFlLENBQUMsSUFBaEIsQ0FBcUIsSUFBSSxDQUFDLE9BQUwsQ0FBYSxTQUFiLENBQXVCLE9BQXZCLENBQXJCO0FBQ0g7O0FBRUQsT0FBSSxJQUFJLEVBQUMsR0FBRyxDQUFaLEVBQWUsRUFBQyxHQUFHLGFBQWEsQ0FBQyxLQUFkLENBQW9CLEtBQXBCLEdBQTRCLGFBQWEsQ0FBQyxLQUFkLENBQW9CLE1BQW5FLEVBQTJFLEVBQUMsRUFBNUUsRUFBZ0Y7QUFDNUUsUUFBTSxNQUFLLEdBQUcsRUFBQyxHQUFHLEVBQUosY0FBYSxFQUFiLElBQW1CLEVBQWpDOztBQUNBLFFBQU0sUUFBTyxnQkFBUyxNQUFULG1CQUF1QixNQUF2QixhQUFiOztBQUNBLG1CQUFlLENBQUMsSUFBaEIsQ0FBcUIsSUFBSSxDQUFDLE9BQUwsQ0FBYSxTQUFiLENBQXVCLFFBQXZCLENBQXJCO0FBQ0g7O0FBRUQsT0FBSSxJQUFJLEdBQUMsR0FBRyxDQUFaLEVBQWUsR0FBQyxHQUFHLGFBQWEsQ0FBQyxFQUFkLENBQWlCLEtBQWpCLEdBQXlCLGFBQWEsQ0FBQyxFQUFkLENBQWlCLE1BQTdELEVBQXFFLEdBQUMsRUFBdEUsRUFBMEU7QUFDdEUsUUFBSSxPQUFLLFNBQVQ7O0FBQ0EsUUFBRyxHQUFDLEdBQUcsRUFBUCxFQUFXO0FBQ1AsYUFBSyxlQUFRLEdBQVIsQ0FBTDtBQUNILEtBRkQsTUFFTyxJQUFHLEdBQUMsR0FBRyxHQUFQLEVBQVk7QUFDZixhQUFLLGNBQU8sR0FBUCxDQUFMO0FBQ0gsS0FGTSxNQUVBO0FBQ0gsYUFBSyxHQUFHLEdBQVI7QUFDSDs7QUFDRCxRQUFNLFNBQU8sZUFBUSxPQUFSLGtCQUFxQixPQUFyQixhQUFiOztBQUNBLG1CQUFlLENBQUMsSUFBaEIsQ0FBcUIsSUFBSSxDQUFDLE9BQUwsQ0FBYSxTQUFiLENBQXVCLFNBQXZCLENBQXJCO0FBQ0g7O0FBR0QsT0FBSSxJQUFJLEdBQUMsR0FBRyxDQUFaLEVBQWUsR0FBQyxHQUFHLGFBQWEsQ0FBQyxHQUFkLENBQWtCLEtBQWxCLEdBQTBCLGFBQWEsQ0FBQyxHQUFkLENBQWtCLE1BQS9ELEVBQXVFLEdBQUMsRUFBeEUsRUFBNEU7QUFDeEUsUUFBSSxPQUFLLFNBQVQ7O0FBQ0EsUUFBRyxHQUFDLEdBQUcsRUFBUCxFQUFXO0FBQ1AsYUFBSyxlQUFRLEdBQVIsQ0FBTDtBQUNILEtBRkQsTUFFTyxJQUFHLEdBQUMsR0FBRyxHQUFQLEVBQVk7QUFDZixhQUFLLGNBQU8sR0FBUCxDQUFMO0FBQ0gsS0FGTSxNQUVBO0FBQ0gsYUFBSyxHQUFHLEdBQVI7QUFDSDs7QUFDRCxRQUFNLFNBQU8sZUFBUSxPQUFSLGtCQUFxQixPQUFyQixhQUFiOztBQUNBLG1CQUFlLENBQUMsSUFBaEIsQ0FBcUIsSUFBSSxDQUFDLE9BQUwsQ0FBYSxTQUFiLENBQXVCLFNBQXZCLENBQXJCO0FBQ0g7O0FBRUQsT0FBSSxJQUFJLEdBQUMsR0FBRyxDQUFaLEVBQWUsR0FBQyxHQUFHLGFBQWEsQ0FBQyxLQUFkLENBQW9CLEtBQXBCLEdBQTRCLGFBQWEsQ0FBQyxLQUFkLENBQW9CLE1BQW5FLEVBQTJFLEdBQUMsRUFBNUUsRUFBZ0Y7QUFDNUUsUUFBSSxPQUFLLFNBQVQ7O0FBQ0EsUUFBRyxHQUFDLEdBQUcsRUFBUCxFQUFXO0FBQ1AsYUFBSyxlQUFRLEdBQVIsQ0FBTDtBQUNILEtBRkQsTUFFTyxJQUFHLEdBQUMsR0FBRyxHQUFQLEVBQVk7QUFDZixhQUFLLGNBQU8sR0FBUCxDQUFMO0FBQ0gsS0FGTSxNQUVBO0FBQ0gsYUFBSyxHQUFHLEdBQVI7QUFDSDs7QUFDRCxRQUFNLFNBQU8sZUFBUSxPQUFSLG1CQUFzQixPQUF0QixhQUFiOztBQUNBLG1CQUFlLENBQUMsSUFBaEIsQ0FBcUIsSUFBSSxDQUFDLE9BQUwsQ0FBYSxTQUFiLENBQXVCLFNBQXZCLENBQXJCO0FBQ0g7O0FBR0QsTUFBTSxNQUFNLEdBQUcsQ0FBQyxFQUFELEVBQUssRUFBTCxFQUFTLEVBQVQsRUFBYSxHQUFiLEVBQWtCLEdBQWxCLEVBQXVCLEdBQXZCLEVBQTRCLEdBQTVCLEVBQWlDLEdBQWpDLEVBQXNDLEdBQXRDLEVBQTJDLEdBQTNDLEVBQWdELEdBQWhELEVBQXFELEdBQXJELENBQWY7QUFDQSxNQUFNLFdBQVcsR0FBRyxDQUFDLENBQUQsRUFBSSxFQUFKLEVBQVEsRUFBUixFQUFZLEVBQVosRUFBZ0IsR0FBaEIsRUFBcUIsR0FBckIsRUFBMEIsR0FBMUIsRUFBK0IsR0FBL0IsRUFBb0MsR0FBcEMsRUFBeUMsR0FBekMsRUFBOEMsR0FBOUMsRUFBbUQsR0FBbkQsQ0FBcEI7O0FBRUEsTUFBTSxzQkFBc0IsR0FBRyxTQUF6QixzQkFBeUIsR0FBSztBQUNoQyxXQUFPLFdBQVcsQ0FBQyxHQUFaLENBQWdCLFVBQUMsQ0FBRCxFQUFNO0FBQ3pCLFVBQU0sTUFBTSxHQUFHLElBQWY7QUFBQSxVQUNJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFMLElBQVcsSUFBSSxDQUFDLEVBQWhCLEdBQXFCLEdBRGpDO0FBR0EsVUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsQ0FBRCxHQUFtQixNQUEzQjtBQUFBLFVBQ0ksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULENBQUQsR0FBbUIsTUFEM0I7QUFFQSxPQUFDLElBQUksS0FBTDtBQUVBLGFBQU87QUFBQyxTQUFDLEVBQUQsQ0FBRDtBQUFJLFNBQUMsRUFBRDtBQUFKLE9BQVA7QUFDSCxLQVRNLENBQVA7QUFVSCxHQVhEOztBQWFBLE1BQU0sV0FBVyxHQUFHLHNCQUFzQixFQUExQztBQUVBLFNBQU8sWUFBSztBQUNSLFFBQU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQUwsQ0FBWSxjQUFoQixDQUErQixlQUEvQixDQUFsQjtBQUNBLGFBQVMsQ0FBQyxjQUFWLEdBQTJCLEdBQTNCO0FBQ0EsYUFBUyxDQUFDLEtBQVYsQ0FBZ0IsR0FBaEIsQ0FBb0IsS0FBcEI7QUFDQSxhQUFTLENBQUMsTUFBVixDQUFpQixHQUFqQixDQUFxQixHQUFyQixFQUEwQixDQUExQjtBQUNBLFdBQU87QUFDSCxlQUFTLEVBQVQsU0FERztBQUVILGlCQUFXLEVBQVgsV0FGRztBQUdILFlBQU0sRUFBTixNQUhHO0FBSUgsV0FBSyxFQUFMLEtBSkc7QUFLSCxtQkFBYSxFQUFFLEVBTFo7QUFNSCxtQkFBYSxFQUFiO0FBTkcsS0FBUDtBQVFILEdBYkQ7QUFjSCxDIiwiZmlsZSI6IjIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgICBjb25zdCBzY2FsZSA9IDAuOTtcbiAgICBjb25zdCBodW1hbklkbGVGcmFtZXMgPSBbXTtcblxuICAgIGNvbnN0IGZyYW1lc1BlcmlvZHMgPSB7XG4gICAgICAgIFNUQVk6IHtcbiAgICAgICAgICAgIGZpcnN0OiAwLFxuICAgICAgICAgICAgc2lkZXM6IDEyLFxuICAgICAgICAgICAgbGVuZ3RoOiAxLFxuICAgICAgICAgICAgbGFzdDogMTEsXG4gICAgICAgIH0sXG4gICAgICAgIFNIT09UOiB7XG4gICAgICAgICAgICBmaXJzdDogMTIsXG4gICAgICAgICAgICBzaWRlczogMTIsXG4gICAgICAgICAgICBsZW5ndGg6IDYsXG4gICAgICAgICAgICBsYXN0OiAxMiAqIDYgKyAxMiAtIDEsXG4gICAgICAgIH0sXG4gICAgICAgIEdPOiB7XG4gICAgICAgICAgICBmaXJzdDogNzIgKyAxMixcbiAgICAgICAgICAgIHNpZGVzOiAxMixcbiAgICAgICAgICAgIGxlbmd0aDogMTYsXG4gICAgICAgICAgICBsYXN0OiAxMiAqIDE2ICsgNzIgKyAxMiAtIDEsXG4gICAgICAgIH0sXG4gICAgICAgIEZMWToge1xuICAgICAgICAgICAgZmlyc3Q6IDE5MiArIDcyICsgMTIsXG4gICAgICAgICAgICBzaWRlczogOCxcbiAgICAgICAgICAgIGxlbmd0aDogMzEsXG4gICAgICAgICAgICBsYXN0OiA4ICogMzEgKyAxOTIgKyA3MiArIDEyIC0gMSxcbiAgICAgICAgfSxcbiAgICAgICAgR0VUVVA6IHtcbiAgICAgICAgICAgIGZpcnN0OiAyNDggKyAxOTIgKyA3MiArIDEyLFxuICAgICAgICAgICAgc2lkZXM6IDgsXG4gICAgICAgICAgICBsZW5ndGg6IDI0LFxuICAgICAgICAgICAgbGFzdDogOCAqIDI0ICsgMjQ4ICsgMTkyICsgNzIgKyAxMiAtIDEsXG4gICAgICAgIH0sXG4gICAgfVxuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGZyYW1lc1BlcmlvZHMuU1RBWS5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuU1RBWS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb3VudCA9IGkgPCAxMCA/IGAwJHtpfWAgOiBpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gYF8wMCR7Y291bnR9X2FfaTAwJHtjb3VudH0ucG5nLnBuZ2A7XG4gICAgICAgIGh1bWFuSWRsZUZyYW1lcy5wdXNoKFBJWEkuVGV4dHVyZS5mcm9tRnJhbWUodGV4dHVyZSkpO1xuICAgIH1cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmcmFtZXNQZXJpb2RzLlNIT09ULnNpZGVzICogZnJhbWVzUGVyaW9kcy5TSE9PVC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb3VudCA9IGkgPCAxMCA/IGAwJHtpfWAgOiBpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gYF8wMCR7Y291bnR9X2FfZjAwJHtjb3VudH0ucG5nLnBuZ2A7XG4gICAgICAgIGh1bWFuSWRsZUZyYW1lcy5wdXNoKFBJWEkuVGV4dHVyZS5mcm9tRnJhbWUodGV4dHVyZSkpO1xuICAgIH1cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmcmFtZXNQZXJpb2RzLkdPLnNpZGVzICogZnJhbWVzUGVyaW9kcy5HTy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY291bnQ7XG4gICAgICAgIGlmKGkgPCAxMCkge1xuICAgICAgICAgICAgY291bnQgPSBgMDAke2l9YDtcbiAgICAgICAgfSBlbHNlIGlmKGkgPCAxMDApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYDAke2l9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gYF8wJHtjb3VudH1fYV9yMCR7Y291bnR9LnBuZy5wbmdgO1xuICAgICAgICBodW1hbklkbGVGcmFtZXMucHVzaChQSVhJLlRleHR1cmUuZnJvbUZyYW1lKHRleHR1cmUpKTtcbiAgICB9XG5cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmcmFtZXNQZXJpb2RzLkZMWS5zaWRlcyAqIGZyYW1lc1BlcmlvZHMuRkxZLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjb3VudDtcbiAgICAgICAgaWYoaSA8IDEwKSB7XG4gICAgICAgICAgICBjb3VudCA9IGAwMCR7aX1gO1xuICAgICAgICB9IGVsc2UgaWYoaSA8IDEwMCkge1xuICAgICAgICAgICAgY291bnQgPSBgMCR7aX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY291bnQgPSBpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBgXzAke2NvdW50fV93X2gwJHtjb3VudH0ucG5nLnBuZ2A7XG4gICAgICAgIGh1bWFuSWRsZUZyYW1lcy5wdXNoKFBJWEkuVGV4dHVyZS5mcm9tRnJhbWUodGV4dHVyZSkpO1xuICAgIH1cblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmcmFtZXNQZXJpb2RzLkdFVFVQLnNpZGVzICogZnJhbWVzUGVyaW9kcy5HRVRVUC5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY291bnQ7XG4gICAgICAgIGlmKGkgPCAxMCkge1xuICAgICAgICAgICAgY291bnQgPSBgMDAke2l9YDtcbiAgICAgICAgfSBlbHNlIGlmKGkgPCAxMDApIHtcbiAgICAgICAgICAgIGNvdW50ID0gYDAke2l9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gYF8wJHtjb3VudH1fd19ndTAke2NvdW50fS5wbmcucG5nYDtcbiAgICAgICAgaHVtYW5JZGxlRnJhbWVzLnB1c2goUElYSS5UZXh0dXJlLmZyb21GcmFtZSh0ZXh0dXJlKSk7XG4gICAgfVxuXG5cbiAgICBjb25zdCBhbmdsZXMgPSBbMTQsIDQ1LCA3NSwgMTE1LCAxMzgsIDE3MiwgMTk1LCAyMjUsIDI1NiwgMjg1LCAzMTUsIDM0NV07XG4gICAgY29uc3QgcmlmbGVBbmdsZXMgPSBbMCwgMzUsIDU1LCA4NSwgMTEwLCAxMzUsIDE3MCwgMjEwLCAyMzUsIDI3MCwgMzAwLCAzMjVdO1xuXG4gICAgY29uc3QgY2FsY3VsYXRlUmlmbGVQb3NpdGlvbiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHJpZmxlQW5nbGVzLm1hcCgoaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gNDguNSxcbiAgICAgICAgICAgICAgICBhbmdsZSA9IChpICsgOTApICogTWF0aC5QSSAvIDE4MDtcblxuICAgICAgICAgICAgbGV0IHggPSAtTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgICAgIHkgPSAtTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzO1xuICAgICAgICAgICAgeSAqPSAwLjc4MztcblxuICAgICAgICAgICAgcmV0dXJuIHt4LCB5fTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmlmbGVQb2ludHMgPSBjYWxjdWxhdGVSaWZsZVBvc2l0aW9uKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBtb3ZpZUNsaXAgPSBuZXcgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUoaHVtYW5JZGxlRnJhbWVzKTtcbiAgICAgICAgbW92aWVDbGlwLmFuaW1hdGlvblNwZWVkID0gMC40O1xuICAgICAgICBtb3ZpZUNsaXAuc2NhbGUuc2V0KHNjYWxlKTtcbiAgICAgICAgbW92aWVDbGlwLmFuY2hvci5zZXQoMC41LCAwKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vdmllQ2xpcCxcbiAgICAgICAgICAgIHJpZmxlUG9pbnRzLFxuICAgICAgICAgICAgYW5nbGVzLFxuICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICB2ZXJ0aWFsT2Zmc2V0OiAyMyxcbiAgICAgICAgICAgIGZyYW1lc1BlcmlvZHMgICAgICAgICAgICAgICAgXG4gICAgICAgIH07XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///228\n')},229:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = function _default() {\n  return function () {\n    var selection = new PIXI.Sprite(PIXI.loader.resources['assets/selectMyUnit.png'].texture);\n    selection.visible = false;\n    selection.scale.set(0.5);\n    selection.anchor.set(0.5, 0.5);\n    return selection;\n  };\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlcy9teVNlbGVjdGlvblNwcml0ZS5qcz85NTBmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxvQkFBSztBQUNoQixTQUFPLFlBQUs7QUFDZCxRQUFNLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFULENBQWdCLElBQUksQ0FBQyxNQUFMLENBQVksU0FBWixDQUFzQix5QkFBdEIsRUFBaUQsT0FBakUsQ0FBbEI7QUFDQSxhQUFTLENBQUMsT0FBVixHQUFvQixLQUFwQjtBQUNBLGFBQVMsQ0FBQyxLQUFWLENBQWdCLEdBQWhCLENBQW9CLEdBQXBCO0FBQ0EsYUFBUyxDQUFDLE1BQVYsQ0FBaUIsR0FBakIsQ0FBcUIsR0FBckIsRUFBMEIsR0FBMUI7QUFDQSxXQUFPLFNBQVA7QUFDQSxHQU5FO0FBT0gsQyIsImZpbGUiOiIyMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcblx0XHRjb25zdCBzZWxlY3Rpb24gPSBuZXcgUElYSS5TcHJpdGUoUElYSS5sb2FkZXIucmVzb3VyY2VzWydhc3NldHMvc2VsZWN0TXlVbml0LnBuZyddLnRleHR1cmUpO1xuXHRcdHNlbGVjdGlvbi52aXNpYmxlID0gZmFsc2U7XG5cdFx0c2VsZWN0aW9uLnNjYWxlLnNldCgwLjUpO1xuXHRcdHNlbGVjdGlvbi5hbmNob3Iuc2V0KDAuNSwgMC41KTtcblx0XHRyZXR1cm4gc2VsZWN0aW9uO1xuXHR9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///229\n")},230:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _addBackground = _interopRequireDefault(__webpack_require__(231));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = function _default() {\n  var unitsGroup = new PIXI['display'].Group(0, true);\n  unitsGroup.on('sort', function (sprite) {\n    sprite.zOrder = -sprite.y;\n  });\n  window.app.stage = new PIXI['display'].Stage();\n  window.app.stage['group'].enableSort = true;\n  (0, _addBackground.default)();\n  window.app.stage.addChild(new PIXI['display'].Layer(unitsGroup));\n  return unitsGroup;\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9hZGRTb3J0U3ByaXRlcy50cz8yZmMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztlQUVlLG9CQUFVO0FBQ3ZCLE1BQU0sVUFBVSxHQUFRLElBQUksSUFBSSxDQUFDLFNBQUQsQ0FBSixDQUFnQixLQUFwQixDQUEwQixDQUExQixFQUE2QixJQUE3QixDQUF4QjtBQUNBLFlBQVUsQ0FBQyxFQUFYLENBQWMsTUFBZCxFQUFzQixVQUFTLE1BQVQsRUFBZTtBQUNqQyxVQUFNLENBQUMsTUFBUCxHQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUF4QjtBQUNILEdBRkQ7QUFJQSxRQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsR0FBbUIsSUFBSSxJQUFJLENBQUMsU0FBRCxDQUFKLENBQWdCLEtBQXBCLEVBQW5CO0FBQ0EsUUFBTSxDQUFDLEdBQVAsQ0FBVyxLQUFYLENBQWlCLE9BQWpCLEVBQTBCLFVBQTFCLEdBQXVDLElBQXZDO0FBQ0E7QUFFQSxRQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsUUFBakIsQ0FBMEIsSUFBSSxJQUFJLENBQUMsU0FBRCxDQUFKLENBQWdCLEtBQXBCLENBQTBCLFVBQTFCLENBQTFCO0FBQ0EsU0FBTyxVQUFQO0FBQ0QsQyIsImZpbGUiOiIyMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYWRkQmFja2dyb3VuZCBmcm9tICcuLi9zcHJpdGVzL2FkZEJhY2tncm91bmQnO1xuXG5leHBvcnQgZGVmYXVsdCAoKTogYW55ID0+IHtcbiAgY29uc3QgdW5pdHNHcm91cDogYW55ID0gbmV3IFBJWElbJ2Rpc3BsYXknXS5Hcm91cCgwLCB0cnVlKTtcbiAgdW5pdHNHcm91cC5vbignc29ydCcsIGZ1bmN0aW9uKHNwcml0ZSkge1xuICAgICAgc3ByaXRlLnpPcmRlciA9IC1zcHJpdGUueTtcbiAgfSk7XG5cbiAgd2luZG93LmFwcC5zdGFnZSA9IG5ldyBQSVhJWydkaXNwbGF5J10uU3RhZ2UoKTtcbiAgd2luZG93LmFwcC5zdGFnZVsnZ3JvdXAnXS5lbmFibGVTb3J0ID0gdHJ1ZTtcbiAgYWRkQmFja2dyb3VuZCgpO1xuXG4gIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQobmV3IFBJWElbJ2Rpc3BsYXknXS5MYXllcih1bml0c0dyb3VwKSk7XG4gIHJldHVybiB1bml0c0dyb3VwO1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///230\n")},231:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar addBackground = function addBackground() {\n  var map = new PIXI.Container();\n\n  var getRotate = function getRotate(i) {\n    switch (i) {\n      case 0:\n        return 8;\n\n      case 1:\n        return 4;\n\n      case 2:\n        return 0;\n\n      case 3:\n        return 12;\n    }\n  };\n\n  for (var i = 0; i < 4; i++) {\n    var rotatedTexture = new PIXI.Texture(PIXI.loader.resources['assets/quarted_of_map.jpg'].texture.baseTexture, undefined, undefined, undefined, getRotate(i));\n    var mapQuarted = new PIXI.Sprite(rotatedTexture);\n    mapQuarted.width = window.mapWidth / 2;\n    mapQuarted.height = window.mapHeight / 2;\n    mapQuarted.x = i % 2 * (window.mapWidth / 2);\n    mapQuarted.y = Math.floor(i / 2) * (window.mapHeight / 2);\n    map.addChild(mapQuarted);\n  }\n\n  var center = new PIXI.Sprite(PIXI.loader.resources['assets/map_center.png'].texture);\n  center.anchor.set(0.5);\n  center.width = window.mapWidth / 3;\n  center.height = window.mapHeight / 3;\n  center.x = window.mapWidth / 2;\n  center.y = window.mapHeight / 2;\n  map.addChild(center);\n  /*Transform parts of map, to one texture */\n\n  var baseRenderTexture = new PIXI.BaseRenderTexture(window.mapWidth, window.mapHeight, PIXI.SCALE_MODES.LINEAR, 1);\n  var renderTexture = new PIXI.RenderTexture(baseRenderTexture);\n  window.app.renderer.render(map, renderTexture);\n  var sprite = new PIXI.Sprite(renderTexture);\n  window.app.stage.addChild(sprite); // map.destroy(true);\n};\n\nvar _default = addBackground;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3ByaXRlcy9hZGRCYWNrZ3JvdW5kLnRzPzhmNWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQU0sYUFBYSxHQUFHLFNBQWhCLGFBQWdCLEdBQVc7QUFDaEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBVCxFQUFaOztBQUNBLE1BQU0sU0FBUyxHQUFHLFNBQVosU0FBWSxDQUFDLENBQUQsRUFBc0I7QUFDdkMsWUFBTyxDQUFQO0FBQ0MsV0FBSyxDQUFMO0FBQVEsZUFBTyxDQUFQOztBQUNSLFdBQUssQ0FBTDtBQUFRLGVBQU8sQ0FBUDs7QUFDUixXQUFLLENBQUw7QUFBUSxlQUFPLENBQVA7O0FBQ1IsV0FBSyxDQUFMO0FBQVEsZUFBTyxFQUFQO0FBSlQ7QUFNQSxHQVBEOztBQVFBLE9BQUksSUFBSSxDQUFDLEdBQUcsQ0FBWixFQUFlLENBQUMsR0FBRyxDQUFuQixFQUFzQixDQUFDLEVBQXZCLEVBQTJCO0FBQzFCLFFBQU0sY0FBYyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQVQsQ0FDdEIsSUFBSSxDQUFDLE1BQUwsQ0FBWSxTQUFaLENBQXNCLDJCQUF0QixFQUFtRCxPQUFuRCxDQUEyRCxXQURyQyxFQUV0QixTQUZzQixFQUd0QixTQUhzQixFQUl0QixTQUpzQixFQUt0QixTQUFTLENBQUMsQ0FBRCxDQUxhLENBQXZCO0FBTUEsUUFBTSxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBVCxDQUFnQixjQUFoQixDQUFuQjtBQUNBLGNBQVUsQ0FBQyxLQUFYLEdBQW1CLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLENBQXJDO0FBQ0EsY0FBVSxDQUFDLE1BQVgsR0FBb0IsTUFBTSxDQUFDLFNBQVAsR0FBbUIsQ0FBdkM7QUFDQSxjQUFVLENBQUMsQ0FBWCxHQUFnQixDQUFDLEdBQUcsQ0FBTCxJQUFXLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLENBQTdCLENBQWY7QUFDQSxjQUFVLENBQUMsQ0FBWCxHQUFlLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxHQUFDLENBQWIsS0FBbUIsTUFBTSxDQUFDLFNBQVAsR0FBbUIsQ0FBdEMsQ0FBZjtBQUNBLE9BQUcsQ0FBQyxRQUFKLENBQWEsVUFBYjtBQUNBOztBQUNELE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQVQsQ0FBZ0IsSUFBSSxDQUFDLE1BQUwsQ0FBWSxTQUFaLENBQXNCLHVCQUF0QixFQUErQyxPQUEvRCxDQUFmO0FBQ0EsUUFBTSxDQUFDLE1BQVAsQ0FBYyxHQUFkLENBQWtCLEdBQWxCO0FBQ0EsUUFBTSxDQUFDLEtBQVAsR0FBZSxNQUFNLENBQUMsUUFBUCxHQUFrQixDQUFqQztBQUNBLFFBQU0sQ0FBQyxNQUFQLEdBQWdCLE1BQU0sQ0FBQyxTQUFQLEdBQW1CLENBQW5DO0FBQ0EsUUFBTSxDQUFDLENBQVAsR0FBVyxNQUFNLENBQUMsUUFBUCxHQUFrQixDQUE3QjtBQUNBLFFBQU0sQ0FBQyxDQUFQLEdBQVcsTUFBTSxDQUFDLFNBQVAsR0FBbUIsQ0FBOUI7QUFDQSxLQUFHLENBQUMsUUFBSixDQUFhLE1BQWI7QUFFQTs7QUFDQSxNQUFNLGlCQUFpQixHQUFHLElBQUksSUFBSSxDQUFDLGlCQUFULENBQTJCLE1BQU0sQ0FBQyxRQUFsQyxFQUE0QyxNQUFNLENBQUMsU0FBbkQsRUFBOEQsSUFBSSxDQUFDLFdBQUwsQ0FBaUIsTUFBL0UsRUFBdUYsQ0FBdkYsQ0FBMUI7QUFDQSxNQUFNLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFULENBQXVCLGlCQUF2QixDQUF0QjtBQUNBLFFBQU0sQ0FBQyxHQUFQLENBQVcsUUFBWCxDQUFvQixNQUFwQixDQUEyQixHQUEzQixFQUFnQyxhQUFoQztBQUVBLE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQVQsQ0FBZ0IsYUFBaEIsQ0FBZjtBQUNBLFFBQU0sQ0FBQyxHQUFQLENBQVcsS0FBWCxDQUFpQixRQUFqQixDQUEwQixNQUExQixFQXRDZ0MsQ0F1Q2hDO0FBQ0EsQ0F4Q0Q7O2VBMENlLGEiLCJmaWxlIjoiMjMxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWRkQmFja2dyb3VuZCA9ICgpOiB2b2lkID0+IHtcblx0Y29uc3QgbWFwID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cdGNvbnN0IGdldFJvdGF0ZSA9IChpOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuXHRcdHN3aXRjaChpKSB7XG5cdFx0XHRjYXNlIDA6IHJldHVybiA4O1xuXHRcdFx0Y2FzZSAxOiByZXR1cm4gNDtcblx0XHRcdGNhc2UgMjogcmV0dXJuIDA7XG5cdFx0XHRjYXNlIDM6IHJldHVybiAxMjtcblx0XHR9XG5cdH1cblx0Zm9yKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuXHRcdGNvbnN0IHJvdGF0ZWRUZXh0dXJlID0gbmV3IFBJWEkuVGV4dHVyZShcblx0XHRcdFBJWEkubG9hZGVyLnJlc291cmNlc1snYXNzZXRzL3F1YXJ0ZWRfb2ZfbWFwLmpwZyddLnRleHR1cmUuYmFzZVRleHR1cmUsXG5cdFx0XHR1bmRlZmluZWQsXG5cdFx0XHR1bmRlZmluZWQsXG5cdFx0XHR1bmRlZmluZWQsXG5cdFx0XHRnZXRSb3RhdGUoaSkpO1xuXHRcdGNvbnN0IG1hcFF1YXJ0ZWQgPSBuZXcgUElYSS5TcHJpdGUocm90YXRlZFRleHR1cmUpO1xuXHRcdG1hcFF1YXJ0ZWQud2lkdGggPSB3aW5kb3cubWFwV2lkdGggLyAyO1xuXHRcdG1hcFF1YXJ0ZWQuaGVpZ2h0ID0gd2luZG93Lm1hcEhlaWdodCAvIDI7XG5cdFx0bWFwUXVhcnRlZC54ID0gKGkgJSAyKSAqICh3aW5kb3cubWFwV2lkdGggLyAyKTtcblx0XHRtYXBRdWFydGVkLnkgPSBNYXRoLmZsb29yKGkvMikgKiAod2luZG93Lm1hcEhlaWdodCAvIDIpO1xuXHRcdG1hcC5hZGRDaGlsZChtYXBRdWFydGVkKTtcblx0fVxuXHRjb25zdCBjZW50ZXIgPSBuZXcgUElYSS5TcHJpdGUoUElYSS5sb2FkZXIucmVzb3VyY2VzWydhc3NldHMvbWFwX2NlbnRlci5wbmcnXS50ZXh0dXJlKTtcblx0Y2VudGVyLmFuY2hvci5zZXQoMC41KTtcblx0Y2VudGVyLndpZHRoID0gd2luZG93Lm1hcFdpZHRoIC8gMztcblx0Y2VudGVyLmhlaWdodCA9IHdpbmRvdy5tYXBIZWlnaHQgLyAzO1xuXHRjZW50ZXIueCA9IHdpbmRvdy5tYXBXaWR0aCAvIDI7XG5cdGNlbnRlci55ID0gd2luZG93Lm1hcEhlaWdodCAvIDI7XG5cdG1hcC5hZGRDaGlsZChjZW50ZXIpO1xuXG5cdC8qVHJhbnNmb3JtIHBhcnRzIG9mIG1hcCwgdG8gb25lIHRleHR1cmUgKi9cblx0Y29uc3QgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSh3aW5kb3cubWFwV2lkdGgsIHdpbmRvdy5tYXBIZWlnaHQsIFBJWEkuU0NBTEVfTU9ERVMuTElORUFSLCAxKTtcblx0Y29uc3QgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuXHR3aW5kb3cuYXBwLnJlbmRlcmVyLnJlbmRlcihtYXAsIHJlbmRlclRleHR1cmUpO1xuXG5cdGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblx0d2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChzcHJpdGUpO1xuXHQvLyBtYXAuZGVzdHJveSh0cnVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYWRkQmFja2dyb3VuZDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///231\n")},232:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _setDestination = _interopRequireDefault(__webpack_require__(199));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar getIndexWithTheSameAim = function getIndexWithTheSameAim(arr, attackAim) {\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i].aim === attackAim) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar _default = function _default(hunters) {\n  hunters.forEach(function (faction) {\n    if (faction.length === 0) return;\n    var unitsWithSameAim = [];\n    faction.forEach(function (unit) {\n      if (unit.squad.aim && unit.squad.aim.members.length > 0) {\n        var index = getIndexWithTheSameAim(unitsWithSameAim, unit.squad.aim);\n\n        if (index === -1) {\n          unitsWithSameAim.push({\n            aim: unit.squad.aim,\n            units: [unit]\n          });\n        } else {\n          unitsWithSameAim[index].units.push(unit);\n        }\n      } else {\n        unit.stay();\n      }\n    });\n    unitsWithSameAim.forEach(function (theSameAim) {\n      (0, _setDestination.default)(theSameAim.aim, theSameAim.units, true, false, false);\n    });\n  });\n};\n\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9tYW5hZ2VIdW50ZXJzLnRzP2E3NjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOzs7O0FBVUEsSUFBTSxzQkFBc0IsR0FBRyxTQUF6QixzQkFBeUIsQ0FBQyxHQUFELEVBQW9CLFNBQXBCLEVBQXdDO0FBQ3JFLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBYixFQUFnQixDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQXhCLEVBQWdDLENBQUMsRUFBakMsRUFBcUM7QUFDbkMsUUFBSSxHQUFHLENBQUMsQ0FBRCxDQUFILENBQU8sR0FBUCxLQUFlLFNBQW5CLEVBQThCO0FBQzVCLGFBQU8sQ0FBUDtBQUNEO0FBQ0Y7O0FBQ0QsU0FBTyxDQUFDLENBQVI7QUFDRCxDQVBEOztlQVNlLGtCQUFDLE9BQUQsRUFBc0I7QUFDbkMsU0FBTyxDQUFDLE9BQVIsQ0FBZ0IsaUJBQU8sRUFBRztBQUN4QixRQUFJLE9BQU8sQ0FBQyxNQUFSLEtBQW1CLENBQXZCLEVBQTBCO0FBQzFCLFFBQU0sZ0JBQWdCLEdBQWlCLEVBQXZDO0FBQ0EsV0FBTyxDQUFDLE9BQVIsQ0FBZ0IsY0FBSSxFQUFHO0FBQ3JCLFVBQUksSUFBSSxDQUFDLEtBQUwsQ0FBVyxHQUFYLElBQWtCLElBQUksQ0FBQyxLQUFMLENBQVcsR0FBWCxDQUFlLE9BQWYsQ0FBdUIsTUFBdkIsR0FBZ0MsQ0FBdEQsRUFBeUQ7QUFDdkQsWUFBTSxLQUFLLEdBQUcsc0JBQXNCLENBQUMsZ0JBQUQsRUFBbUIsSUFBSSxDQUFDLEtBQUwsQ0FBVyxHQUE5QixDQUFwQzs7QUFDQSxZQUFHLEtBQUssS0FBSyxDQUFDLENBQWQsRUFBaUI7QUFDZiwwQkFBZ0IsQ0FBQyxJQUFqQixDQUFzQjtBQUNwQixlQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUwsQ0FBVyxHQURJO0FBRXBCLGlCQUFLLEVBQUUsQ0FBQyxJQUFEO0FBRmEsV0FBdEI7QUFJRCxTQUxELE1BS087QUFDTCwwQkFBZ0IsQ0FBQyxLQUFELENBQWhCLENBQXdCLEtBQXhCLENBQThCLElBQTlCLENBQW1DLElBQW5DO0FBQ0Q7QUFDRixPQVZELE1BVU87QUFDTCxZQUFJLENBQUMsSUFBTDtBQUNEO0FBQ0YsS0FkRDtBQWdCQSxvQkFBZ0IsQ0FBQyxPQUFqQixDQUF5QixvQkFBVSxFQUFHO0FBQ3BDLG1DQUFvQixVQUFVLENBQUMsR0FBL0IsRUFBb0MsVUFBVSxDQUFDLEtBQS9DLEVBQXNELElBQXRELEVBQTRELEtBQTVELEVBQW1FLEtBQW5FO0FBQ0QsS0FGRDtBQUdELEdBdEJEO0FBdUJELEMiLCJmaWxlIjoiMjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVuaXQgZnJvbSAnfi91bml0cy9Vbml0JztcbmltcG9ydCBzZXREZXN0aW5hdGlvblBvaW50IGZyb20gJ34vbW9kdWxlcy9zZXREZXN0aW5hdGlvbic7XG5pbXBvcnQgU1RBVEUgZnJvbSAnfi9tb2R1bGVzL2NvbnN0cyc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnVXRpbHMnO1xuaW1wb3J0IFNxdWFkIGZyb20gJ34vdW5pdHMvU3F1YWQnO1xuXG5pbnRlcmZhY2UgdGhlU2FtZUFpbSB7XG4gICAgYWltOiBTcXVhZCxcbiAgICB1bml0czogVW5pdFtdXG59XG5cbmNvbnN0IGdldEluZGV4V2l0aFRoZVNhbWVBaW0gPSAoYXJyOiB0aGVTYW1lQWltW10sIGF0dGFja0FpbTogU3F1YWQpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyW2ldLmFpbSA9PT0gYXR0YWNrQWltKSB7XG4gICAgICByZXR1cm4gaVxuICAgIH1cbiAgfVxuICByZXR1cm4gLTFcbn1cblxuZXhwb3J0IGRlZmF1bHQgKGh1bnRlcnM6IFVuaXRbXVtdKSA9PiB7XG4gIGh1bnRlcnMuZm9yRWFjaChmYWN0aW9uID0+IHtcbiAgICBpZiAoZmFjdGlvbi5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCB1bml0c1dpdGhTYW1lQWltOiB0aGVTYW1lQWltW10gPSBbXTtcbiAgICBmYWN0aW9uLmZvckVhY2godW5pdCA9PiB7XG4gICAgICBpZiAodW5pdC5zcXVhZC5haW0gJiYgdW5pdC5zcXVhZC5haW0ubWVtYmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZ2V0SW5kZXhXaXRoVGhlU2FtZUFpbSh1bml0c1dpdGhTYW1lQWltLCB1bml0LnNxdWFkLmFpbSlcbiAgICAgICAgaWYoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgdW5pdHNXaXRoU2FtZUFpbS5wdXNoKHtcbiAgICAgICAgICAgIGFpbTogdW5pdC5zcXVhZC5haW0sXG4gICAgICAgICAgICB1bml0czogW3VuaXRdXG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bml0c1dpdGhTYW1lQWltW2luZGV4XS51bml0cy5wdXNoKHVuaXQpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVuaXQuc3RheSgpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB1bml0c1dpdGhTYW1lQWltLmZvckVhY2godGhlU2FtZUFpbSA9PiB7XG4gICAgICBzZXREZXN0aW5hdGlvblBvaW50KHRoZVNhbWVBaW0uYWltLCB0aGVTYW1lQWltLnVuaXRzLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///232\n')},233:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _influenceMap = _interopRequireDefault(__webpack_require__(205));\n\nvar _setDestination = _interopRequireDefault(__webpack_require__(199));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _setAbilitie = _interopRequireDefault(__webpack_require__(203));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar AiController = {\n  abilityHistory: undefined,\n  manageFaction: function manageFaction(factionID, maps, resPoints, factory) {\n    var _this = this;\n\n    this.abilityHistory[factionID] = this.abilityHistory[factionID].filter(function (ability) {\n      return --ability.timer > 0;\n    }); // Remove old history\n\n    var ourInfluenceMap = _influenceMap.default.deepCopyMap(maps[factionID]); //maybe we won\'t need a copy\n\n\n    var ourTensionMap = _influenceMap.default.deepCopyMap(maps[factionID]); //maybe we won\'t need a copy\n\n\n    for (var i = 0; i < maps.length; i++) {\n      if (i !== factionID) {\n        maps[i].forEach(function (cell, index) {\n          ourInfluenceMap[index].value -= cell.value;\n          ourTensionMap[index].value += cell.value;\n        });\n      }\n    }\n\n    var ourVulnerabilityMap = _influenceMap.default.createOneDimensionArr();\n\n    ourVulnerabilityMap = ourVulnerabilityMap.map(function (cell, index) {\n      return {\n        value: ourTensionMap[index].value - Math.abs(ourInfluenceMap[index].value),\n        squads: undefined\n      };\n    });\n    resPoints.forEach(function (resPoint) {\n      if (resPoint.owner !== factionID) {\n        var pointIdx = _influenceMap.default.getCellIndex(resPoint);\n\n        _influenceMap.default.propagation(pointIdx, 500, 100, ourVulnerabilityMap);\n      }\n    }); // console.log(ourVulnerabilityMap);\n\n    var ourArmies = this.groupSquadIntoArmy(factionID);\n\n    if (factionID === 1 && window.map) {\n      _influenceMap.default.drawMap(ourInfluenceMap);\n    }\n\n    ourArmies.forEach(function (army) {\n      var value = ourInfluenceMap[army.index].value;\n\n      if (value <= 0) {\n        // Throw grenade then run\n        _this.runToSafePlace(ourInfluenceMap, army, factory);\n\n        return;\n      }\n\n      army.squads.forEach(function (squad) {\n        if (squad.aim && squad.aim.members.length > 0) {\n          var attackAimIndex = _Utils.default.getIndexOfTheNearestItem(squad.aim.members, squad.members[0]);\n\n          var attackAim = squad.aim.members[attackAimIndex];\n\n          var enemyIndex = _influenceMap.default.getCellIndex(attackAim);\n\n          var inOpponentPlace = ourInfluenceMap[enemyIndex].value < 0;\n          var predictableAim = {\n            x: attackAim.x + attackAim.modX * 50,\n            y: attackAim.y + attackAim.modY * 50\n          };\n\n          var isSafePlace = _this.abilityHistory[factionID].reduce(function (result, ability) {\n            if (_Utils.default.dis(ability, predictableAim) < ability.range) {\n              return false;\n            }\n\n            return result;\n          }, true); // isSafePlace but FOR ENEMY, NOT OUR SAFE PLACE!!!\n\n\n          if (attackAim.hp > 0 && inOpponentPlace && isSafePlace) {\n            squad.abilities.map(function (abili) {\n              if (abili.time === 0) {\n                _this.abilityHistory[factionID].push({\n                  type: abili.name,\n                  x: predictableAim.x,\n                  y: predictableAim.y,\n                  range: 100,\n                  timer: 4 // 1 ~ 1.2sec\n\n                });\n\n                (0, _setAbilitie.default)([squad], predictableAim, abili.name);\n              }\n            });\n          }\n        }\n      }); // freeSquads means without task/priority\n\n      var freeSquads = army.squads.filter(function (squad) {\n        return !squad.aim && !squad.members[0].ability;\n      });\n\n      if (freeSquads.length > 0) {\n        _this.chooseAttackAim(factionID, freeSquads, ourVulnerabilityMap);\n      }\n    });\n  },\n  runToSafePlace: function runToSafePlace(ourInfluenceMap, army, factory) {\n    var armyPos = _influenceMap.default.getCellPos(army.index);\n\n    var safestPlace = {\n      value: 1000 / (_Utils.default.dis(factory, armyPos) / army.squads[0].members[0].speed * 0.25),\n      point: {\n        x: factory.x,\n        y: factory.y\n      }\n    };\n    ourInfluenceMap.map(function (cell, index) {\n      var cellPos = _influenceMap.default.getCellPos(index);\n\n      var time = _Utils.default.dis(cellPos, armyPos) / army.squads[0].members[0].speed;\n      var factor = time * 0.25;\n\n      if (cell.value / factor > safestPlace.value) {\n        safestPlace.value = cell.value / factor;\n        safestPlace.point = cellPos;\n      }\n    });\n    var units = [];\n    army.squads.map(function (squad) {\n      return units.push.apply(units, _toConsumableArray(squad.members));\n    });\n    (0, _setDestination.default)(safestPlace.point, units, false, false, false);\n  },\n  chooseAttackAim: function chooseAttackAim(factionID, ourSquads, ourVulnerabilityMap) {\n    var center = ourSquads[0].center;\n    var units = [];\n    ourSquads.map(function (squad) {\n      return units.push.apply(units, _toConsumableArray(squad.members));\n    });\n    var stillFree = true;\n    var minDistance = Number.MAX_SAFE_INTEGER;\n    window.allSquads.map(function (faction, factionIndex) {\n      if (factionIndex === factionID) return;\n      faction.map(function (enemySquad) {\n        var distance = _Utils.default.dis(center, enemySquad.center);\n\n        if (distance < 600 && distance < minDistance) {\n          minDistance = distance;\n          (0, _setDestination.default)(enemySquad, units, true, false, false);\n          stillFree = false;\n        }\n      });\n    });\n    if (!stillFree) return;\n    var aimPlace = {\n      value: Number.MIN_SAFE_INTEGER,\n      point: {\n        x: 0,\n        y: 0\n      }\n    };\n    ourVulnerabilityMap.map(function (cell, index) {\n      var cellPos = _influenceMap.default.getCellPos(index);\n\n      var time = _Utils.default.dis(cellPos, center) / ourSquads[0].members[0].speed;\n      var factor = time * 0.25;\n\n      if (cell.value / factor > aimPlace.value) {\n        aimPlace.value = cell.value / factor;\n        aimPlace.point = cellPos;\n      }\n    });\n\n    if (aimPlace.value > 0) {\n      (0, _setDestination.default)(aimPlace.point, units, false, false, false);\n    } // const placeToAttack: IAttack = {\n    //     value: Number.MAX_SAFE_INTEGER,\n    //     squad: undefined\n    // }\n    // if(placeToAttack.squad) {\n    //     const units: Unit[] = [];\n    //     ourSquads.map(squad => units.push(...squad.members));\n    //     const attackAimIndex = Utils.getIndexOfTheNearestItem(placeToAttack.squad.members, center);\n    //     setDestination(placeToAttack.squad.members[attackAimIndex], units, true, false, false);\n    // }      \n\n  },\n  getAllSquadsAroundPoint: function getAllSquadsAroundPoint(point, squadsArr) {\n    return squadsArr.reduce(function (result, squad, index) {\n      if (_Utils.default.dis(point, squad.center) < 300) {\n        result.push(squad);\n        squadsArr.splice(index, 1);\n      }\n\n      return result;\n    }, []);\n  },\n  groupSquadIntoArmy: function groupSquadIntoArmy(factionID) {\n    var armies = [];\n\n    var tempSquads = _toConsumableArray(window.allSquads[factionID]);\n\n    while (tempSquads.length > 0) {\n      var squad = tempSquads.splice(0, 1)[0];\n\n      var index = _influenceMap.default.getCellIndex(squad.center);\n\n      armies.push({\n        squads: [].concat(_toConsumableArray(this.getAllSquadsAroundPoint(squad.center, tempSquads)), [squad]),\n        index: index\n      });\n    } // tempSquads.map((squad, idx)=> {\n    //     tempSquads.splice(idx, 1);\n    //     const { row, col } = influenceController.getCell(squad);\n    //     armies.push({\n    //         squads: [...tempSquads.reduce((result, team, index) => {\n    //             if(Utils.dis(squad.center, team.center) < 3000) {\n    //                 result.push(team);\n    //                 tempSquads.splice(index, 1);\n    //             }\n    //             return result;\n    //         }, []), squad],\n    //         row,\n    //         col\n    //     })\n    // });\n\n\n    return armies;\n  }\n};\nvar _default = AiController;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWkvYWkudHM/NjE4ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7O0FBRUE7Ozs7Ozs7Ozs7OztBQXFDQSxJQUFNLFlBQVksR0FBa0I7QUFDaEMsZ0JBQWMsRUFBRSxTQURnQjtBQUVoQyxlQUZnQyx5QkFFbEIsU0FGa0IsRUFFUCxJQUZPLEVBRUQsU0FGQyxFQUVVLE9BRlYsRUFFaUI7QUFBQTs7QUFFN0MsU0FBSyxjQUFMLENBQW9CLFNBQXBCLElBQWlDLEtBQUssY0FBTCxDQUFvQixTQUFwQixFQUErQixNQUEvQixDQUFzQyxpQkFBTztBQUFBLGFBQUksRUFBRSxPQUFPLENBQUMsS0FBVixHQUFrQixDQUF0QjtBQUFBLEtBQTdDLENBQWpDLENBRjZDLENBRzdDOztBQUVBLFFBQU0sZUFBZSxHQUFHLHNCQUFvQixXQUFwQixDQUFnQyxJQUFJLENBQUMsU0FBRCxDQUFwQyxDQUF4QixDQUw2QyxDQUs0Qjs7O0FBQ3pFLFFBQU0sYUFBYSxHQUFHLHNCQUFvQixXQUFwQixDQUFnQyxJQUFJLENBQUMsU0FBRCxDQUFwQyxDQUF0QixDQU42QyxDQU0wQjs7O0FBRXZFLFNBQUksSUFBSSxDQUFDLEdBQUcsQ0FBWixFQUFlLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBeEIsRUFBZ0MsQ0FBQyxFQUFqQyxFQUFxQztBQUNqQyxVQUFHLENBQUMsS0FBSyxTQUFULEVBQW9CO0FBQ2hCLFlBQUksQ0FBQyxDQUFELENBQUosQ0FBUSxPQUFSLENBQWdCLFVBQUMsSUFBRCxFQUFPLEtBQVAsRUFBZ0I7QUFDNUIseUJBQWUsQ0FBQyxLQUFELENBQWYsQ0FBdUIsS0FBdkIsSUFBZ0MsSUFBSSxDQUFDLEtBQXJDO0FBQ0EsdUJBQWEsQ0FBQyxLQUFELENBQWIsQ0FBcUIsS0FBckIsSUFBOEIsSUFBSSxDQUFDLEtBQW5DO0FBQ0gsU0FIRDtBQUlIO0FBQ0o7O0FBRUQsUUFBSSxtQkFBbUIsR0FBRyxzQkFB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QyxNQUFYLENBQWtCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCLENBQXhCLENBQWQ7O0FBQ0EsVUFBTSxLQUFLLEdBQUcsc0JBQW9CLFlBQXBCLENBQWlDLEtBQUssQ0FBQyxNQUF2QyxDQUFkOztBQUNBLFlBQU0sQ0FBQyxJQUFQLENBQVk7QUFDUixjQUFNLCtCQUFNLEtBQUssdUJBQUwsQ0FBNkIsS0FBSyxDQUFDLE1BQW5DLEVBQTJDLFVBQTNDLENBQU4sSUFBOEQsS0FBOUQsRUFERTtBQUVSLGFBQUssRUFBTDtBQUZRLE9BQVo7QUFJSCxLQVh1QixDQVl4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLFdBQU8sTUFBUDtBQUNIO0FBck4rQixDQUFwQztlQXdOZSxZIiwiZmlsZSI6IjIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbmZsdWVuY2VDb250cm9sbGVyLCB7bWFwVW5pdH0gZnJvbSAnLi9pbmZsdWVuY2VNYXAnO1xuaW1wb3J0IHNldERlc3RpbmF0aW9uIGZyb20gJ34vbW9kdWxlcy9zZXREZXN0aW5hdGlvbic7XG5pbXBvcnQgU3F1YWQgZnJvbSAnfi91bml0cy9TcXVhZCc7XG5pbXBvcnQgVXRpbHMgZnJvbSAnVXRpbHMnO1xuaW1wb3J0IFVuaXQgZnJvbSAnfi91bml0cy9Vbml0JztcbmltcG9ydCBzZXRBYmlsaXR5IGZyb20gJ34vYWJpbGl0aWVzL3NldEFiaWxpdGllJztcbmltcG9ydCBTVEFURSBmcm9tICd+L21vZHVsZXMvY29uc3RzJztcblxuaW50ZXJmYWNlIElBcm15IHtcbiAgc3F1YWRzOiBTcXVhZFtdXG4gIGluZGV4OiBudW1iZXJcbn1cblxuaW50ZXJmYWNlIElQbGFjZSB7XG4gIHZhbHVlOiBudW1iZXJcbiAgcG9pbnQ6IFBvaW50XG59XG5cbmludGVyZmFjZSBJQXR0YWNrIHtcbiAgdmFsdWU6IG51bWJlclxuICBzcXVhZD86IFNxdWFkXG59XG5cbmludGVyZmFjZSBJQWJpbGl0eUhpc3Rvcnkge1xuICB0eXBlOiBzdHJpbmcsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICByYW5nZTogbnVtYmVyLFxuICB0aW1lcjogbnVtYmVyXG59XG5cbmludGVyZmFjZSBJQWlDb250cm9sbGVyIHtcbiAgICBhYmlsaXR5SGlzdG9yeTogSUFiaWxpdHlIaXN0b3J5W11bXVxuXG4gICAgbWFuYWdlRmFjdGlvbjogKGZhY3Rpb25JRDogbnVtYmVyLCBtYXBzOiBtYXBVbml0W11bXSwgcmVzUG9pbnRzOiBhbnlbXSwgZmFjdG9yeTogYW55KSA9PiB2b2lkXG4gICAgcnVuVG9TYWZlUGxhY2U6IChvdXJJbmZsdWVuY2VNYXA6IG1hcFVuaXRbXSwgYXJteTogSUFybXksIGZhY3Rvcnk6IGFueSkgPT4gdm9pZFxuICAgIGNob29zZUF0dGFja0FpbTogKGZhY3Rpb25JRDogbnVtYmVyLCBzcXVhZHM6IFNxdWFkW10sIG91clZ1bG5lcmFiaWxpdHlNYXA6IG1hcFVuaXRbXSkgPT4gdm9pZFxuXG4gICAgZ3JvdXBTcXVhZEludG9Bcm15OiAobWFwOiBudW1iZXIpID0+IElBcm15W11cbiAgICBnZXRBbGxTcXVhZHNBcm91bmRQb2ludDogKHBvaW50OiBQb2ludCwgc3F1YWRzOiBTcXVhZFtdKSA9PiBTcXVhZFtdXG59XG5cbmNvbnN0IEFpQ29udHJvbGxlcjogSUFpQ29udHJvbGxlciA9IHtcbiAgICBhYmlsaXR5SGlzdG9yeTogdW5kZWZpbmVkLCAvLyBBcnJheXMgaXMgY3JlYXRlZCBpbiBhcHAudHNcbiAgICBtYW5hZ2VGYWN0aW9uKGZhY3Rpb25JRCwgbWFwcywgcmVzUG9pbnRzLCBmYWN0b3J5KSB7XG5cbiAgICAgICAgdGhpcy5hYmlsaXR5SGlzdG9yeVtmYWN0aW9uSURdID0gdGhpcy5hYmlsaXR5SGlzdG9yeVtmYWN0aW9uSURdLmZpbHRlcihhYmlsaXR5ID0+IC0tYWJpbGl0eS50aW1lciA+IDApO1xuICAgICAgICAvLyBSZW1vdmUgb2xkIGhpc3RvcnlcblxuICAgICAgICBjb25zdCBvdXJJbmZsdWVuY2VNYXAgPSBpbmZsdWVuY2VDb250cm9sbGVyLmRlZXBDb3B5TWFwKG1hcHNbZmFjdGlvbklEXSk7Ly9tYXliZSB3ZSB3b24ndCBuZWVkIGEgY29weVxuICAgICAgICBjb25zdCBvdXJUZW5zaW9uTWFwID0gaW5mbHVlbmNlQ29udHJvbGxlci5kZWVwQ29weU1hcChtYXBzW2ZhY3Rpb25JRF0pOy8vbWF5YmUgd2Ugd29uJ3QgbmVlZCBhIGNvcHlcblxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWFwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYoaSAhPT0gZmFjdGlvbklEKSB7XG4gICAgICAgICAgICAgICAgbWFwc1tpXS5mb3JFYWNoKChjZWxsLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvdXJJbmZsdWVuY2VNYXBbaW5kZXhdLnZhbHVlIC09IGNlbGwudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG91clRlbnNpb25NYXBbaW5kZXhdLnZhbHVlICs9IGNlbGwudmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3VyVnVsbmVyYWJpbGl0eU1hcCA9IGluZmx1ZW5jZUNvbnRyb2xsZXIuY3JlYXRlT25lRGltZW5zaW9uQXJyKCk7XG4gICAgICAgIG91clZ1bG5lcmFiaWxpdHlNYXAgPSBvdXJWdWxuZXJhYmlsaXR5TWFwLm1hcCgoY2VsbCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvdXJUZW5zaW9uTWFwW2luZGV4XS52YWx1ZSAtIE1hdGguYWJzKG91ckluZmx1ZW5jZU1hcFtpbmRleF0udmFsdWUpLCBzcXVhZHM6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXNQb2ludHMuZm9yRWFjaChyZXNQb2ludCA9PiB7XG4gICAgICAgICAgICBpZihyZXNQb2ludC5vd25lciAhPT0gZmFjdGlvbklEKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnRJZHggPSBpbmZsdWVuY2VDb250cm9sbGVyLmdldENlbGxJbmRleChyZXNQb2ludCk7XG4gICAgICAgICAgICAgICAgaW5mbHVlbmNlQ29udHJvbGxlci5wcm9wYWdhdGlvbihwb2ludElkeCwgNTAwLCAxMDAsIG91clZ1bG5lcmFiaWxpdHlNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhvdXJWdWxuZXJhYmlsaXR5TWFwKTtcbiAgICAgICAgY29uc3Qgb3VyQXJtaWVzOiBJQXJteVtdID0gdGhpcy5ncm91cFNxdWFkSW50b0FybXkoZmFjdGlvbklEKTtcbiAgICAgICAgXG4gICAgICAgIGlmKGZhY3Rpb25JRCA9PT0gMSAmJiB3aW5kb3cubWFwKSB7XG4gICAgICAgICAgICBpbmZsdWVuY2VDb250cm9sbGVyLmRyYXdNYXAob3VySW5mbHVlbmNlTWFwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91ckFybWllcy5mb3JFYWNoKGFybXkgPT4gey8vd2UgY2FudXNlIG9ubHkgeCwgYW5kIHksIG5vIHJvdyBhbmQgY29sXG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSBvdXJJbmZsdWVuY2VNYXBbYXJteS5pbmRleF07XG4gICAgICAgICAgICBpZih2YWx1ZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhyb3cgZ3JlbmFkZSB0aGVuIHJ1blxuICAgICAgICAgICAgICAgIHRoaXMucnVuVG9TYWZlUGxhY2Uob3VySW5mbHVlbmNlTWFwLCBhcm15LCBmYWN0b3J5KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFybXkuc3F1YWRzLmZvckVhY2goKHNxdWFkOiBTcXVhZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzcXVhZC5haW0gJiYgc3F1YWQuYWltLm1lbWJlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYXR0YWNrQWltSW5kZXggPSBVdGlscy5nZXRJbmRleE9mVGhlTmVhcmVzdEl0ZW0oc3F1YWQuYWltLm1lbWJlcnMsIHNxdWFkLm1lbWJlcnNbMF0pO1xuICAgICAgICAgICAgICAgICAgY29uc3QgYXR0YWNrQWltID0gc3F1YWQuYWltLm1lbWJlcnNbYXR0YWNrQWltSW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCBlbmVteUluZGV4ID0gaW5mbHVlbmNlQ29udHJvbGxlci5nZXRDZWxsSW5kZXgoYXR0YWNrQWltKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGluT3Bwb25lbnRQbGFjZSA9IG91ckluZmx1ZW5jZU1hcFtlbmVteUluZGV4XS52YWx1ZSA8IDA7XG4gICAgICAgICAgICAgICAgICBjb25zdCBwcmVkaWN0YWJsZUFpbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICB4OiBhdHRhY2tBaW0ueCArIGF0dGFja0FpbS5tb2RYICogNTAsXG4gICAgICAgICAgICAgICAgICAgICAgeTogYXR0YWNrQWltLnkgKyBhdHRhY2tBaW0ubW9kWSAqIDUwLFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29uc3QgaXNTYWZlUGxhY2UgPSB0aGlzLmFiaWxpdHlIaXN0b3J5W2ZhY3Rpb25JRF0ucmVkdWNlKChyZXN1bHQsIGFiaWxpdHkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZihVdGlscy5kaXMoYWJpbGl0eSwgcHJlZGljdGFibGVBaW0pIDwgYWJpbGl0eS5yYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgIC8vIGlzU2FmZVBsYWNlIGJ1dCBGT1IgRU5FTVksIE5PVCBPVVIgU0FGRSBQTEFDRSEhIVxuICAgICAgICAgICAgICAgICAgaWYoYXR0YWNrQWltLmhwID4gMCAmJiBpbk9wcG9uZW50UGxhY2UgJiYgaXNTYWZlUGxhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzcXVhZC5hYmlsaXRpZXMubWFwKGFiaWxpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYWJpbGkudGltZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYmlsaXR5SGlzdG9yeVtmYWN0aW9uSURdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGFiaWxpLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogcHJlZGljdGFibGVBaW0ueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBwcmVkaWN0YWJsZUFpbS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDQgLy8gMSB+IDEuMnNlY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBYmlsaXR5KFtzcXVhZF0sIHByZWRpY3RhYmxlQWltLCBhYmlsaS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgLy8gZnJlZVNxdWFkcyBtZWFucyB3aXRob3V0IHRhc2svcHJpb3JpdHlcbiAgICAgICAgICAgIGNvbnN0IGZyZWVTcXVhZHMgPSBhcm15LnNxdWFkcy5maWx0ZXIoc3F1YWQgPT5cbiAgICAgICAgICAgICAgICAhc3F1YWQuYWltICYmICFzcXVhZC5tZW1iZXJzWzBdLmFiaWxpdHkpO1xuICAgICAgICAgICAgaWYoZnJlZVNxdWFkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VBdHRhY2tBaW0oZmFjdGlvbklELCBmcmVlU3F1YWRzLCBvdXJWdWxuZXJhYmlsaXR5TWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICB9LFxuXG5cbiAgICBydW5Ub1NhZmVQbGFjZShvdXJJbmZsdWVuY2VNYXAsIGFybXksIGZhY3RvcnkpIHtcbiAgICAgICAgY29uc3QgYXJteVBvcyA9IGluZmx1ZW5jZUNvbnRyb2xsZXIuZ2V0Q2VsbFBvcyhhcm15LmluZGV4KTtcbiAgICAgICAgY29uc3Qgc2FmZXN0UGxhY2U6IElQbGFjZSA9IHtcbiAgICAgICAgICAgIHZhbHVlOiAxMDAwIC8gKChVdGlscy5kaXMoZmFjdG9yeSwgYXJteVBvcykgLyBhcm15LnNxdWFkc1swXS5tZW1iZXJzWzBdLnNwZWVkKSAqIDAuMjUpLFxuICAgICAgICAgICAgcG9pbnQ6IHt4OiBmYWN0b3J5LngsIHk6IGZhY3RvcnkueX1cbiAgICAgICAgfVxuXG4gICAgICAgIG91ckluZmx1ZW5jZU1hcC5tYXAoKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjZWxsUG9zID0gaW5mbHVlbmNlQ29udHJvbGxlci5nZXRDZWxsUG9zKGluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBVdGlscy5kaXMoY2VsbFBvcywgYXJteVBvcykgLyBhcm15LnNxdWFkc1swXS5tZW1iZXJzWzBdLnNwZWVkO1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gdGltZSAqIDAuMjU7XG5cbiAgICAgICAgICAgIGlmKGNlbGwudmFsdWUgLyBmYWN0b3IgPiBzYWZlc3RQbGFjZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNhZmVzdFBsYWNlLnZhbHVlID0gY2VsbC52YWx1ZSAvIGZhY3RvcjtcbiAgICAgICAgICAgICAgICBzYWZlc3RQbGFjZS5wb2ludCA9IGNlbGxQb3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVuaXRzOiBVbml0W10gPSBbXTtcbiAgICAgICAgYXJteS5zcXVhZHMubWFwKHNxdWFkID0+IHVuaXRzLnB1c2goLi4uc3F1YWQubWVtYmVycykpO1xuICAgICAgICBzZXREZXN0aW5hdGlvbihzYWZlc3RQbGFjZS5wb2ludCwgdW5pdHMsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgIH0sXG5cbiAgICBjaG9vc2VBdHRhY2tBaW0oZmFjdGlvbklELCBvdXJTcXVhZHMsIG91clZ1bG5lcmFiaWxpdHlNYXApIHtcbiAgICAgICAgY29uc3QgeyBjZW50ZXIgfSA9IG91clNxdWFkc1swXTtcbiAgICAgICAgY29uc3QgdW5pdHM6IFVuaXRbXSA9IFtdO1xuICAgICAgICBvdXJTcXVhZHMubWFwKHNxdWFkID0+IHVuaXRzLnB1c2goLi4uc3F1YWQubWVtYmVycykpO1xuXG4gICAgICAgIGxldCBzdGlsbEZyZWUgPSB0cnVlO1xuICAgICAgICBsZXQgbWluRGlzdGFuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgICAgd2luZG93LmFsbFNxdWFkcy5tYXAoKGZhY3Rpb24sIGZhY3Rpb25JbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYoZmFjdGlvbkluZGV4ID09PSBmYWN0aW9uSUQpIHJldHVybjtcbiAgICAgICAgICAgIGZhY3Rpb24ubWFwKGVuZW15U3F1YWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gVXRpbHMuZGlzKGNlbnRlciwgZW5lbXlTcXVhZC5jZW50ZXIpO1xuICAgICAgICAgICAgICAgIGlmKGRpc3RhbmNlIDwgNjAwICYmIGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RGVzdGluYXRpb24oZW5lbXlTcXVhZCwgdW5pdHMsIHRydWUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0aWxsRnJlZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYoIXN0aWxsRnJlZSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGFpbVBsYWNlOiBJUGxhY2UgPSB7XG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBwb2ludDoge3g6IDAsIHk6IDB9XG4gICAgICAgIH1cblxuICAgICAgICBvdXJWdWxuZXJhYmlsaXR5TWFwLm1hcCgoY2VsbCwgaW5kZXgpID0+IHtcblxuICAgICAgICAgICAgY29uc3QgY2VsbFBvcyA9IGluZmx1ZW5jZUNvbnRyb2xsZXIuZ2V0Q2VsbFBvcyhpbmRleCk7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gVXRpbHMuZGlzKGNlbGxQb3MsIGNlbnRlcikgLyBvdXJTcXVhZHNbMF0ubWVtYmVyc1swXS5zcGVlZDtcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvciA9IHRpbWUgKiAwLjI1O1xuXG4gICAgICAgICAgICBpZihjZWxsLnZhbHVlIC8gZmFjdG9yID4gYWltUGxhY2UudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhaW1QbGFjZS52YWx1ZSA9IGNlbGwudmFsdWUgLyBmYWN0b3I7XG4gICAgICAgICAgICAgICAgYWltUGxhY2UucG9pbnQgPSBjZWxsUG9zO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKGFpbVBsYWNlLnZhbHVlID4gMCkge1xuICAgICAgICAgICAgc2V0RGVzdGluYXRpb24oYWltUGxhY2UucG9pbnQsIHVuaXRzLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnN0IHBsYWNlVG9BdHRhY2s6IElBdHRhY2sgPSB7XG4gICAgICAgIC8vICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgIC8vICAgICBzcXVhZDogdW5kZWZpbmVkXG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBpZihwbGFjZVRvQXR0YWNrLnNxdWFkKSB7XG4gICAgICAgIC8vICAgICBjb25zdCB1bml0czogVW5pdFtdID0gW107XG4gICAgICAgIC8vICAgICBvdXJTcXVhZHMubWFwKHNxdWFkID0+IHVuaXRzLnB1c2goLi4uc3F1YWQubWVtYmVycykpO1xuICAgICAgICAvLyAgICAgY29uc3QgYXR0YWNrQWltSW5kZXggPSBVdGlscy5nZXRJbmRleE9mVGhlTmVhcmVzdEl0ZW0ocGxhY2VUb0F0dGFjay5zcXVhZC5tZW1iZXJzLCBjZW50ZXIpO1xuICAgICAgICAvLyAgICAgc2V0RGVzdGluYXRpb24ocGxhY2VUb0F0dGFjay5zcXVhZC5tZW1iZXJzW2F0dGFja0FpbUluZGV4XSwgdW5pdHMsIHRydWUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIC8vIH0gICAgICBcbiAgICB9LFxuXG5cblxuICAgIGdldEFsbFNxdWFkc0Fyb3VuZFBvaW50KHBvaW50LCBzcXVhZHNBcnIpIHtcbiAgICAgICAgcmV0dXJuIHNxdWFkc0Fyci5yZWR1Y2UoKHJlc3VsdDogU3F1YWRbXSwgc3F1YWQ6IFNxdWFkLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZihVdGlscy5kaXMocG9pbnQsIHNxdWFkLmNlbnRlcikgPCAzMDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzcXVhZCk7XG4gICAgICAgICAgICAgICAgc3F1YWRzQXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBbXSlcbiAgICB9LFxuXG4gICAgZ3JvdXBTcXVhZEludG9Bcm15KGZhY3Rpb25JRCkgIHtcbiAgICAgICAgY29uc3QgYXJtaWVzOiBJQXJteVtdID0gW107XG4gICAgICAgIGNvbnN0IHRlbXBTcXVhZHMgPSBbLi4ud2luZG93LmFsbFNxdWFkc1tmYWN0aW9uSURdXTtcbiAgXG4gICAgICAgIHdoaWxlKHRlbXBTcXVhZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc3F1YWQgPSB0ZW1wU3F1YWRzLnNwbGljZSgwLCAxKVswXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaW5mbHVlbmNlQ29udHJvbGxlci5nZXRDZWxsSW5kZXgoc3F1YWQuY2VudGVyKTtcbiAgICAgICAgICAgIGFybWllcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzcXVhZHM6IFsuLi50aGlzLmdldEFsbFNxdWFkc0Fyb3VuZFBvaW50KHNxdWFkLmNlbnRlciwgdGVtcFNxdWFkcyksIHNxdWFkXSxcbiAgICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZW1wU3F1YWRzLm1hcCgoc3F1YWQsIGlkeCk9PiB7XG4gICAgICAgIC8vICAgICB0ZW1wU3F1YWRzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAvLyAgICAgY29uc3QgeyByb3csIGNvbCB9ID0gaW5mbHVlbmNlQ29udHJvbGxlci5nZXRDZWxsKHNxdWFkKTtcbiAgICAgICAgLy8gICAgIGFybWllcy5wdXNoKHtcbiAgICAgICAgLy8gICAgICAgICBzcXVhZHM6IFsuLi50ZW1wU3F1YWRzLnJlZHVjZSgocmVzdWx0LCB0ZWFtLCBpbmRleCkgPT4ge1xuICAgICAgICAvLyAgICAgICAgICAgICBpZihVdGlscy5kaXMoc3F1YWQuY2VudGVyLCB0ZWFtLmNlbnRlcikgPCAzMDAwKSB7XG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0ZWFtKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRlbXBTcXVhZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgfVxuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAvLyAgICAgICAgIH0sIFtdKSwgc3F1YWRdLFxuICAgICAgICAvLyAgICAgICAgIHJvdyxcbiAgICAgICAgLy8gICAgICAgICBjb2xcbiAgICAgICAgLy8gICAgIH0pXG4gICAgICAgIC8vIH0pO1xuXG5cbiAgICAgICAgcmV0dXJuIGFybWllcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFpQ29udHJvbGxlcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///233\n')},234:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _SquadFactory = _interopRequireDefault(__webpack_require__(235));\n\nvar _getPortalSprite = _interopRequireDefault(__webpack_require__(237));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Factory =\n/*#__PURE__*/\nfunction () {\n  function Factory(faction, x, y, angle, parent) {\n    _classCallCheck(this, Factory);\n\n    this.faction = faction;\n    this.x = x;\n    this.y = y;\n    this.angle = angle - Math.PI / 2;\n    this.timeToCreate = 0;\n    this._resources = 1000;\n    this.productionList = [];\n    this.productionAnimation = (0, _getPortalSprite.default)(x, y, this.angle, parent);\n  }\n\n  _createClass(Factory, [{\n    key: "buySquad",\n    value: function buySquad(type) {\n      this._resources -= 1000;\n      this.productionList.push({\n        type: type,\n        progress: 0,\n        totalTime: 100\n      });\n      this.productionAnimation.visible = true;\n      this.productionAnimation.alpha = 1;\n      this.productionAnimation.gotoAndPlay(0);\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      var _this = this;\n\n      this._resources++;\n      this.productionList = this.productionList.filter(function (production) {\n        if (++production.progress === production.totalTime) {\n          _this.createSquad(production.type);\n\n          _this.productionAnimation.visible = false;\n          _this.productionAnimation.alpha = 0;\n\n          _this.productionAnimation.stop();\n\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }, {\n    key: "createSquad",\n    value: function createSquad(type) {\n      // TODO: put into all warrays, also "wereSquadMoves"\n      var newSquad = _SquadFactory.default.createSquad({\n        x: this.x,\n        y: this.y\n      }, this.angle, this.faction, type);\n\n      window.allSquads[this.faction].push(newSquad);\n    }\n  }, {\n    key: "resources",\n    get: function get() {\n      return this._resources;\n    }\n  }]);\n\n  return Factory;\n}();\n\nvar _default = Factory;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFjdG9yeS9GYWN0b3J5LnRzP2MyOGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7Ozs7O0lBT00sTzs7O0FBV0YsbUJBQVksT0FBWixFQUFxQixDQUFyQixFQUF3QixDQUF4QixFQUEyQixLQUEzQixFQUFrQyxNQUFsQyxFQUF3QztBQUFBOztBQUNwQyxTQUFLLE9BQUwsR0FBZSxPQUFmO0FBQ0EsU0FBSyxDQUFMLEdBQVMsQ0FBVDtBQUNBLFNBQUssQ0FBTCxHQUFTLENBQVQ7QUFDQSxTQUFLLEtBQUwsR0FBYSxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUwsR0FBVSxDQUEvQjtBQUNBLFNBQUssWUFBTCxHQUFvQixDQUFwQjtBQUNBLFNBQUssVUFBTCxHQUFrQixJQUFsQjtBQUNBLFNBQUssY0FBTCxHQUFzQixFQUF0QjtBQUNBLFNBQUssbUJBQUwsR0FBMkIsOEJBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCLEtBQUssS0FBM0IsRUFBa0MsTUFBbEMsQ0FBM0I7QUFDSDs7Ozs2QkFNUSxJLEVBQVk7QUFDakIsV0FBSyxVQUFMLElBQW1CLElBQW5CO0FBQ0EsV0FBSyxjQUFMLENBQW9CLElBQXBCLENBQXlCO0FBQUUsWUFBSSxFQUFKLElBQUY7QUFBUSxnQkFBUSxFQUFFLENBQWxCO0FBQXFCLGlCQUFTLEVBQUU7QUFBaEMsT0FBekI7QUFDQSxXQUFLLG1CQUFMLENBQXlCLE9BQXpCLEdBQW1DLElBQW5DO0FBQ0EsV0FBSyxtQkFBTCxDQUF5QixLQUF6QixHQUFpQyxDQUFqQztBQUNBLFdBQUssbUJBQUwsQ0FBeUIsV0FBekIsQ0FBcUMsQ0FBckM7QUFDSDs7OzZCQUVLO0FBQUE7O0FBQ0YsV0FBSyxVQUFMO0FBQ0EsV0FBSyxjQUFMLEdBQXNCLEtBQUssY0FBTCxDQUFvQixNQUFwQixDQUE0QixvQkFBVSxFQUFHO0FBQzNELFlBQUcsRUFBRSxVQUFVLENBQUMsUUFBYixLQUEwQixVQUFVLENBQUMsU0FBeEMsRUFBbUQ7QUFDL0MsZUFBSSxDQUFDLFdBQUwsQ0FBaUIsVUFBVSxDQUFDLElBQTVCOztBQUNBLGVBQUksQ0FBQyxtQkFBTCxDQUF5QixPQUF6QixHQUFtQyxLQUFuQztBQUNBLGVBQUksQ0FBQyxtQkFBTCxDQUF5QixLQUF6QixHQUFpQyxDQUFqQzs7QUFDQSxlQUFJLENBQUMsbUJBQUwsQ0FBeUIsSUFBekI7O0FBQ0EsaUJBQU8sS0FBUDtBQUNIOztBQUNELGVBQU8sSUFBUDtBQUNILE9BVHFCLENBQXRCO0FBVUg7OztnQ0FFVyxJLEVBQVk7QUFDcEI7QUFDQSxVQUFNLFFBQVEsR0FBRyxzQkFBYSxXQUFiLENBQ2Y7QUFBRSxTQUFDLEVBQUUsS0FBSyxDQUFWO0FBQWEsU0FBQyxFQUFFLEtBQUs7QUFBckIsT0FEZSxFQUVmLEtBQUssS0FGVSxFQUdmLEtBQUssT0FIVSxFQUlmLElBSmUsQ0FBakI7O0FBTUEsWUFBTSxDQUFDLFNBQVAsQ0FBaUIsS0FBSyxPQUF0QixFQUErQixJQUEvQixDQUFvQyxRQUFwQztBQUNIOzs7d0JBbkNZO0FBQ1QsYUFBTyxLQUFLLFVBQVo7QUFDSDs7Ozs7O2VBb0NVLE8iLCJmaWxlIjoiMjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNxdWFkRmFjdG9yeSBmcm9tICd+L3VuaXRzL1NxdWFkRmFjdG9yeSc7XG5pbXBvcnQgZ2V0UG9ydGFsU3ByaXRlIGZyb20gJy4vZ2V0UG9ydGFsU3ByaXRlJztcblxuaW50ZXJmYWNlIElQcm9kdWN0aW9uIHtcbiAgICB0eXBlOiBzdHJpbmdcbiAgICBwcm9ncmVzczogbnVtYmVyXG4gICAgdG90YWxUaW1lOiBudW1iZXJcbn1cbmNsYXNzIEZhY3Rvcnkge1xuICAgIHB1YmxpYyB4OiBudW1iZXJcbiAgICBwdWJsaWMgeTogbnVtYmVyXG4gICAgcHJpdmF0ZSBhbmdsZTogbnVtYmVyXG4gICAgcHJpdmF0ZSBmYWN0aW9uOiBudW1iZXJcbiAgICBwcml2YXRlIHRpbWVUb0NyZWF0ZTogbnVtYmVyXG4gICAgcHJpdmF0ZSBncmFwaGljczogUElYSS5TcHJpdGVcbiAgICBwcml2YXRlIF9yZXNvdXJjZXM6IG51bWJlclxuICAgIHByaXZhdGUgcHJvZHVjdGlvbkxpc3Q6IElQcm9kdWN0aW9uW11cbiAgICBwcml2YXRlIHByb2R1Y3Rpb25BbmltYXRpb246IGFueVxuXG4gICAgY29uc3RydWN0b3IoZmFjdGlvbiwgeCwgeSwgYW5nbGUsIHBhcmVudCkge1xuICAgICAgICB0aGlzLmZhY3Rpb24gPSBmYWN0aW9uO1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLmFuZ2xlID0gYW5nbGUgLSBNYXRoLlBJIC8gMjtcbiAgICAgICAgdGhpcy50aW1lVG9DcmVhdGUgPSAwO1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXMgPSAxMDAwO1xuICAgICAgICB0aGlzLnByb2R1Y3Rpb25MaXN0ID0gW107XG4gICAgICAgIHRoaXMucHJvZHVjdGlvbkFuaW1hdGlvbiA9IGdldFBvcnRhbFNwcml0ZSh4LCB5LCB0aGlzLmFuZ2xlLCBwYXJlbnQpO1xuICAgIH1cblxuICAgIGdldCByZXNvdXJjZXMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc291cmNlcztcbiAgICB9XG5cbiAgICBidXlTcXVhZCh0eXBlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzIC09IDEwMDA7XG4gICAgICAgIHRoaXMucHJvZHVjdGlvbkxpc3QucHVzaCh7IHR5cGUsIHByb2dyZXNzOiAwLCB0b3RhbFRpbWU6IDEwMCB9KTtcbiAgICAgICAgdGhpcy5wcm9kdWN0aW9uQW5pbWF0aW9uLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb2R1Y3Rpb25BbmltYXRpb24uYWxwaGEgPSAxO1xuICAgICAgICB0aGlzLnByb2R1Y3Rpb25BbmltYXRpb24uZ290b0FuZFBsYXkoMCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB0aGlzLl9yZXNvdXJjZXMrKztcbiAgICAgICAgdGhpcy5wcm9kdWN0aW9uTGlzdCA9IHRoaXMucHJvZHVjdGlvbkxpc3QuZmlsdGVyKChwcm9kdWN0aW9uID0+IHtcbiAgICAgICAgICAgIGlmKCsrcHJvZHVjdGlvbi5wcm9ncmVzcyA9PT0gcHJvZHVjdGlvbi50b3RhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNxdWFkKHByb2R1Y3Rpb24udHlwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0aW9uQW5pbWF0aW9uLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2R1Y3Rpb25BbmltYXRpb24uYWxwaGEgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdGlvbkFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pKVxuICAgIH1cblxuICAgIGNyZWF0ZVNxdWFkKHR5cGU6IHN0cmluZykge1xuICAgICAgICAvLyBUT0RPOiBwdXQgaW50byBhbGwgd2FycmF5cywgYWxzbyBcIndlcmVTcXVhZE1vdmVzXCJcbiAgICAgICAgY29uc3QgbmV3U3F1YWQgPSBTcXVhZEZhY3RvcnkuY3JlYXRlU3F1YWQoXG4gICAgICAgICAgeyB4OiB0aGlzLngsIHk6IHRoaXMueSB9LFxuICAgICAgICAgIHRoaXMuYW5nbGUsXG4gICAgICAgICAgdGhpcy5mYWN0aW9uLFxuICAgICAgICAgIHR5cGVcbiAgICAgICAgKTtcbiAgICAgICAgd2luZG93LmFsbFNxdWFkc1t0aGlzLmZhY3Rpb25dLnB1c2gobmV3U3F1YWQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///234\n')},235:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Squad = _interopRequireDefault(__webpack_require__(236));\n\nvar _UnitFactory = _interopRequireDefault(__webpack_require__(204));\n\nvar _SquadTypes = _interopRequireDefault(__webpack_require__(206));\n\nvar _generateArray2 = _interopRequireDefault(__webpack_require__(202));\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar SquadFactory =\n/*#__PURE__*/\nfunction () {\n  function SquadFactory() {\n    _classCallCheck(this, SquadFactory);\n  }\n\n  _createClass(SquadFactory, null, [{\n    key: \"createSquad\",\n    value: function createSquad(sourcePos) {\n      var angle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var faction = arguments.length > 2 ? arguments[2] : undefined;\n      var type = arguments.length > 3 ? arguments[3] : undefined;\n      var abilities = [];\n\n      if (type === 'SOLIDER_REGULAR') {\n        abilities = [{\n          name: 'SOLIDER_GRENADE',\n          time: 0,\n          rechargeTime: 1000\n        }];\n      } else if (type === 'WARRIOR_ASSAULT') {\n        abilities = [{\n          name: 'ASSAULT_JUMP',\n          time: 0,\n          rechargeTime: 1000\n        }];\n      }\n\n      var size = _SquadTypes.default[type].size;\n      var squad = new _Squad.default(faction, abilities, type);\n\n      var _generateArray = (0, _generateArray2.default)(size),\n          points = _generateArray.points;\n\n      var center = _Utils.default.calculateCenterPoint(points);\n\n      var zeroPoint = {\n        x: 0,\n        y: 0\n      };\n      angle = Math.PI / 2 - angle; // I don't now why, met by chance\n\n      points.forEach(function (point) {\n        var dis = _Utils.default.dis(zeroPoint, point);\n\n        var ang = _Utils.default.ang(zeroPoint, point);\n\n        point.x = Math.sin(ang + angle) * dis + sourcePos.x + Math.sin(angle) * -25;\n        point.y = -Math.cos(ang + angle) * dis + sourcePos.y - Math.cos(angle) * -25;\n      });\n      points.map(function (point) {\n        var unit = _UnitFactory.default.createUnit(point, faction, type, squad);\n\n        squad.members.push(unit);\n        unit.setTargetToGo({\n          x: unit.x + Math.sin(angle) * 150,\n          y: unit.y - Math.cos(angle) * 150\n        });\n      });\n      squad.updateProps();\n      return squad;\n    }\n  }]);\n\n  return SquadFactory;\n}();\n\nvar _default = SquadFactory;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvU3F1YWRGYWN0b3J5LnRzPzFmZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOzs7Ozs7Ozs7O0lBRU0sWTs7Ozs7Ozs7O2dDQUVGLFMsRUFHWTtBQUFBLFVBRlosS0FFWSx1RUFGSixDQUVJO0FBQUEsVUFEWixPQUNZO0FBQUEsVUFBWixJQUFZO0FBRVosVUFBSSxTQUFTLEdBQUcsRUFBaEI7O0FBQ0EsVUFBRyxJQUFJLEtBQUssaUJBQVosRUFBK0I7QUFDM0IsaUJBQVMsR0FBRyxDQUFDO0FBQ1QsY0FBSSxFQUFFLGlCQURHO0FBRVQsY0FBSSxFQUFFLENBRkc7QUFHVCxzQkFBWSxFQUFFO0FBSEwsU0FBRCxDQUFaO0FBS0gsT0FORCxNQU1PLElBQUcsSUFBSSxLQUFLLGlCQUFaLEVBQStCO0FBQ2xDLGlCQUFTLEdBQUcsQ0FBQztBQUNULGNBQUksRUFBRSxjQURHO0FBRVQsY0FBSSxFQUFFLENBRkc7QUFHVCxzQkFBWSxFQUFFO0FBSEwsU0FBRCxDQUFaO0FBS0g7O0FBRUQsVUFBTSxJQUFJLEdBQVcsb0JBQVcsSUFBWCxFQUFpQixJQUF0QztBQUNBLFVBQU0sS0FBSyxHQUFHLElBQUksY0FBSixDQUFVLE9BQVYsRUFBbUIsU0FBbkIsRUFBOEIsSUFBOUIsQ0FBZDs7QUFsQlksMkJBbUJPLDZCQUFjLElBQWQsQ0FuQlA7QUFBQSxVQW1CSixNQW5CSSxrQkFtQkosTUFuQkk7O0FBb0JaLFVBQU0sTUFBTSxHQUFVLGVBQU0sb0JBQU4sQ0FBMkIsTUFBM0IsQ0FBdEI7O0FBQ0EsVUFBTSxTQUFTLEdBQVU7QUFBRSxTQUFDLEVBQUUsQ0FBTDtBQUFRLFNBQUMsRUFBRTtBQUFYLE9BQXpCO0FBRUEsV0FBSyxHQUFHLElBQUksQ0FBQyxFQUFMLEdBQVUsQ0FBVixHQUFjLEtBQXRCLENBdkJZLENBdUJpQjs7QUFDN0IsWUFBTSxDQUFDLE9BQVAsQ0FBZ0IsZUFBSyxFQUFHO0FBQ3RCLFlBQU0sR0FBRyxHQUFHLGVBQU0sR0FBTixDQUFVLFNBQVYsRUFBcUIsS0FBckIsQ0FBWjs7QUFDQSxZQUFNLEdBQUcsR0FBRyxlQUFNLEdBQU4sQ0FBVSxTQUFWLEVBQXFCLEtBQXJCLENBQVo7O0FBQ0EsYUFBSyxDQUFDLENBQU4sR0FBVSxJQUFJLENBQUMsR0FBTCxDQUFTLEdBQUcsR0FBRyxLQUFmLElBQXdCLEdBQXhCLEdBQThCLFNBQVMsQ0FBQyxDQUF4QyxHQUE0QyxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsSUFBa0IsQ0FBQyxFQUF6RTtBQUNBLGFBQUssQ0FBQyxDQUFOLEdBQVUsQ0FBQyxJQUFJLENBQUMsR0FBTCxDQUFTLEdBQUcsR0FBRyxLQUFmLENBQUQsR0FBeUIsR0FBekIsR0FBK0IsU0FBUyxDQUFDLENBQXpDLEdBQTZDLElBQUksQ0FBQyxHQUFMLENBQVMsS0FBVCxJQUFrQixDQUFDLEVBQTFFO0FBQ0QsT0FMRDtBQU9BLFlBQU0sQ0FBQyxHQUFQLENBQVcsZUFBSyxFQUFHO0FBQ2pCLFlBQU0sSUFBSSxHQUFTLHFCQUFZLFVBQVosQ0FBdUIsS0FBdkIsRUFBOEIsT0FBOUIsRUFBdUMsSUFBdkMsRUFBNkMsS0FBN0MsQ0FBbkI7O0FBQ0EsYUFBSyxDQUFDLE9BQU4sQ0FBYyxJQUFkLENBQW1CLElBQW5CO0FBQ0EsWUFBSSxDQUFDLGFBQUwsQ0FBbUI7QUFDakIsV0FBQyxFQUFFLElBQUksQ0FBQyxDQUFMLEdBQVMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULElBQWtCLEdBRGI7QUFFakIsV0FBQyxFQUFFLElBQUksQ0FBQyxDQUFMLEdBQVMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULElBQWtCO0FBRmIsU0FBbkI7QUFJRCxPQVBEO0FBU0EsV0FBSyxDQUFDLFdBQU47QUFFQSxhQUFPLEtBQVA7QUFDRDs7Ozs7O2VBR1ksWSIsImZpbGUiOiIyMzUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3F1YWQgZnJvbSAnLi9TcXVhZCc7XG5pbXBvcnQgVW5pdEZhY3RvcnkgZnJvbSAnLi9Vbml0RmFjdG9yeSc7XG5pbXBvcnQgU3F1YWRUeXBlcyBmcm9tICcuL1NxdWFkVHlwZXMnO1xuaW1wb3J0IFVuaXQgZnJvbSAnLi9Vbml0JzsvL2J1dCB0aGlzIGltcG9ydCBpcyBvbmx5IGZvciB0eXBlc2NyaXB0LCBpdCdzIGEgZ29vZCB3YXkgdG8gYWRkIGludGVyZmFjZT9cbmltcG9ydCBnZW5lcmF0ZUFycmF5IGZyb20gJ34vbW9kdWxlcy9nZW5lcmF0ZUFycmF5JztcbmltcG9ydCBVdGlscyBmcm9tICdVdGlscyc7XG5cbmNsYXNzIFNxdWFkRmFjdG9yeSB7XG4gIHN0YXRpYyBjcmVhdGVTcXVhZChcbiAgICBzb3VyY2VQb3M6IFBvaW50LFxuICAgIGFuZ2xlID0gMCxcbiAgICBmYWN0aW9uOiBudW1iZXIsXG4gICAgdHlwZTogc3RyaW5nXG4gICk6IFNxdWFkIHtcbiAgICBsZXQgYWJpbGl0aWVzID0gW107XG4gICAgaWYodHlwZSA9PT0gJ1NPTElERVJfUkVHVUxBUicpIHtcbiAgICAgICAgYWJpbGl0aWVzID0gW3tcbiAgICAgICAgICAgIG5hbWU6ICdTT0xJREVSX0dSRU5BREUnLFxuICAgICAgICAgICAgdGltZTogMCxcbiAgICAgICAgICAgIHJlY2hhcmdlVGltZTogMTAwMFxuICAgICAgICB9XTtcbiAgICB9IGVsc2UgaWYodHlwZSA9PT0gJ1dBUlJJT1JfQVNTQVVMVCcpIHtcbiAgICAgICAgYWJpbGl0aWVzID0gW3tcbiAgICAgICAgICAgIG5hbWU6ICdBU1NBVUxUX0pVTVAnLFxuICAgICAgICAgICAgdGltZTogMCxcbiAgICAgICAgICAgIHJlY2hhcmdlVGltZTogMTAwMFxuICAgICAgICB9XTtcbiAgICB9XG5cbiAgICBjb25zdCBzaXplOiBudW1iZXIgPSBTcXVhZFR5cGVzW3R5cGVdLnNpemU7XG4gICAgY29uc3Qgc3F1YWQgPSBuZXcgU3F1YWQoZmFjdGlvbiwgYWJpbGl0aWVzLCB0eXBlKTtcbiAgICBjb25zdCB7IHBvaW50cyB9ID0gZ2VuZXJhdGVBcnJheShzaXplKTtcbiAgICBjb25zdCBjZW50ZXI6IFBvaW50ID0gVXRpbHMuY2FsY3VsYXRlQ2VudGVyUG9pbnQocG9pbnRzKTtcbiAgICBjb25zdCB6ZXJvUG9pbnQ6IFBvaW50ID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICBhbmdsZSA9IE1hdGguUEkgLyAyIC0gYW5nbGU7IC8vIEkgZG9uJ3Qgbm93IHdoeSwgbWV0IGJ5IGNoYW5jZVxuICAgIHBvaW50cy5mb3JFYWNoKCBwb2ludCA9PiB7XG4gICAgICBjb25zdCBkaXMgPSBVdGlscy5kaXMoemVyb1BvaW50LCBwb2ludCk7XG4gICAgICBjb25zdCBhbmcgPSBVdGlscy5hbmcoemVyb1BvaW50LCBwb2ludCk7XG4gICAgICBwb2ludC54ID0gTWF0aC5zaW4oYW5nICsgYW5nbGUpICogZGlzICsgc291cmNlUG9zLnggKyBNYXRoLnNpbihhbmdsZSkgKiAtMjU7XG4gICAgICBwb2ludC55ID0gLU1hdGguY29zKGFuZyArIGFuZ2xlKSAqIGRpcyArIHNvdXJjZVBvcy55IC0gTWF0aC5jb3MoYW5nbGUpICogLTI1O1xuICAgIH0pXG4gICAgXG4gICAgcG9pbnRzLm1hcChwb2ludCA9PiB7XG4gICAgICBjb25zdCB1bml0OiBVbml0ID0gVW5pdEZhY3RvcnkuY3JlYXRlVW5pdChwb2ludCwgZmFjdGlvbiwgdHlwZSwgc3F1YWQpO1xuICAgICAgc3F1YWQubWVtYmVycy5wdXNoKHVuaXQpO1xuICAgICAgdW5pdC5zZXRUYXJnZXRUb0dvKHtcbiAgICAgICAgeDogdW5pdC54ICsgTWF0aC5zaW4oYW5nbGUpICogMTUwLFxuICAgICAgICB5OiB1bml0LnkgLSBNYXRoLmNvcyhhbmdsZSkgKiAxNTAsXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgc3F1YWQudXBkYXRlUHJvcHMoKTtcblxuICAgIHJldHVybiBzcXVhZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTcXVhZEZhY3Rvcnk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///235\n")},236:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nvar _icons = _interopRequireDefault(__webpack_require__(200));\n\nvar _SquadTypes = _interopRequireDefault(__webpack_require__(206));\n\nvar _WeaponTypes = _interopRequireDefault(__webpack_require__(197));\n\nvar _gameSettings = _interopRequireDefault(__webpack_require__(195));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Squad =\n/*#__PURE__*/\nfunction () {\n  function Squad(faction, abilities, type) {\n    _classCallCheck(this, Squad);\n\n    // TODO: "abilities" shouldn\'t became from "SquadTypes[type]"?\n    this.faction = faction;\n    this.members = [];\n    this.abilities = abilities;\n    this.oneUnitFluent = _SquadTypes.default[type].fluent;\n    this.weaponRange = _WeaponTypes.default[type].range;\n    this.isStaying = true; // TODO: it\'s not falseo n start? soldiers are coming from portal\n\n    this.fluentValue = 0;\n    this.aim = undefined;\n  }\n\n  _createClass(Squad, [{\n    key: "removeUnit",\n    value: function removeUnit(unit) {\n      var _this = this;\n\n      this.members = this.members.filter(function (member) {\n        return member !== unit;\n      });\n\n      if (this.members.length === 0) {\n        _Utils.default.removeFromArr(window.allSquads[this.faction], this);\n\n        window.squadsWereMoved[this.faction] = window.squadsWereMoved[this.faction].filter(function (squad) {\n          return squad !== _this;\n        });\n        var icon = window.icons.find(function (icon) {\n          return icon.squad === _this;\n        }); // TODO: consieder, maybe squad shoudl have icons, not icons has reference to squad?\n\n        if (icon) {\n          _icons.default.removeIcon(icon);\n        }\n      }\n    }\n  }, {\n    key: "selectAll",\n    value: function selectAll() {\n      this.allSelected = true;\n      this.members.forEach(function (member) {\n        return member.selected = true;\n      });\n    }\n  }, {\n    key: "deselectAll",\n    value: function deselectAll() {\n      this.allSelected = false;\n      this.members.forEach(function (member) {\n        return member.selected = false;\n      });\n    }\n  }, {\n    key: "updateProps",\n    value: function updateProps() {\n      var hp = this.members.reduce(function (prev, member) {\n        return prev + member.hp;\n      }, 0);\n      this.fluentValue = hp * this.oneUnitFluent;\n      this.center = _Utils.default.calculateCenterPoint(this.members);\n\n      if (this.center.x < 0) {\n        // TODO: it never should happend!\n        this.center.x = 0;\n      } else if (this.center.x >= window.mapWidth) {\n        // TODO: it never should happend!\n        this.center.x = window.mapWidth - 1;\n      }\n\n      if (this.center.y < 0) {\n        this.center.y = 0; // TODO: it never should happend!\n      } else if (this.center.y >= window.mapHeight) {\n        // TODO: it never should happend!\n        this.center.y = window.mapHeight - 1;\n      }\n    }\n  }, {\n    key: "updateStayingStatus",\n    value: function updateStayingStatus() {\n      var squadsIsMoving = this.members.reduce(function (result, unit) {\n        return result ? result : !_Utils.default.objStaying(unit);\n      }, false); // this.isStaying = this.members.every(unit => Utils.objStaying(unit));\n\n      this.isStaying = !squadsIsMoving;\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      this.members.forEach(function (member) {\n        return member.update();\n      });\n    }\n  }, {\n    key: "animate",\n    value: function animate() {\n      this.members.forEach(function (member) {\n        return member.animate();\n      });\n    }\n  }, {\n    key: "regroupMembers",\n    value: function regroupMembers() {\n      var _this2 = this;\n\n      var tooFarUnits = this.members.filter(function (unit) {\n        return _Utils.default.dis(_this2.center, unit) > _gameSettings.default.MAX_DISTANCE_BETWEEN_SQUAD_MEMBERS;\n      });\n      tooFarUnits.forEach(function (unit) {\n        if (!unit.aim || \'hp\' in unit.aim) {\n          var angle = _Utils.default.ang(unit, _this2.center);\n\n          var distance = _Utils.default.dis(unit, _this2.center) - 150; // 150 for good looking\n\n          unit.setTargetToGo({\n            x: Math.sin(angle) * distance + unit.x,\n            y: -Math.cos(angle) * distance + unit.y\n          });\n        }\n      });\n    }\n  }, {\n    key: "isAllSelected",\n    get: function get() {\n      return this.allSelected;\n    }\n  }]);\n\n  return Squad;\n}();\n\nvar _default = Squad;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdW5pdHMvU3F1YWQudHM/MjA1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7SUFRTSxLOzs7QUFhSixpQkFBWSxPQUFaLEVBQTZCLFNBQTdCLEVBQXdELElBQXhELEVBQW9FO0FBQUE7O0FBQ2xFO0FBQ0EsU0FBSyxPQUFMLEdBQWUsT0FBZjtBQUNBLFNBQUssT0FBTCxHQUFlLEVBQWY7QUFDQSxTQUFLLFNBQUwsR0FBaUIsU0FBakI7QUFDQSxTQUFLLGFBQUwsR0FBcUIsb0JBQVcsSUFBWCxFQUFpQixNQUF0QztBQUNBLFNBQUssV0FBTCxHQUFtQixxQkFBWSxJQUFaLEVBQWtCLEtBQXJDO0FBQ0EsU0FBSyxTQUFMLEdBQWlCLElBQWpCLENBUGtFLENBTzNDOztBQUN2QixTQUFLLFdBQUwsR0FBbUIsQ0FBbkI7QUFDQSxTQUFLLEdBQUwsR0FBVyxTQUFYO0FBQ0Q7Ozs7K0JBTVUsSSxFQUFVO0FBQUE7O0FBQ25CLFdBQUssT0FBTCxHQUFlLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsZ0JBQU07QUFBQSxlQUFJLE1BQU0sS0FBSyxJQUFmO0FBQUEsT0FBMUIsQ0FBZjs7QUFDQSxVQUFHLEtBQUssT0FBTCxDQUFhLE1BQWIsS0FBd0IsQ0FBM0IsRUFBOEI7QUFDNUIsdUJBQU0sYUFBTixDQUFvQixNQUFNLENBQUMsU0FBUCxDQUFpQixLQUFLLE9BQXRCLENBQXBCLEVBQW9ELElBQXBEOztBQUNBLGNBQU0sQ0FBQyxlQUFQLENBQXVCLEtBQUssT0FBNUIsSUFBdUMsTUFBTSxDQUFDLGVBQVAsQ0FBdUIsS0FBSyxPQUE1QixFQUFxQyxNQUFyQyxDQUE0QyxlQUFLO0FBQUEsaUJBQUksS0FBSyxLQUFLLEtBQWQ7QUFBQSxTQUFqRCxDQUF2QztBQUNBLFlBQU0sSUFBSSxHQUFVLE1BQU0sQ0FBQyxLQUFQLENBQWEsSUFBYixDQUFtQixjQUFJO0FB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Q0FBZDs7QUFDQSxjQUFNLFFBQVEsR0FBRyxlQUFNLEdBQU4sQ0FBVSxJQUFWLEVBQWdCLE1BQUksQ0FBQyxNQUFyQixJQUErQixHQUFoRCxDQUZpQyxDQUVtQjs7QUFDcEQsY0FBSSxDQUFDLGFBQUwsQ0FBbUI7QUFDakIsYUFBQyxFQUFFLElBQUksQ0FBQyxHQUFMLENBQVMsS0FBVCxJQUFrQixRQUFsQixHQUE2QixJQUFJLENBQUMsQ0FEcEI7QUFFakIsYUFBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULENBQUQsR0FBbUIsUUFBbkIsR0FBOEIsSUFBSSxDQUFDO0FBRnJCLFdBQW5CO0FBSUQ7QUFDRixPQVREO0FBVUQ7Ozt3QkF4RWdCO0FBQ2YsYUFBTyxLQUFLLFdBQVo7QUFDRDs7Ozs7O2VBdUZZLEsiLCJmaWxlIjoiMjM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFV0aWxzIGZyb20gJ1V0aWxzJztcbmltcG9ydCBVbml0IGZyb20gJy4vVW5pdCc7XG5pbXBvcnQgSWNvbnMsIHsgSUljb24gfSBmcm9tICd+L21vZHVsZXMvaWNvbnMnO1xuaW1wb3J0IFNxdWFkVHlwZXMgZnJvbSAnLi9TcXVhZFR5cGVzJztcbmltcG9ydCBXZWFwb25UeXBlcyBmcm9tICd+L3dlYXBvbnMvV2VhcG9uVHlwZXMnO1xuaW1wb3J0IFNFVFRJTkdTIGZyb20gJ34vbW9kdWxlcy9nYW1lU2V0dGluZ3MnO1xuXG5pbnRlcmZhY2UgU3F1YWRBYmlsaXR5IHtcbiAgICBuYW1lOiBzdHJpbmdcbiAgICB0aW1lOiBudW1iZXJcbiAgICByZWNoYXJnZVRpbWU6IG51bWJlclxufVxuXG5jbGFzcyBTcXVhZCB7XG4gIHByaXZhdGUgYWxsU2VsZWN0ZWQ6IGJvb2xlYW5cblxuICBwdWJsaWMgZmFjdGlvbjogbnVtYmVyXG4gIHB1YmxpYyBjZW50ZXI6IFBvaW50O1xuICBwdWJsaWMgbWVtYmVyczogVW5pdFtdXG4gIHB1YmxpYyBhYmlsaXRpZXM6IFNxdWFkQWJpbGl0eVtdXG4gIHB1YmxpYyBpc1N0YXlpbmc6IGJvb2xlYW5cbiAgcHVibGljIGZsdWVudFZhbHVlOiBudW1iZXJcbiAgcHVibGljIHdlYXBvblJhbmdlOiBudW1iZXJcbiAgcHVibGljIG9uZVVuaXRGbHVlbnQ6IG51bWJlclxuICBwdWJsaWMgYWltOiBTcXVhZFxuXG4gIGNvbnN0cnVjdG9yKGZhY3Rpb246IG51bWJlciwgYWJpbGl0aWVzOiBTcXVhZEFiaWxpdHlbXSwgdHlwZTogc3RyaW5nKSB7XG4gICAgLy8gVE9ETzogXCJhYmlsaXRpZXNcIiBzaG91bGRuJ3QgYmVjYW1lIGZyb20gXCJTcXVhZFR5cGVzW3R5cGVdXCI/XG4gICAgdGhpcy5mYWN0aW9uID0gZmFjdGlvbjtcbiAgICB0aGlzLm1lbWJlcnMgPSBbXTtcbiAgICB0aGlzLmFiaWxpdGllcyA9IGFiaWxpdGllcztcbiAgICB0aGlzLm9uZVVuaXRGbHVlbnQgPSBTcXVhZFR5cGVzW3R5cGVdLmZsdWVudDtcbiAgICB0aGlzLndlYXBvblJhbmdlID0gV2VhcG9uVHlwZXNbdHlwZV0ucmFuZ2U7XG4gICAgdGhpcy5pc1N0YXlpbmcgPSB0cnVlOyAvLyBUT0RPOiBpdCdzIG5vdCBmYWxzZW8gbiBzdGFydD8gc29sZGllcnMgYXJlIGNvbWluZyBmcm9tIHBvcnRhbFxuICAgIHRoaXMuZmx1ZW50VmFsdWUgPSAwO1xuICAgIHRoaXMuYWltID0gdW5kZWZpbmVkXG4gIH1cblxuICBnZXQgaXNBbGxTZWxlY3RlZCgpOiBib29sZWFuIHsgLy8gd2h5IGl0J3MgZ2V0dGVyIGluc3RlYWQgb2Ygc2ltcGx5IGJvb2xlYW4/XG4gICAgcmV0dXJuIHRoaXMuYWxsU2VsZWN0ZWQ7XG4gIH1cblxuICByZW1vdmVVbml0KHVuaXQ6IFVuaXQpOiB2b2lkIHtcbiAgICB0aGlzLm1lbWJlcnMgPSB0aGlzLm1lbWJlcnMuZmlsdGVyKG1lbWJlciA9PiBtZW1iZXIgIT09IHVuaXQpO1xuICAgIGlmKHRoaXMubWVtYmVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIFV0aWxzLnJlbW92ZUZyb21BcnIod2luZG93LmFsbFNxdWFkc1t0aGlzLmZhY3Rpb25dLCB0aGlzKTtcbiAgICAgIHdpbmRvdy5zcXVhZHNXZXJlTW92ZWRbdGhpcy5mYWN0aW9uXSA9IHdpbmRvdy5zcXVhZHNXZXJlTW92ZWRbdGhpcy5mYWN0aW9uXS5maWx0ZXIoc3F1YWQgPT4gc3F1YWQgIT09IHRoaXMpXG4gICAgICBjb25zdCBpY29uOiBJSWNvbiA9IHdpbmRvdy5pY29ucy5maW5kKCBpY29uID0+IGljb24uc3F1YWQgPT09IHRoaXMpOyAvLyBUT0RPOiBjb25zaWVkZXIsIG1heWJlIHNxdWFkIHNob3VkbCBoYXZlIGljb25zLCBub3QgaWNvbnMgaGFzIHJlZmVyZW5jZSB0byBzcXVhZD9cbiAgICAgIGlmKGljb24pIHtcbiAgICAgICAgSWNvbnMucmVtb3ZlSWNvbihpY29uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZWxlY3RBbGwoKSB7XG4gICAgICB0aGlzLmFsbFNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMubWVtYmVycy5mb3JFYWNoKG1lbWJlciA9PiBtZW1iZXIuc2VsZWN0ZWQgPSB0cnVlKTtcbiAgfVxuXG4gIGRlc2VsZWN0QWxsKCkge1xuICAgICAgdGhpcy5hbGxTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5tZW1iZXJzLmZvckVhY2gobWVtYmVyID0+IG1lbWJlci5zZWxlY3RlZCA9IGZhbHNlKTtcbiAgfVxuXG4gIHVwZGF0ZVByb3BzKCkge1xuICAgIGNvbnN0IGhwID0gdGhpcy5tZW1iZXJzLnJlZHVjZSgocHJldiwgbWVtYmVyKSA9PiBwcmV2ICsgbWVtYmVyLmhwLCAwKTsgICBcbiAgICB0aGlzLmZsdWVudFZhbHVlID0gaHAgKiB0aGlzLm9uZVVuaXRGbHVlbnQ7XG4gICAgdGhpcy5jZW50ZXIgPSBVdGlscy5jYWxjdWxhdGVDZW50ZXJQb2ludCh0aGlzLm1lbWJlcnMpIFxuICAgIGlmICh0aGlzLmNlbnRlci54IDwgMCkgeyAvLyBUT0RPOiBpdCBuZXZlciBzaG91bGQgaGFwcGVuZCFcbiAgICAgIHRoaXMuY2VudGVyLnggPSAwO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jZW50ZXIueCA+PSB3aW5kb3cubWFwV2lkdGgpIHsgLy8gVE9ETzogaXQgbmV2ZXIgc2hvdWxkIGhhcHBlbmQhXG4gICAgICB0aGlzLmNlbnRlci54ID0gd2luZG93Lm1hcFdpZHRoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jZW50ZXIueSA8IDApIHtcbiAgICAgIHRoaXMuY2VudGVyLnkgPSAwOyAvLyBUT0RPOiBpdCBuZXZlciBzaG91bGQgaGFwcGVuZCFcbiAgICB9IGVsc2UgaWYgKHRoaXMuY2VudGVyLnkgPj0gd2luZG93Lm1hcEhlaWdodCkgeyAvLyBUT0RPOiBpdCBuZXZlciBzaG91bGQgaGFwcGVuZCFcbiAgICAgIHRoaXMuY2VudGVyLnkgPSB3aW5kb3cubWFwSGVpZ2h0IC0gMTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVTdGF5aW5nU3RhdHVzKCkge1xuICAgIGNvbnN0IHNxdWFkc0lzTW92aW5nID0gdGhpcy5tZW1iZXJzLnJlZHVjZSgocmVzdWx0LCB1bml0KSA9PiBcbiAgICAgIHJlc3VsdCA/IHJlc3VsdCA6ICFVdGlscy5vYmpTdGF5aW5nKHVuaXQpLCBmYWxzZSk7XG4gICAgLy8gdGhpcy5pc1N0YXlpbmcgPSB0aGlzLm1lbWJlcnMuZXZlcnkodW5pdCA9PiBVdGlscy5vYmpTdGF5aW5nKHVuaXQpKTtcbiAgICB0aGlzLmlzU3RheWluZyA9ICFzcXVhZHNJc01vdmluZztcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLm1lbWJlcnMuZm9yRWFjaChtZW1iZXIgPT4gbWVtYmVyLnVwZGF0ZSgpKVxuICB9XG5cbiAgYW5pbWF0ZSgpIHtcbiAgICB0aGlzLm1lbWJlcnMuZm9yRWFjaChtZW1iZXIgPT4gbWVtYmVyLmFuaW1hdGUoKSlcbiAgfVxuXG4gIHJlZ3JvdXBNZW1iZXJzKCkge1xuICAgIGNvbnN0IHRvb0ZhclVuaXRzID0gdGhpcy5tZW1iZXJzLmZpbHRlcih1bml0ID0+XG4gICAgICBVdGlscy5kaXModGhpcy5jZW50ZXIsIHVuaXQpID4gU0VUVElOR1MuTUFYX0RJU1RBTkNFX0JFVFdFRU5fU1FVQURfTUVNQkVSUylcblxuICAgIHRvb0ZhclVuaXRzLmZvckVhY2godW5pdCA9PiB7XG4gICAgICBpZiAoIXVuaXQuYWltIHx8ICdocCcgaW4gdW5pdC5haW0pIHtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBVdGlscy5hbmcodW5pdCwgdGhpcy5jZW50ZXIpXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gVXRpbHMuZGlzKHVuaXQsIHRoaXMuY2VudGVyKSAtIDE1MCAvLyAxNTAgZm9yIGdvb2QgbG9va2luZ1xuICAgICAgICB1bml0LnNldFRhcmdldFRvR28oe1xuICAgICAgICAgIHg6IE1hdGguc2luKGFuZ2xlKSAqIGRpc3RhbmNlICsgdW5pdC54LFxuICAgICAgICAgIHk6IC1NYXRoLmNvcyhhbmdsZSkgKiBkaXN0YW5jZSArIHVuaXQueSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLy8gdXBkYXRlQWltKCkge1xuICAvLyAgIGlmICghdGhpcy5haW0uaXNTdGF5aW5nKSB7XG4gIC8vICAgICBpZiAoVXRpbHMuZGlzKHRoaXMubWVtYmVyc1syXS5haW0sIHRoaXMuYWltLmNlbnRlcikgPiA0MDApIHsgLy8gQWltIG1vdmVzIG1vcmUgdGhhbiBhIGZldyBvZiBwaXhlbHNcbiAgLy8gICAgICAgY29uc3Qgc3F1YWRzV0l0aFRoZVNhbWVBaW0gPSB3aW5kb3cuYWxsU3F1YWRzW3RoaXMuZmFjdGlvbl0uZmlsdGVyKFxuICAvLyAgICAgICAgIHNxdWFkID0+IHNxdWFkLmFpbSA9PT0gdGhpcy5haW1cbiAgLy8gICAgICAgKVxuXG4gIC8vICAgICAgIHNxdWFkc1dJdGhUaGVTYW1lQWltLmZvckVhY2goc3F1YWQgPT4ge1xuXG4gIC8vICAgICAgIH0pXG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNxdWFkOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///236\n')},237:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _EffectsFactory = _interopRequireDefault(__webpack_require__(196));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar portalProperties = [{\n  portalEffect: {\n    x: 5,\n    y: 90,\n    width: 100,\n    height: 300,\n    skewY: 0\n  },\n  gateTop: {\n    x: 9,\n    y: 118,\n    anchorY: 1.2\n  },\n  gateBottom: {\n    x: 0,\n    y: 88,\n    anchorY: 0.9\n  }\n}, {\n  portalEffect: {\n    x: 7,\n    y: 45,\n    width: 220,\n    height: 220,\n    skewY: 0.5\n  },\n  gateTop: {\n    x: 28,\n    y: 68,\n    anchorY: 0.9\n  },\n  gateBottom: {\n    x: -30,\n    y: -37,\n    anchorY: 0.55\n  }\n}, {\n  portalEffect: {\n    x: -5,\n    y: 10,\n    width: 280,\n    height: 180,\n    skewY: 0\n  },\n  gateTop: {\n    x: 5,\n    y: 51,\n    anchorY: 2\n  },\n  gateBottom: {\n    x: 5,\n    y: 5,\n    anchorY: 0.9\n  }\n}, {\n  portalEffect: {\n    x: -10,\n    y: 40,\n    width: 220,\n    height: 220,\n    skewY: -0.5\n  },\n  gateTop: {\n    x: -18,\n    y: 66,\n    anchorY: 0.9\n  },\n  gateBottom: {\n    x: 28,\n    y: -48,\n    anchorY: 0.6\n  }\n}];\n\nvar getPortalSprite = function getPortalSprite(x, y, angle, parent) {\n  angle -= Math.PI / 8; // + Math.PI / 2;\n  // angle *=\n\n  angle = angle < 0 ? angle + Math.PI * 2 : angle > Math.PI * 2 ? angle - Math.PI * 2 : angle;\n\n  var _angle = Math.ceil(angle % (Math.PI * 2) / (Math.PI * 2 / 8)); // <0, 7>\n\n\n  var index = _angle % (8 / 2);\n\n  if (index === 1) {\n    index = 3;\n  } else if (index === 3) {\n    index = 1;\n  }\n\n  var gateBottom = new PIXI.Sprite(PIXI.Texture.fromFrame("gate".concat(index, "a.png")));\n  var gateTop = new PIXI.Sprite(PIXI.Texture.fromFrame("gate".concat(index, "b.png")));\n  var props = portalProperties[index];\n  gateTop.x = props.gateTop.x;\n  gateTop.y = props.gateTop.y;\n  gateBottom.x = props.gateBottom.x;\n  gateBottom.y = props.gateBottom.y;\n\n  var portalFX = _EffectsFactory.default.createPortalEffect(props.portalEffect.x, props.portalEffect.y);\n\n  portalFX.height = props.portalEffect.height;\n  portalFX.width = props.portalEffect.width;\n  portalFX.skew.set(0, props.portalEffect.skewY);\n  gateTop.anchor.set(0.5, props.gateTop.anchorY);\n  gateBottom.anchor.set(0.5, props.gateBottom.anchorY);\n  gateBottom.parentGroup = parent;\n  portalFX.parentGroup = parent;\n  gateTop.parentGroup = parent;\n  window.app.stage.addChild(gateBottom);\n  window.app.stage.addChild(portalFX);\n  window.app.stage.addChild(gateTop);\n  portalFX.alpha = 0.9;\n  [gateBottom, portalFX, gateTop].map(function (child) {\n    child.x += x;\n    child.y += y;\n  });\n  return portalFX;\n};\n\nvar _default = getPortalSprite;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmFjdG9yeS9nZXRQb3J0YWxTcHJpdGUudHM/ZTljYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQSxJQUFNLGdCQUFnQixHQUFHLENBQ3JCO0FBQ0ksY0FBWSxFQUFFO0FBQUUsS0FBQyxFQUFFLENBQUw7QUFBUSxLQUFDLEVBQUUsRUFBWDtBQUFlLFNBQUssRUFBRSxHQUF0QjtBQUEyQixVQUFNLEVBQUUsR0FBbkM7QUFBd0MsU0FBSyxFQUFFO0FBQS9DLEdBRGxCO0FBRUksU0FBTyxFQUFFO0FBQUUsS0FBQyxFQUFFLENBQUw7QUFBUSxLQUFDLEVBQUUsR0FBWDtBQUFnQixXQUFPLEVBQUU7QUFBekIsR0FGYjtBQUdJLFlBQVUsRUFBRTtBQUFFLEtBQUMsRUFBRSxDQUFMO0FBQVEsS0FBQyxFQUFFLEVBQVg7QUFBZSxXQUFPLEVBQUU7QUFBeEI7QUFIaEIsQ0FEcUIsRUFNckI7QUFDSSxjQUFZLEVBQUU7QUFBRSxLQUFDLEVBQUUsQ0FBTDtBQUFRLEtBQUMsRUFBRSxFQUFYO0FBQWUsU0FBSyxFQUFFLEdBQXRCO0FBQTJCLFVBQU0sRUFBRSxHQUFuQztBQUF3QyxTQUFLLEVBQUU7QUFBL0MsR0FEbEI7QUFFSSxTQUFPLEVBQUU7QUFBRSxLQUFDLEVBQUUsRUFBTDtBQUFTLEtBQUMsRUFBRSxFQUFaO0FBQWdCLFdBQU8sRUFBRTtBQUF6QixHQUZiO0FBR0ksWUFBVSxFQUFFO0FBQUUsS0FBQyxFQUFFLENBQUMsRUFBTjtBQUFVLEtBQUMsRUFBRSxDQUFDLEVBQWQ7QUFBa0IsV0FBTyxFQUFFO0FBQTNCO0FBSGhCLENBTnFCLEVBV3JCO0FBQ0ksY0FBWSxFQUFFO0FBQUUsS0FBQyxFQUFFLENBQUMsQ0FBTjtBQUFTLEtBQUMsRUFBRSxFQUFaO0FBQWdCLFNBQUssRUFBRSxHQUF2QjtBQUE0QixVQUFNLEVBQUUsR0FBcEM7QUFBeUMsU0FBSyxFQUFFO0FBQWhELEdBRGxCO0FBRUksU0FBTyxF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QUFsQixFQUFxQixLQUFLLENBQUMsWUFBTixDQUFtQixLQUF4QztBQUVBLFNBQU8sQ0FBQyxNQUFSLENBQWUsR0FBZixDQUFtQixHQUFuQixFQUF3QixLQUFLLENBQUMsT0FBTixDQUFjLE9BQXRDO0FBQ0EsWUFBVSxDQUFDLE1BQVgsQ0FBa0IsR0FBbEIsQ0FBc0IsR0FBdEIsRUFBMkIsS0FBSyxDQUFDLFVBQU4sQ0FBaUIsT0FBNUM7QUFFQSxZQUFVLENBQUMsV0FBWCxHQUF5QixNQUF6QjtBQUNBLFVBQVEsQ0FBQyxXQUFULEdBQXVCLE1BQXZCO0FBQ0EsU0FBTyxDQUFDLFdBQVIsR0FBc0IsTUFBdEI7QUFFQSxRQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsUUFBakIsQ0FBMEIsVUFBMUI7QUFDQSxRQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsUUFBakIsQ0FBMEIsUUFBMUI7QUFDQSxRQUFNLENBQUMsR0FBUCxDQUFXLEtBQVgsQ0FBaUIsUUFBakIsQ0FBMEIsT0FBMUI7QUFFQSxVQUFRLENBQUMsS0FBVCxHQUFpQixHQUFqQjtBQUVBLEdBQUMsVUFBRCxFQUFhLFFBQWIsRUFBdUIsT0FBdkIsRUFBZ0MsR0FBaEMsQ0FBb0MsZUFBSyxFQUFHO0FBQ3hDLFNBQUssQ0FBQyxDQUFOLElBQVcsQ0FBWDtBQUNBLFNBQUssQ0FBQyxDQUFOLElBQVcsQ0FBWDtBQUNILEdBSEQ7QUFLQSxTQUFPLFFBQVA7QUFDSCxDQWhERDs7ZUFvRGUsZSIsImZpbGUiOiIyMzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRWZmZWN0RmFjdG9yeSBmcm9tICd+L2VmZmVjdHMvL0VmZmVjdHNGYWN0b3J5JztcblxuY29uc3QgcG9ydGFsUHJvcGVydGllcyA9IFtcbiAgICB7XG4gICAgICAgIHBvcnRhbEVmZmVjdDogeyB4OiA1LCB5OiA5MCwgd2lkdGg6IDEwMCwgaGVpZ2h0OiAzMDAsIHNrZXdZOiAwIH0sXG4gICAgICAgIGdhdGVUb3A6IHsgeDogOSwgeTogMTE4LCBhbmNob3JZOiAxLjIgfSxcbiAgICAgICAgZ2F0ZUJvdHRvbTogeyB4OiAwLCB5OiA4OCwgYW5jaG9yWTogMC45IH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBvcnRhbEVmZmVjdDogeyB4OiA3LCB5OiA0NSwgd2lkdGg6IDIyMCwgaGVpZ2h0OiAyMjAsIHNrZXdZOiAwLjUgfSxcbiAgICAgICAgZ2F0ZVRvcDogeyB4OiAyOCwgeTogNjgsIGFuY2hvclk6IDAuOSB9LFxuICAgICAgICBnYXRlQm90dG9tOiB7IHg6IC0zMCwgeTogLTM3LCBhbmNob3JZOiAwLjU1IH0sICAgIFxuICAgIH0sXG4gICAge1xuICAgICAgICBwb3J0YWxFZmZlY3Q6IHsgeDogLTUsIHk6IDEwLCB3aWR0aDogMjgwLCBoZWlnaHQ6IDE4MCwgc2tld1k6IDAgfSxcbiAgICAgICAgZ2F0ZVRvcDogeyB4OiA1LCB5OiA1MSwgYW5jaG9yWTogMiB9LFxuICAgICAgICBnYXRlQm90dG9tOiB7IHg6IDUsIHk6IDUsIGFuY2hvclk6IDAuOSB9LCAgICAgXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBvcnRhbEVmZmVjdDogeyB4OiAtMTAsIHk6IDQwLCB3aWR0aDogMjIwLCBoZWlnaHQ6IDIyMCwgc2tld1k6IC0wLjUgfSxcbiAgICAgICAgZ2F0ZVRvcDogeyB4OiAtMTgsIHk6IDY2LCBhbmNob3JZOiAwLjkgfSxcbiAgICAgICAgZ2F0ZUJvdHRvbTogeyB4OiAyOCwgeTogLTQ4LCBhbmNob3JZOiAwLjYgfSwgICAgXG4gICAgfSxcbl1cblxuY29uc3QgZ2V0UG9ydGFsU3ByaXRlID0gKHgsIHksIGFuZ2xlLCBwYXJlbnQ6IGFueSk6IFBJWEkuQ29udGFpbmVyID0+IHtcbiAgICBhbmdsZSAtPSBNYXRoLlBJIC8gODsvLyArIE1hdGguUEkgLyAyO1xuICAgIC8vIGFuZ2xlICo9XG4gICAgYW5nbGUgPSBhbmdsZSA8IDAgPyBhbmdsZSArIE1hdGguUEkgKiAyIDogKGFuZ2xlID4gTWF0aC5QSSAqIDIgPyBhbmdsZSAtIE1hdGguUEkgKiAyIDogYW5nbGUpO1xuICAgIGNvbnN0IF9hbmdsZSA9IE1hdGguY2VpbCgoYW5nbGUgJSAoTWF0aC5QSSAqIDIpKSAvICgoTWF0aC5QSSAqIDIpIC8gOCkpOyAvLyA8MCwgNz5cbiAgICBsZXQgaW5kZXggPSBfYW5nbGUgJSAoOCAvIDIpO1xuICAgIGlmKGluZGV4ID09PSAxKSB7XG4gICAgICAgIGluZGV4ID0gMztcbiAgICB9IGVsc2UgaWYoaW5kZXggPT09IDMpIHtcbiAgICAgICAgaW5kZXggPSAxO1xuICAgIH1cbiAgICBjb25zdCBnYXRlQm90dG9tOmFueSA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLlRleHR1cmUuZnJvbUZyYW1lKGBnYXRlJHtpbmRleH1hLnBuZ2ApKTtcbiAgICBjb25zdCBnYXRlVG9wOmFueSA9IG5ldyBQSVhJLlNwcml0ZShQSVhJLlRleHR1cmUuZnJvbUZyYW1lKGBnYXRlJHtpbmRleH1iLnBuZ2ApKTtcblxuICAgIGNvbnN0IHByb3BzID0gcG9ydGFsUHJvcGVydGllc1tpbmRleF07XG5cbiAgICBnYXRlVG9wLnggPSBwcm9wcy5nYXRlVG9wLng7XG4gICAgZ2F0ZVRvcC55ID0gcHJvcHMuZ2F0ZVRvcC55O1xuICAgIGdhdGVCb3R0b20ueCA9IHByb3BzLmdhdGVCb3R0b20ueDtcbiAgICBnYXRlQm90dG9tLnkgPSBwcm9wcy5nYXRlQm90dG9tLnk7XG4gICAgXG5cbiAgIFxuICAgIGNvbnN0IHBvcnRhbEZYOmFueSA9IEVmZmVjdEZhY3RvcnkuY3JlYXRlUG9ydGFsRWZmZWN0KHByb3BzLnBvcnRhbEVmZmVjdC54LCBwcm9wcy5wb3J0YWxFZmZlY3QueSk7XG5cbiAgICBwb3J0YWxGWC5oZWlnaHQgPSBwcm9wcy5wb3J0YWxFZmZlY3QuaGVpZ2h0O1xuICAgIHBvcnRhbEZYLndpZHRoID0gcHJvcHMucG9ydGFsRWZmZWN0LndpZHRoO1xuICAgIHBvcnRhbEZYLnNrZXcuc2V0KDAsIHByb3BzLnBvcnRhbEVmZmVjdC5za2V3WSk7XG5cbiAgICBnYXRlVG9wLmFuY2hvci5zZXQoMC41LCBwcm9wcy5nYXRlVG9wLmFuY2hvclkpO1xuICAgIGdhdGVCb3R0b20uYW5jaG9yLnNldCgwLjUsIHByb3BzLmdhdGVCb3R0b20uYW5jaG9yWSk7XG5cbiAgICBnYXRlQm90dG9tLnBhcmVudEdyb3VwID0gcGFyZW50O1xuICAgIHBvcnRhbEZYLnBhcmVudEdyb3VwID0gcGFyZW50O1xuICAgIGdhdGVUb3AucGFyZW50R3JvdXAgPSBwYXJlbnQ7ICBcblxuICAgIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQoZ2F0ZUJvdHRvbSk7XG4gICAgd2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChwb3J0YWxGWCk7XG4gICAgd2luZG93LmFwcC5zdGFnZS5hZGRDaGlsZChnYXRlVG9wKTtcblxuICAgIHBvcnRhbEZYLmFscGhhID0gMC45O1xuXG4gICAgW2dhdGVCb3R0b20sIHBvcnRhbEZYLCBnYXRlVG9wXS5tYXAoY2hpbGQgPT4ge1xuICAgICAgICBjaGlsZC54ICs9IHg7XG4gICAgICAgIGNoaWxkLnkgKz0geTtcbiAgICB9KTtcblxuICAgIHJldHVybiBwb3J0YWxGWDtcbn1cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGdldFBvcnRhbFNwcml0ZTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///237\n')},238:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = void 0;\n\nvar _Utils = _interopRequireDefault(__webpack_require__(194));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ResPoint =\n/*#__PURE__*/\nfunction () {\n  function ResPoint(x, y, parent) {\n    _classCallCheck(this, ResPoint);\n\n    this.graphics = new PIXI.Sprite(PIXI.loader.resources[\'assets/map_center.png\'].texture);\n    this.graphics.anchor.set(0.5, 0);\n    this.graphics.scale.set(0.3, 0.24);\n    this.graphics.x = x;\n    this.graphics.y = y - this.graphics.height / 2;\n    this.graphics.parentGroup = parent;\n    var progressBar = new PIXI.Container();\n    window.app.stage.addChild(progressBar);\n    this.progressLine = new PIXI.Graphics();\n    this.progressLine.beginFill(0xCCCCCC);\n    this.progressLine.drawRect(0, 0, 100, 20);\n    this.progressLine.y = y - 10;\n    this.progressLine.x = x - 50;\n    this.progressLine.width = 0;\n    this.progressLine.alpha = 0.75;\n    var progressBorder = new PIXI.Graphics();\n    progressBorder.lineStyle(2, 0x888888, 1);\n    progressBorder.drawRect(x - 50, y - 10, 100, 20);\n    progressBar.addChild(this.progressLine, progressBorder);\n    window.app.stage.addChild(this.graphics, progressBar); // graphics.\n\n    this.owner = -1;\n    this.radius = this.graphics.width / 2;\n    this.progress = 0;\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(ResPoint, [{\n    key: "update",\n    value: function update() {\n      var _this = this;\n\n      var allNearSquads = [];\n      window.allSquads.forEach(function (fact, idx) {\n        if (idx !== _this.owner) {\n          fact.forEach(function (squad) {\n            if (_Utils.default.dis(squad.center, _this) < _this.radius) {\n              allNearSquads.push(idx);\n            }\n          });\n        }\n      });\n\n      if (allNearSquads.length === 0) {\n        if (this.progress < 100 && this.progress > 0) {\n          this.owner === -1 ? this.progress-- : this.progress++;\n          this.progressLine.width = this.progress;\n\n          if (this.progress === 0) {\n            this.graphics.tint = 0xFFFFFF;\n            this.owner = -1;\n          }\n        }\n\n        return;\n      }\n\n      var faction = allNearSquads.reduce(function (result, fact) {\n        return result !== fact ? -1 : result;\n      }, allNearSquads[0]);\n\n      if (faction !== -1) {\n        if (this.owner === -1) {\n          this.progress++;\n          this.progressLine.width = this.progress;\n\n          if (this.progress === 100) {\n            this.owner = faction;\n            this.graphics.tint = faction === 0 ? 0xAAAAFF : 0xFFAAAA;\n          }\n        } else {\n          this.progress--;\n          this.progressLine.width = this.progress;\n\n          if (this.progress === 0) {\n            this.owner = -1;\n            this.graphics.tint = 0xFFFFFF;\n          }\n        }\n      }\n    }\n  }]);\n\n  return ResPoint;\n}();\n\nvar _default = ResPoint;\nexports.default = _default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9yZXNQb2ludC50cz9iMzNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7Ozs7OztJQUVNLFE7OztBQVNKLG9CQUFZLENBQVosRUFBdUIsQ0FBdkIsRUFBa0MsTUFBbEMsRUFBNkM7QUFBQTs7QUFDM0MsU0FBSyxRQUFMLEdBQWdCLElBQUksSUFBSSxDQUFDLE1BQVQsQ0FBZ0IsSUFBSSxDQUFDLE1BQUwsQ0FBWSxTQUFaLENBQXNCLHVCQUF0QixFQUErQyxPQUEvRCxDQUFoQjtBQUNBLFNBQUssUUFBTCxDQUFjLE1BQWQsQ0FBcUIsR0FBckIsQ0FBeUIsR0FBekIsRUFBOEIsQ0FBOUI7QUFDQSxTQUFLLFFBQUwsQ0FBYyxLQUFkLENBQW9CLEdBQXBCLENBQXdCLEdBQXhCLEVBQTZCLElBQTdCO0FBQ0EsU0FBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixDQUFsQjtBQUNBLFNBQUssUUFBTCxDQUFjLENBQWQsR0FBa0IsQ0FBQyxHQUFHLEtBQUssUUFBTCxDQUFjLE1BQWQsR0FBdUIsQ0FBN0M7QUFFQSxTQUFLLFFBQUwsQ0FBYyxXQUFkLEdBQTRCLE1BQTVCO0FBRUEsUUFBTSxXQUFXLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBVCxFQUFwQjtBQUNBLFVBQU0sQ0FBQyxHQUFQLENBQVcsS0FBWCxDQUFpQixRQUFqQixDQUEwQixXQUExQjtBQUVBLFNBQUssWUFBTCxHQUFvQixJQUFJLElBQUksQ0FBQyxRQUFULEVBQXBCO0FBQ0EsU0FBSyxZQUFMLENBQWtCLFNBQWxCLENBQTRCLFFBQTVCO0FBQ0EsU0FBSyxZQUFMLENBQWtCLFFBQWxCLENBQTJCLENBQTNCLEVBQThCLENBQTlCLEVBQWlDLEdBQWpDLEVBQXNDLEVBQXRDO0FBQ0EsU0FBSyxZQUFMLENBQWtCLENBQWxCLEdBQXNCLENBQUMsR0FBRyxFQUExQjtBQUNBLFNBQUssWUFBTCxDQUFrQixDQUFsQixHQUFzQixDQUFDLEdBQUcs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QUFMLEtBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCLGlCQUFLLEtBQUwsR0FBYSxDQUFDLENBQWQ7QUFDQSxpQkFBSyxRQUFMLENBQWMsSUFBZCxHQUFxQixRQUFyQjtBQUNEO0FBQ0Y7QUFDRjtBQUNGOzs7Ozs7ZUFHWSxRIiwiZmlsZSI6IjIzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVdGlscyBmcm9tICdVdGlscyc7XG5cbmNsYXNzIFJlc1BvaW50IHtcbiAgcHVibGljIHg6IG51bWJlclxuICBwdWJsaWMgeTogbnVtYmVyXG4gIHB1YmxpYyBvd25lcjogbnVtYmVyXG4gIHByaXZhdGUgZ3JhcGhpY3M6IGFueVxuICBwcml2YXRlIHByb2dyZXNzTGluZTogUElYSS5HcmFwaGljc1xuICBwcml2YXRlIHJhZGl1czogbnVtYmVyXG4gIHByaXZhdGUgcHJvZ3Jlc3M6IG51bWJlclxuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCBwYXJlbnQ6IGFueSkge1xuICAgIHRoaXMuZ3JhcGhpY3MgPSBuZXcgUElYSS5TcHJpdGUoUElYSS5sb2FkZXIucmVzb3VyY2VzWydhc3NldHMvbWFwX2NlbnRlci5wbmcnXS50ZXh0dXJlKTtcbiAgICB0aGlzLmdyYXBoaWNzLmFuY2hvci5zZXQoMC41LCAwKTtcbiAgICB0aGlzLmdyYXBoaWNzLnNjYWxlLnNldCgwLjMsIDAuMjQpO1xuICAgIHRoaXMuZ3JhcGhpY3MueCA9IHg7XG4gICAgdGhpcy5ncmFwaGljcy55ID0geSAtIHRoaXMuZ3JhcGhpY3MuaGVpZ2h0IC8gMjtcblxuICAgIHRoaXMuZ3JhcGhpY3MucGFyZW50R3JvdXAgPSBwYXJlbnQ7XG5cbiAgICBjb25zdCBwcm9ncmVzc0JhciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQocHJvZ3Jlc3NCYXIpO1xuXG4gICAgdGhpcy5wcm9ncmVzc0xpbmUgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgIHRoaXMucHJvZ3Jlc3NMaW5lLmJlZ2luRmlsbCgweENDQ0NDQyk7XG4gICAgdGhpcy5wcm9ncmVzc0xpbmUuZHJhd1JlY3QoMCwgMCwgMTAwLCAyMCk7XG4gICAgdGhpcy5wcm9ncmVzc0xpbmUueSA9IHkgLSAxMDtcbiAgICB0aGlzLnByb2dyZXNzTGluZS54ID0geCAtIDUwO1xuICAgIHRoaXMucHJvZ3Jlc3NMaW5lLndpZHRoID0gMDtcbiAgICB0aGlzLnByb2dyZXNzTGluZS5hbHBoYSA9IDAuNzU7XG5cbiAgICBjb25zdCBwcm9ncmVzc0JvcmRlciA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgcHJvZ3Jlc3NCb3JkZXIubGluZVN0eWxlKDIsIDB4ODg4ODg4LCAxKTtcbiAgICBwcm9ncmVzc0JvcmRlci5kcmF3UmVjdCh4IC0gNTAsIHkgLSAxMCwgMTAwLCAyMCk7XG5cbiAgICBwcm9ncmVzc0Jhci5hZGRDaGlsZCh0aGlzLnByb2dyZXNzTGluZSwgcHJvZ3Jlc3NCb3JkZXIpO1xuICAgIHdpbmRvdy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5ncmFwaGljcywgcHJvZ3Jlc3NCYXIpO1xuICAgIC8vIGdyYXBoaWNzLlxuXG4gICAgdGhpcy5vd25lciA9IC0xO1xuICAgIHRoaXMucmFkaXVzID0gdGhpcy5ncmFwaGljcy53aWR0aCAvIDI7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGFsbE5lYXJTcXVhZHM6IG51bWJlcltdID0gW107XG4gICAgd2luZG93LmFsbFNxdWFkcy5mb3JFYWNoKCAoZmFjdCwgaWR4KSA9PiB7XG4gICAgICBpZihpZHggIT09IHRoaXMub3duZXIpIHtcbiAgICAgICAgZmFjdC5mb3JFYWNoKCBzcXVhZCA9PiB7XG4gICAgICAgICAgaWYoVXRpbHMuZGlzKHNxdWFkLmNlbnRlciwgdGhpcykgPCB0aGlzLnJhZGl1cykge1xuICAgICAgICAgICAgYWxsTmVhclNxdWFkcy5wdXNoKGlkeCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGFsbE5lYXJTcXVhZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5wcm9ncmVzcyA8IDEwMCAmJiB0aGlzLnByb2dyZXNzID4gMCkge1xuICAgICAgICB0aGlzLm93bmVyID09PSAtMSA/IHRoaXMucHJvZ3Jlc3MtLSA6IHRoaXMucHJvZ3Jlc3MrKztcbiAgICAgICAgdGhpcy5wcm9ncmVzc0xpbmUud2lkdGggPSB0aGlzLnByb2dyZXNzO1xuICAgICAgICBpZiAodGhpcy5wcm9ncmVzcyA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZ3JhcGhpY3MudGludCA9IDB4RkZGRkZGO1xuICAgICAgICAgIHRoaXMub3duZXIgPSAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZhY3Rpb24gPSBhbGxOZWFyU3F1YWRzLnJlZHVjZSgocmVzdWx0LCBmYWN0KSA9PlxuICAgICAgICByZXN1bHQgIT09IGZhY3QgPyAtMSA6IHJlc3VsdCwgYWxsTmVhclNxdWFkc1swXSk7XG5cbiAgICBpZihmYWN0aW9uICE9PSAtMSkge1xuICAgICAgaWYgKHRoaXMub3duZXIgPT09IC0xKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MrKztcbiAgICAgICAgdGhpcy5wcm9ncmVzc0xpbmUud2lkdGggPSB0aGlzLnByb2dyZXNzO1xuXG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09PSAxMDApIHtcbiAgICAgICAgICB0aGlzLm93bmVyID0gZmFjdGlvbjtcbiAgICAgICAgICB0aGlzLmdyYXBoaWNzLnRpbnQgPSBmYWN0aW9uID09PSAwID8gMHhBQUFBRkYgOiAweEZGQUFBQTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcy0tO1xuICAgICAgICB0aGlzLnByb2dyZXNzTGluZS53aWR0aCA9IHRoaXMucHJvZ3Jlc3M7XG4gICAgICAgIGlmICh0aGlzLnByb2dyZXNzID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5vd25lciA9IC0xO1xuICAgICAgICAgIHRoaXMuZ3JhcGhpY3MudGludCA9IDB4RkZGRkZGO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlc1BvaW50OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///238\n')},239:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "method", function() { return method; });\n/* harmony import */ var _rust_webpack_bg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(207);\n/* tslint:disable */\n\n/**\n* @param {number} arg0\n* @returns {number}\n*/\n\nfunction method(arg0) {\n  return _rust_webpack_bg__WEBPACK_IMPORTED_MODULE_0__["method"](arg0);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jcmF0ZS9wa2cvcnVzdF93ZWJwYWNrLmpzP2FhOTQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7OztBQUlNLFNBQVUsTUFBVixDQUFpQixJQUFqQixFQUFxQjtBQUN2QixTQUFPLHdEQUFZLElBQVosQ0FBUDtBQUNIIiwiZmlsZSI6IjIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlICovXG5pbXBvcnQgKiBhcyB3YXNtIGZyb20gJy4vcnVzdF93ZWJwYWNrX2JnJztcblxuLyoqXG4qIEBwYXJhbSB7bnVtYmVyfSBhcmcwXG4qIEByZXR1cm5zIHtudW1iZXJ9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIG1ldGhvZChhcmcwKSB7XG4gICAgcmV0dXJuIHdhc20ubWV0aG9kKGFyZzApO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///239\n')},240:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.default = _default;\n\nfunction _default(testFunction, loop) {\n  var sum = 0;\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  for (var i = 0; i < loop; i++) {\n    var start = new Date(),\n        x = testFunction.apply(void 0, args),\n        end = new Date();\n    sum += end - start;\n  }\n\n  sum /= loop;\n  console.log(sum);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy90ZXN0aW5nRnVuY3Rpb24uanM/ZmQzZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWMsa0JBQVcsWUFBWCxFQUF5QixJQUF6QixFQUFzQztBQUNuRCxNQUFJLEdBQUcsR0FBRyxDQUFWOztBQURtRCxvQ0FBSixJQUFJO0FBQUosUUFBSTtBQUFBOztBQUVuRCxPQUFJLElBQUksQ0FBQyxHQUFHLENBQVosRUFBZSxDQUFDLEdBQUcsSUFBbkIsRUFBeUIsQ0FBQyxFQUExQixFQUE4QjtBQUM3QixRQUFJLEtBQUssR0FBRyxJQUFJLElBQUosRUFBWjtBQUFBLFFBQ0MsQ0FBQyxHQUFHLFlBQVksTUFBWixTQUFnQixJQUFoQixDQURMO0FBQUEsUUFFQyxHQUFHLEdBQUksSUFBSSxJQUFKLEVBRlI7QUFHQSxPQUFHLElBQUksR0FBRyxHQUFHLEtBQWI7QUFDQTs7QUFDRCxLQUFHLElBQUksSUFBUDtBQUNBLFNBQU8sQ0FBQyxHQUFSLENBQVksR0FBWjtBQUNBIiwiZmlsZSI6IjI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh0ZXN0RnVuY3Rpb24sIGxvb3AsIC4uLmFyZ3MpIHtcblx0bGV0IHN1bSA9IDA7XG5cdGZvcihsZXQgaSA9IDA7IGkgPCBsb29wOyBpKyspIHtcblx0XHRsZXQgc3RhcnQgPSBuZXcgRGF0ZSgpLFxuXHRcdFx0eCA9IHRlc3RGdW5jdGlvbiguLi5hcmdzKSxcblx0XHRcdGVuZCA9ICBuZXcgRGF0ZSgpO1xuXHRcdHN1bSArPSBlbmQgLSBzdGFydDtcblx0fVxuXHRzdW0gLz0gbG9vcDtcblx0Y29uc29sZS5sb2coc3VtKTtcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///240\n')}}]);